(self.webpackChunkpia=self.webpackChunkpia||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>In,tb:()=>Xd,AFp:()=>Kd,ip1:()=>Hd,CZH:()=>Gd,hGG:()=>Gf,z2F:()=>Mf,sBO:()=>Ih,Sil:()=>hf,_Vd:()=>Hu,EJc:()=>nf,SBq:()=>Qu,qLn:()=>mi,vpe:()=>wd,gxx:()=>bo,tBr:()=>Xn,XFs:()=>O,GSi:()=>ka,OlP:()=>wn,zs3:()=>Lo,ZZ4:()=>mh,aQg:()=>yh,soG:()=>ef,LVF:()=>zd,YKP:()=>Rh,v3s:()=>Vf,h0i:()=>Nh,PXZ:()=>Rf,R0b:()=>pf,FiY:()=>tr,Lbi:()=>Jd,g9A:()=>Yd,n_E:()=>Ed,Qsj:()=>Xu,FYo:()=>Ju,JOm:()=>Ei,Tiy:()=>eh,q3G:()=>ti,tp0:()=>nr,EAV:()=>Zf,Rgc:()=>xh,dDg:()=>wf,DyG:()=>Tn,q4F:()=>rh,GfV:()=>nh,s_b:()=>Ph,ifc:()=>F,eFA:()=>Df,G48:()=>Of,Gpc:()=>f,f3M:()=>Qn,X6Q:()=>Af,_c5:()=>$f,VLi:()=>Tf,c2e:()=>tf,zSh:()=>Io,wAp:()=>Ac,vHH:()=>g,EiD:()=>Jr,mCW:()=>Pr,qzn:()=>Ir,JVY:()=>Tr,pB0:()=>kr,eBb:()=>Cr,L6k:()=>Sr,LAX:()=>xr,cg1:()=>Cc,Tjo:()=>zf,kL8:()=>xc,yhl:()=>Er,dqk:()=>q,sIi:()=>Wo,CqO:()=>Ba,QGY:()=>qa,F4k:()=>Za,zlt:()=>Hh,RDi:()=>kt,AaK:()=>u,z3N:()=>wr,qOj:()=>Uo,TTD:()=>bt,_Bn:()=>Bu,xp6:()=>_s,uIk:()=>ra,ekj:()=>wl,Suo:()=>Ld,Xpm:()=>J,lG2:()=>ot,Yz7:()=>w,cJS:()=>I,oAB:()=>rt,Yjl:()=>at,Y36:()=>Oa,_UZ:()=>Fa,BQk:()=>Ua,ynx:()=>Ma,qZA:()=>La,TgZ:()=>Pa,EpF:()=>ja,n5z:()=>hn,Ikx:()=>wc,LFG:()=>Kn,$8M:()=>fn,NdJ:()=>za,CRH:()=>Fd,oxw:()=>Wa,Hsn:()=>Ja,F$t:()=>Ya,Q6J:()=>Ra,iGM:()=>Dd,CHM:()=>Wt,LSH:()=>ri,kYT:()=>it,YNc:()=>Ia,_uU:()=>Ml,Oqu:()=>Ul,hij:()=>Vl,Gf:()=>Pd});var r=n(3559),i=n(7570),s=n(1784),o=n(1906),a=n(1055);function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function _(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function b(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,C)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(A))?t[x]:null}const C=l({"\u0275prov":l}),x=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function R(t){const e=N;return N=t,e}function D(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void _(u(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=M||j||U||V,Z={},B=[],z=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),H=l({"\u0275pipe":l}),G=l({"\u0275mod":l}),K=l({"\u0275loc":l}),W=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l});let Y=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Y++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function X(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(tt),r.pipeDefs=()=>n.map(et)}function tt(t){return lt(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[H]||null}(t)}const nt={};function rt(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function it(t,e){return P(()=>{const n=ct(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function st(t,e){if(null==t)return Z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[z]||null}function ct(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const ut=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(W)?t[W]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),It}function It(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new _t(l&&l.currentValue,e,o===Z),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;const St="http://www.w3.org/2000/svg",Ct="http://www.w3.org/1998/MathML/";let xt;function kt(t){xt=t}function At(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Ot(t){return!!t.listen}const Nt={createRenderer:(t,e)=>At()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Rt(e[t])}function Pt(t,e){return Rt(e[t.index])}function Lt(t,e){return t.data[e]}function Ft(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function jt(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:_e(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function $t(){Bt.bindingsEnabled=!0}function Ht(){Bt.bindingsEnabled=!1}function Gt(){return Bt.lFrame.lView}function Kt(){return Bt.lFrame.tView}function Wt(t){return Bt.lFrame.contextLView=t,t[8]}function Qt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Bt.lFrame.currentTNode}function Jt(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function te(){return Bt.lFrame.isParent}function ee(){Bt.lFrame.isParent=!1}function ne(){return Bt.isInCheckNoChangesMode}function re(t){Bt.isInCheckNoChangesMode=t}function ie(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return Bt.lFrame.bindingIndex}function oe(t){return Bt.lFrame.bindingIndex=t}function ae(){return Bt.lFrame.bindingIndex++}function le(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ce(t){Bt.lFrame.inI18n=t}function ue(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,he(e)}function he(t){Bt.lFrame.currentDirectiveIndex=t}function de(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function fe(){return Bt.lFrame.currentQueryIndex}function pe(t){Bt.lFrame.currentQueryIndex=t}function me(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ge(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=me(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ve();return r.currentTNode=e,r.lView=t,!0}function ye(t){const e=ve(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ve(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?_e(t):e}function _e(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function be(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const we=be;function Ie(){const t=be();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(){return Bt.lFrame.selectedIndex}function Te(t){Bt.lFrame.selectedIndex=t}function Se(){const t=Bt.lFrame;return Lt(t.tView,t.selectedIndex)}function Ce(){Bt.lFrame.currentNamespace=St}function xe(){Bt.lFrame.currentNamespace=Ct}function ke(){Bt.lFrame.currentNamespace=null}function Ae(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){De(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Pe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Pe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Le=-1;class Fe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Me(t,e,n){const r=Ot(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Ve(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ue(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function qe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ze(t){return t!==Le}function Be(t){return 32767&t}function ze(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let $e=!0;function He(t){const e=$e;return $e=t,e}let Ge=0;function Ke(t,e){const n=Qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,We(r.data,t),We(e,null),We(r.blueprint,null));const i=Ye(t,e),s=t.injectorIndex;if(Ze(i)){const t=Be(i),n=ze(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function We(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ye(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Le;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Le}function Je(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ge++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Xe(t,e,n){if(n&O.Optional)return t;_(e,"NodeInjector")}function tn(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&O.Optional):D(e,r,n&O.Optional)}finally{R(s)}}return Xe(r,e,n)}function en(t,e,n,r=O.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:rn:e}(n);if("function"==typeof s){if(!ge(e,t,r))return r&O.Host?Xe(i,n,r):tn(e,n,r,i);try{const t=s(r);if(null!=t||r&O.Optional)return t;_(n)}finally{we()}}else if("number"==typeof s){let i=null,o=Qe(t,e),a=Le,l=r&O.Host?e[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Ye(t,e):e[o+8],a!==Le&&cn(r,!1)?(i=e[1],o=Be(a),e=ze(a,e)):o=-1);-1!==o;){const t=e[1];if(ln(s,o,t.data)){const t=sn(o,e,n,i,r,l);if(t!==nn)return t}a=e[o+8],a!==Le&&cn(r,e[1].data[o+8]===l)&&ln(s,o,e)?(i=t,o=Be(a),e=ze(a,e)):o=-1}}}return tn(e,n,r,i)}const nn={};function rn(){return new un(Qt(),Gt())}function sn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=on(a,o,n,null==r?mt(a)&&$e:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==l?an(e,o,l,a):nn}function on(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&yt(t)&&t.type===n)return l}return null}function an(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Fe){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(s[n]));const a=He(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?R(o.injectImpl):null;ge(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&R(l),He(a),o.resolving=!1,we()}}return i}function ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&O.Self||t&O.Host&&e)}class un{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return en(this._tNode,this._lView,t,void 0,e)}}function hn(t){return P(()=>{const e=t.prototype.constructor,n=e[W]||dn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||dn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function dn(t){return m(t)?()=>{const e=dn(p(t));return e&&e()}:vt(t)}function fn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ue(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Qt(),t)}const pn="__annotations__",mn="__parameters__",gn="__prop__metadata__";function yn(t,e,n,r,i){return P(()=>{const s=vn(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(pn)?n[pn]:Object.defineProperty(n,pn,{value:[]})[pn]).push(e),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function vn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function _n(t,e,n){return P(()=>{const r=vn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(mn)?t[mn]:Object.defineProperty(t,mn,{value:[]})[mn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const bn=function(){return _n("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>fn(t)}))}();class wn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const In=new wn("AnalyzeForEntryComponents");function En(){const t=q.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Tn=Function;function Sn(t){return"function"==typeof t}function Cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Cn(r,e)):e!==t&&e.push(r)}return e}function xn(t,e){t.forEach(t=>Array.isArray(t)?xn(t,e):e(t))}function kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function An(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function On(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Nn(t,e,n){let r=Dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Rn(t,e){const n=Dn(t,e);if(n>=0)return t[1|n]}function Dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Pn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Mn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Un{constructor(t){this._reflect=t||q.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=On(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Pn.test(n)||Mn.test(n)||Ln.test(n)&&!Fn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Vn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(mn)&&t[mn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):On(t.length)}parameters(t){if(!Sn(t))return[];const e=jn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Vn(t.decorators):t.hasOwnProperty(pn)?t[pn]:null}annotations(t){if(!Sn(t))return[];const e=jn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Vn(e[t])}),n}return t.hasOwnProperty(gn)?t[gn]:null}propMetadata(t){if(!Sn(t))return{};const e=jn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Sn(t)&&this._ownPropMetadata(t,jn(t))||{}}hasLifecycleHook(t,e){return t instanceof Tn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${u(t)}`}resourceUri(t){return`./${u(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Vn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function jn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const qn={},Zn=/\n/gm,Bn="__source",zn=l({provide:String,useValue:l});let $n;function Hn(t){const e=$n;return $n=t,e}function Gn(t,e=O.Default){if(void 0===$n)throw new Error("inject() must be called from an injection context");return null===$n?D(t,void 0,e):$n.get(t,e&O.Optional?null:void 0,e)}function Kn(t,e=O.Default){return(N||Gn)(p(t),e)}function Wn(t){throw new Error("invalid")}const Qn=Kn;function Yn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Kn(t,n))}else e.push(Kn(r))}return e}function Jn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Xn=Jn(_n("Inject",t=>({token:t})),-1),tr=Jn(_n("Optional"),8),er=Jn(_n("Self"),2),nr=Jn(_n("SkipSelf"),4),rr=Jn(_n("Host"),1);let ir,sr,or=null;function ar(t){return lr((or=or||new Un).parameters(t))}function lr(t){return t.map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const r=t[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof tr||"Optional"===i.ngMetadataName)e.optional=!0;else if(r instanceof nr||"SkipSelf"===i.ngMetadataName)e.skipSelf=!0;else if(r instanceof er||"Self"===i.ngMetadataName)e.self=!0;else if(r instanceof rr||"Host"===i.ngMetadataName)e.host=!0;else if(r instanceof Xn)e.token=r.token;else if(r instanceof bn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");e.attribute=r.attributeName}else e.token=r}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}function cr(){if(void 0===ir&&(ir=null,q.trustedTypes))try{ir=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ir}function ur(t){var e;return(null===(e=cr())||void 0===e?void 0:e.createHTML(t))||t}function hr(){if(void 0===sr&&(sr=null,q.trustedTypes))try{sr=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return sr}function dr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createHTML(t))||t}function fr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createScript(t))||t}function pr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createScriptURL(t))||t}class mr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gr extends mr{getTypeName(){return"HTML"}}class yr extends mr{getTypeName(){return"Style"}}class vr extends mr{getTypeName(){return"Script"}}class _r extends mr{getTypeName(){return"URL"}}class br extends mr{getTypeName(){return"ResourceURL"}}function wr(t){return t instanceof mr?t.changingThisBreaksApplicationSecurity:t}function Ir(t,e){const n=Er(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Er(t){return t instanceof mr&&t.getTypeName()||null}function Tr(t){return new gr(t)}function Sr(t){return new yr(t)}function Cr(t){return new vr(t)}function xr(t){return new _r(t)}function kr(t){return new br(t)}function Ar(t){const e=new Nr(t);return function(){try{return!!(new window.DOMParser).parseFromString(ur(""),"text/html")}catch(t){return!1}}()?new Or(e):e}class Or{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ur(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Nr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ur(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=ur(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pr(t){return(t=String(t)).match(Rr)||t.match(Dr)?t:"unsafe:"+t}function Lr(t){return(t=String(t)).split(",").map(t=>Pr(t.trim())).join(", ")}function Fr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Mr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ur=Fr("area,br,col,hr,img,wbr"),Vr=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jr=Fr("rp,rt"),qr=Mr(jr,Vr),Zr=Mr(Ur,Mr(Vr,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mr(jr,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qr),Br=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zr=Fr("srcset"),$r=Mr(Br,zr,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=Fr("script,style,template");class Gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Zr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!$r.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Br[i]&&(s=Pr(s)),zr[i]&&(s=Lr(s)),this.buf.push(" ",e,'="',Qr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Zr.hasOwnProperty(e)&&!Ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Kr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Qr(t){return t.replace(/&/g,"&amp;").replace(Kr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yr;function Jr(t,e){let n=null;try{Yr=Yr||Ar(t);let r=e?String(e):"";n=Yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Yr.getInertBodyElement(r)}while(r!==s);return ur((new Gr).sanitizeChildren(Xr(n)||n))}finally{if(n){const t=Xr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Xr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ti=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ei(t){const e=ci();return e?dr(e.sanitize(ti.HTML,t)||""):Ir(t,"HTML")?dr(wr(t)):Jr(At(),y(t))}function ni(t){const e=ci();return e?e.sanitize(ti.STYLE,t)||"":Ir(t,"Style")?wr(t):y(t)}function ri(t){const e=ci();return e?e.sanitize(ti.URL,t)||"":Ir(t,"URL")?wr(t):Pr(y(t))}function ii(t){const e=ci();if(e)return pr(e.sanitize(ti.RESOURCE_URL,t)||"");if(Ir(t,"ResourceURL"))return pr(wr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function si(t){const e=ci();if(e)return fr(e.sanitize(ti.SCRIPT,t)||"");if(Ir(t,"Script"))return fr(wr(t));throw new Error("unsafe value used in a script context")}function oi(t){return ur(t[0])}function ai(t){return function(t){var e;return(null===(e=cr())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function li(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ii:ri}(e,n)(t)}function ci(){const t=Gt();return t&&t[12]}function ui(t,e){t.__ngContext__=e}function hi(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function di(t){return t.ngDebugContext}function fi(t){return t.ngOriginalError}function pi(t,...e){t.error(...e)}class mi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?di(t)?di(t):this._findContext(fi(t)):null}_findOriginalError(t){let e=fi(t);for(;e&&fi(e);)e=fi(e);return e}}const gi=/^>|^->|<!--|-->|--!>|<!-$/g,yi=/(<|>)/,vi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function _i(t){return t.ownerDocument.defaultView}function bi(t){return t.ownerDocument}function wi(t){return t.ownerDocument.body}function Ii(t){return t instanceof Function?t():t}var Ei=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ti;function Si(t,e){return Ti(t,e)}function Ci(t){const e=t[3];return ft(e)?e[3]:e}function xi(t){return Ai(t[13])}function ki(t){return Ai(t[4])}function Ai(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Oi(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Zi(e,n,a):qi(e,n,a,i||null,!0):1===t&&null!==n?qi(e,n,a,i||null,!0):2===t?ts(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Rt(n)&&Oi(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];ns(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ni(t,e){return Ot(t)?t.createText(e):t.createTextNode(e)}function Ri(t,e,n){Ot(t)?t.setValue(e,n):e.textContent=n}function Di(t,e){return t.createComment(function(t){return t.replace(gi,t=>t.replace(yi,"\u200b$1\u200b"))}(e))}function Pi(t,e,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Li(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zt(i,-1)),n.splice(r,1)}function Fi(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Li(s,r),e>0&&(t[n-1][4]=r[4]);const o=An(t,ht+e);ns(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mi(t,e){if(!(256&e[2])){const n=e[11];Ot(n)&&n.destroyNode&&ns(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ui(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Ui(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Ui(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ui(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Fe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Li(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Vi(t,e,n){return ji(t,e.parent,n)}function ji(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Pt(r,n)}function qi(t,e,n,r,i){Ot(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Zi(t,e,n){Ot(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,r,i){null!==r?qi(t,e,n,r,i):Zi(t,e,n)}function zi(t,e){return Ot(t)?t.parentNode(e):e.parentNode}function $i(t,e,n){return Ki(t,e,n)}function Hi(t,e,n){return 40&t.type?Pt(t,n):null}let Gi,Ki=Hi;function Wi(t,e){Ki=t,Gi=e}function Qi(t,e,n,r){const i=Vi(t,r,e),s=e[11],o=$i(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Bi(s,i,n[a],o,!1);else Bi(s,i,n,o,!1);void 0!==Gi&&Gi(s,r,e,n,i)}function Yi(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return Xi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Yi(t,n);{const n=t[e.index];return ft(n)?Xi(-1,n):Rt(n)}}if(32&n)return Si(e,t)()||Rt(t[e.index]);{const n=Ji(t,e);return null!==n?Array.isArray(n)?n[0]:Yi(Ci(t[16]),n):Yi(t,e.next)}}return null}function Ji(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Xi(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Yi(t,r)}return e[7]}function ts(t,e,n){const r=zi(t,e);r&&function(t,e,n,r){Ot(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function es(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&ui(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)es(t,e,n.child,r,i,s,!1),Oi(e,t,i,a,s);else if(32&l){const o=Si(n,r);let l;for(;l=o();)Oi(e,t,i,l,s);Oi(e,t,i,a,s)}else 16&l?rs(t,e,r,n,i,s):Oi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ns(t,e,n,r,i,s){es(n,r,t.firstChild,e,i,s,!1)}function rs(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Oi(e,t,i,a[l],s);else es(t,e,a,o[3],i,s,!0)}function is(t,e,n){Ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ss(t,e,n){Ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function os(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const as="ng-template";function ls(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==os(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function cs(t){return 4===t.type&&t.value!==as}function us(t,e,n){return e===(4!==t.type||n?t.value:as)}function hs(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ue(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!us(t,l,n)||""===l&&1===e.length){if(ds(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!ls(t.attrs,c,n)){if(ds(r))return!1;o=!0}continue}const u=fs(8&r?"class":l,i,cs(t),n);if(-1===u){if(ds(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==os(e,c,0)||2&r&&c!==t){if(ds(r))return!1;o=!0}}}}else{if(!o&&!ds(r)&&!ds(l))return!1;if(o&&ds(l))continue;o=!1,r=l|1&r}}return ds(r)||o}function ds(t){return 0==(1&t)}function fs(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ps(t,e,n=!1){for(let r=0;r<e.length;r++)if(hs(t,e[r],n))return!0;return!1}function ms(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function gs(t,e){return t?":not("+e.trim()+")":e}function ys(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ds(o)||(e+=gs(s,i),i=""),r=o,s=s||!ds(r);n++}return""!==i&&(e+=gs(s,i)),e}const vs={};function _s(t){bs(Kt(),Gt(),Ee()+t,ne())}function bs(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ne(e,r,0,n)}Te(n)}function ws(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function Es(t){return 2|t}function Ts(t){return(131068&t)>>2}function Ss(t,e){return-131069&t|e<<2}function Cs(t){return 1|t}function xs(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];pe(i),n.contentQueries(2,e[s],s)}}}function ks(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,qt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function As(t,e,n,r,i){let s=t.data[e];if(null===s)s=Os(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Jt();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Os(t,e,n,r,i){const s=Yt(),o=te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ns(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Rs(t,e,n){ye(e);try{const r=t.viewQuery;null!==r&&uo(1,r,n);const i=t.template;null!==i&&Ls(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xs(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)so(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ie()}}function Ds(t,e,n,r){const i=e[2];if(256==(256&i))return;ye(e);const s=ne();try{qt(e),oe(t.bindingStartIndex),null!==n&&Ls(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ne(e,n,0,null),Re(e,0)}if(function(t){for(let e=xi(t);null!==e;e=ki(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=xi(t);null!==e;e=ki(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&Ds(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&xs(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Ne(e,n,1),Re(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Te(~r);else{const i=r,s=n[++t],o=n[++t];ue(s,i),o(2,e[i])}}}finally{Te(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&uo(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Ne(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zt(e[3],-1))}finally{Ie()}}function Ps(t,e,n,r){const i=e[10],s=!ne(),o=Ut(e);try{s&&!o&&i.begin&&i.begin(),o&&Rs(t,e,r),Ds(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ls(t,e,n,r,i){const s=Ee(),o=2&r;try{Te(-1),o&&e.length>ut&&bs(t,e,ut,ne()),n(r,i)}finally{Te(s)}}function Fs(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ms(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ke(n,e),ui(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&Ys(e,n,r);const l=an(e,t,a,n);ui(l,e),null!==o&&to(0,a-i,l,r,0,o),s&&(Mt(n.index,e)[8]=l)}}(t,e,n,Pt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{Te(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];he(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Hs(r,i)}}finally{Te(-1),he(o)}}(t,e,n))}function Us(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Vs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=js(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function js(t,e,n,r,i,s,o,a,l,c){const u=ut+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:vs);return n}(u,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function qs(t,e,n,r){const i=fo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&po(t).push(r,i.length-1))}function Zs(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Bs(t,e,n,r,i,s,o,a){const l=Pt(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(yo(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Ot(s)?s.setProperty(l,r,i):Ve(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function zs(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ps(n,o.selectors,!1)&&(i||(i=[]),Je(Ke(n,e),t,o.type),yt(o)?(Gs(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ws(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=Ns(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Qs(t,n,e,l,c),Ks(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||cs(e)?null:eo(n,i);s.push(c),o=Zs(n,l,o),a=Zs(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function $s(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Hs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ks(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Ws(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qs(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new Fe(s,yt(i),null);t.blueprint[r]=o,n[r]=o,$s(t,e,0,r,Ns(t,n,i.hostVars,vs),i)}function Ys(t,e,n){const r=Pt(e,t),i=Vs(n),s=t[10],o=oo(t,ks(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Js(t,e,n,r,i,s){const o=Pt(t,e);Xs(e[11],o,s,t.value,n,r,i)}function Xs(t,e,n,r,i,s,o){if(null==s)Ot(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ot(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function to(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function eo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function no(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ro(t,e){const n=Mt(e,t);if(Vt(n)){const t=n[1];80&n[2]?Ds(t,n,t.template,n[8]):n[5]>0&&io(n)}}function io(t){for(let n=xi(t);null!==n;n=ki(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ds(t,e,t.template,e[8])}else e[5]>0&&io(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Vt(r)&&r[5]>0&&io(r)}}function so(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Rs(r,n,n[8])}function oo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ao(t){for(;t;){t[2]|=64;const e=Ci(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function lo(t,e,n){const r=e[10];r.begin&&r.begin();try{Ds(t,e,t.template,n)}catch(i){throw go(e,i),i}finally{r.end&&r.end()}}function co(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=hi(n),i=r[1];Ps(i,r,i.template,n)}}(t[8])}function uo(t,e,n){pe(0),e(t,n)}const ho=(()=>Promise.resolve(null))();function fo(t){return t[7]||(t[7]=[])}function po(t){return t.cleanup||(t.cleanup=[])}function mo(t,e,n){return(null===t||yt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function go(t,e){const n=t[9],r=n?n.get(mi,null):null;r&&r.handleError(e)}function yo(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function vo(t,e,n){const r=Dt(e,t);Ri(t[11],r,n)}function _o(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const bo=new wn("INJECTOR",-1);class wo{get(t,e=qn){if(e===qn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const Io=new wn("Set Injector scope."),Eo={},To={};let So;function Co(){return void 0===So&&(So=new wo),So}function xo(t,e=null,n=null,r){return new ko(t,n,e||Co(),r)}class ko{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&xn(e,n=>this.processProvider(n,t,e)),xn([t],t=>this.processInjectorType(t,[],i)),this.records.set(bo,No(void 0,this));const s=this.records.get(Io);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=qn,n=O.Default){this.assertNotDestroyed();const r=Hn(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof wn)&&E(t);e=n&&this.injectableDefInScope(n)?No(Ao(t),Eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Co():this.parent).get(t,e=n&O.Optional&&e===qn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Bn]&&i.unshift(e[Bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Hn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{xn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];xn(r,t=>this.processProvider(t,n,r||B))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,No(a,Eo));const l=r.providers;if(null!=l&&!o){const e=t;xn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Do(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ro(t)?No(void 0,t.useValue):No(Oo(t),Eo)}(t);if(Do(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=No(void 0,Eo,!0),e.factory=()=>Yn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Eo&&(e.value=To,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ao(t){const e=E(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof wn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=On(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Oo(t,e,n){let r;if(Do(t)){const e=p(t);return vt(e)||Ao(e)}if(Ro(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Yn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Kn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||Ao(e);r=()=>new e(...Yn(t.deps))}var i;return r}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ro(t){return null!==t&&"object"==typeof t&&zn in t}function Do(t){return"function"==typeof t}const Po=function(t,e,n){return function(t,e=null,n=null,r){const i=xo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Lo=(()=>{class t{static create(t,e){return Array.isArray(t)?Po(t,e,""):Po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=qn,t.NULL=new wo,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Kn(bo)}),t.__NG_ELEMENT_ID__=-1,t})();function Fo(t,e){Ae(hi(t)[1],Qt())}function Mo(t){return Object.getPrototypeOf(t.prototype).constructor}function Uo(t){let e=Mo(t.type),n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Vo(t.inputs),e.declaredInputs=Vo(t.declaredInputs),e.outputs=Vo(t.outputs);const n=i.hostBindings;n&&Zo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&jo(t,s),o&&qo(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Uo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Vo(t){return t===Z?{}:t===B?[]:t}function jo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function qo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Zo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Bo=["providersResolver"],zo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function $o(t){let e,n=Mo(t.type);e=yt(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Bo)r[i]=e[i];if(yt(e))for(const i of zo)r[i]=e[i]}let Ho=null;function Go(){if(!Ho){const t=q.Symbol;if(t&&t.iterator)Ho=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ho=n)}}}return Ho}class Ko{constructor(t){this.wrapped=t}static wrap(t){return new Ko(t)}static unwrap(t){return Ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ko}}function Wo(t){return!!Qo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Go()in t)}function Qo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yo(t,e,n){return t[e]=n}function Jo(t,e){return t[e]}function Xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ta(t,e,n,r){const i=Xo(t,e,n);return Xo(t,e+1,r)||i}function ea(t,e,n,r,i){const s=ta(t,e,n,r);return Xo(t,e+2,i)||s}function na(t,e,n,r,i,s){const o=ta(t,e,n,r);return ta(t,e+2,i,s)||o}function ra(t,e,n,r){const i=Gt();return Xo(i,ae(),e)&&(Kt(),Js(Se(),i,t,e,n,r)),ra}function ia(t,e){let n=!1,r=se();for(let s=1;s<e.length;s+=2)n=Xo(t,r++,e[s])||n;if(oe(r),!n)return vs;let i=e[0];for(let s=1;s<e.length;s+=2)i+=y(e[s])+e[s+1];return i}function sa(t,e,n,r){return Xo(t,ae(),n)?e+y(n)+r:vs}function oa(t,e,n,r,i,s){const o=ta(t,se(),n,i);return le(2),o?e+y(n)+r+y(i)+s:vs}function aa(t,e,n,r,i,s,o,a){const l=ea(t,se(),n,i,o);return le(3),l?e+y(n)+r+y(i)+s+y(o)+a:vs}function la(t,e,n,r,i,s,o,a,l,c){const u=na(t,se(),n,i,o,l);return le(4),u?e+y(n)+r+y(i)+s+y(o)+a+y(l)+c:vs}function ca(t,e,n,r,i,s,o,a,l,c,u,h){const d=se();let f=na(t,d,n,i,o,l);return f=Xo(t,d+4,u)||f,le(5),f?e+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h:vs}function ua(t,e,n,r,i,s,o,a,l,c,u,h,d,f){const p=se();let m=na(t,p,n,i,o,l);return m=ta(t,p+4,u,d)||m,le(6),m?e+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+f:vs}function ha(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m){const g=se();let v=na(t,g,n,i,o,l);return v=ea(t,g+4,u,d,p)||v,le(7),v?e+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+f+y(p)+m:vs}function da(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,v){const _=se();let b=na(t,_,n,i,o,l);return b=na(t,_+4,u,d,p,g)||b,le(8),b?e+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+f+y(p)+m+y(g)+v:vs}function fa(t,e,n,r,i,s){const o=Gt(),a=sa(o,e,n,r);return a!==vs&&Js(Se(),o,t,a,i,s),fa}function pa(t,e,n,r,i,s,o,a){const l=Gt(),c=oa(l,e,n,r,i,s);return c!==vs&&Js(Se(),l,t,c,o,a),pa}function ma(t,e,n,r,i,s,o,a,l,c){const u=Gt(),h=aa(u,e,n,r,i,s,o,a);return h!==vs&&Js(Se(),u,t,h,l,c),ma}function ga(t,e,n,r,i,s,o,a,l,c,u,h){const d=Gt(),f=la(d,e,n,r,i,s,o,a,l,c);return f!==vs&&Js(Se(),d,t,f,u,h),ga}function ya(t,e,n,r,i,s,o,a,l,c,u,h,d,f){const p=Gt(),m=ca(p,e,n,r,i,s,o,a,l,c,u,h);return m!==vs&&Js(Se(),p,t,m,d,f),ya}function va(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m){const g=Gt(),y=ua(g,e,n,r,i,s,o,a,l,c,u,h,d,f);return y!==vs&&Js(Se(),g,t,y,p,m),va}function _a(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y){const v=Gt(),_=ha(v,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m);return _!==vs&&Js(Se(),v,t,_,g,y),_a}function ba(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y,v,_){const b=Gt(),w=da(b,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y);return w!==vs&&Js(Se(),b,t,w,v,_),ba}function wa(t,e,n,r){const i=Gt(),s=ia(i,e);return s!==vs&&Js(Se(),i,t,s,n,r),wa}function Ia(t,e,n,r,i,s,o,a){const l=Gt(),c=Kt(),u=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=As(e,t,4,o||null,jt(c,a));zs(e,n,u,jt(c,l)),Ae(e,u);const h=u.tViews=js(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];Xt(h,!1);const d=l[11].createComment("");Qi(c,l,d,h),ui(d,l),oo(l,l[u]=no(d,l,d,h)),gt(h)&&Ms(c,l,h),null!=o&&Us(l,h,a)}function Ea(t){return Ft(Bt.lFrame.contextLView,ut+t)}const Ta={"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":I,"\u0275\u0275inject":Kn,"\u0275\u0275invalidFactoryDep":Wn,resolveForwardRef:p},Sa=l({provide:String,useValue:l});function Ca(t){return void 0!==t.useClass}function xa(t){return void 0!==t.useFactory}const ka=yn("Injectable",void 0,void 0,void 0,(t,e)=>Aa(t,e)),Aa=function(t,e){let n=null,r=null;t.hasOwnProperty(C)||Object.defineProperty(t,C,{get:()=>(null===n&&(n=En().compileInjectable(Ta,`ng:///${t.name}/\u0275prov.js`,function(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn};return(Ca(n)||xa(n))&&void 0!==n.deps&&(r.deps=lr(n.deps)),Ca(n)?r.useClass=n.useClass:function(t){return Sa in t}(n)?r.useValue=n.useValue:xa(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=n.useExisting),r}(t,e))),n)}),t.hasOwnProperty(W)||Object.defineProperty(t,W,{get:()=>{if(null===r){const e=En();r=e.compileFactory(Ta,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:ar(t),target:e.FactoryTarget.Injectable})}return r},configurable:!0})};function Oa(t,e=O.Default){const n=Gt();return null===n?Kn(t,e):en(Qt(),n,p(t),e)}function Na(){throw new Error("invalid")}function Ra(t,e,n){const r=Gt();return Xo(r,ae(),e)&&Bs(Kt(),Se(),r,t,e,r[11],n,!1),Ra}function Da(t,e,n,r,i){const s=i?"class":"style";yo(t,n,e.inputs[s],s,r)}function Pa(t,e,n,r){const i=Gt(),s=Kt(),o=ut+t,a=i[11],l=i[o]=Pi(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=As(e,t,2,i,jt(a,s));return zs(e,n,l,jt(a,o)),null!==l.attrs&&_o(l,l.attrs,!1),null!==l.mergedAttrs&&_o(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];Xt(c,!0);const u=c.mergedAttrs;null!==u&&Me(a,l,u);const h=c.classes;null!==h&&ss(a,l,h);const d=c.styles;null!==d&&is(a,l,d),64!=(64&c.flags)&&Qi(s,i,l,c),0===Bt.lFrame.elementDepthCount&&ui(l,i),Bt.lFrame.elementDepthCount++,gt(c)&&(Ms(s,i,c),Fs(s,c,i)),null!==r&&Us(i,c)}function La(){let t=Qt();te()?ee():(t=t.parent,Xt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(Ae(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Da(n,e,Gt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Da(n,e,Gt(),e.stylesWithoutHost,!1)}function Fa(t,e,n,r){Pa(t,e,n,r),La()}function Ma(t,e,n){const r=Gt(),i=Kt(),s=t+ut,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=jt(s,r),a=As(e,t,8,"ng-container",o);return null!==o&&_o(a,o,!0),zs(e,n,a,jt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xt(o,!0);const a=r[s]=r[11].createComment("");Qi(i,r,a,o),ui(a,r),gt(o)&&(Ms(i,r,o),Fs(i,o,r)),null!=n&&Us(r,o)}function Ua(){let t=Qt();const e=Kt();te()?ee():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Ae(e,t),pt(t)&&e.queries.elementEnd(t))}function Va(t,e,n){Ma(t,e,n),Ua()}function ja(){return Gt()}function qa(t){return!!t&&"function"==typeof t.then}function Za(t){return!!t&&"function"==typeof t.subscribe}const Ba=Za;function za(t,e,n,r){const i=Gt(),s=Kt(),o=Qt();return Ha(s,i,i[11],o,t,e,!!n,r),za}function $a(t,e){const n=Qt(),r=Gt(),i=Kt();return Ha(i,r,mo(de(i.data),n,r),n,t,e,!1),$a}function Ha(t,e,n,r,i,s,o,a){const l=gt(r),c=t.firstCreatePass&&po(t),u=fo(e);let h=!0;if(3&r.type||a){const d=Pt(r,e),f=a?a(d):d,p=u.length,m=a?t=>a(Rt(t[r.index])):r.index;if(Ot(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ka(r,e,0,s,!1);const t=n.listen(f,i,s);u.push(s,t),c&&c.push(i,m,p,p+1)}}else s=Ka(r,e,0,s,!0),f.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,p,o)}else s=Ka(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function Ga(t,e,n,r){try{return!1!==n(r)}catch(i){return go(t,i),!1}}function Ka(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&ao(o);let a=Ga(e,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Ga(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wa(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Qa(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ps(t,s,!0):ms(r,s))return i}else n=i}return n}function Ya(t){const e=Gt()[16][6];if(!e.projection){const n=e.projection=On(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Qa(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ja(t,e=0,n){const r=Gt(),i=Kt(),s=As(i,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),ee(),64!=(64&s.flags)&&function(t,e,n){rs(e[11],0,e,n,Vi(t,n,e),$i(n.parent||e[6],n,e))}(i,r,s)}function Xa(t,e,n){return tl(t,"",e,"",n),Xa}function tl(t,e,n,r,i){const s=Gt(),o=sa(s,e,n,r);return o!==vs&&Bs(Kt(),Se(),s,t,o,s[11],i,!1),tl}function el(t,e,n,r,i,s,o){const a=Gt(),l=oa(a,e,n,r,i,s);return l!==vs&&Bs(Kt(),Se(),a,t,l,a[11],o,!1),el}function nl(t,e,n,r,i,s,o,a,l){const c=Gt(),u=aa(c,e,n,r,i,s,o,a);return u!==vs&&Bs(Kt(),Se(),c,t,u,c[11],l,!1),nl}function rl(t,e,n,r,i,s,o,a,l,c,u){const h=Gt(),d=la(h,e,n,r,i,s,o,a,l,c);return d!==vs&&Bs(Kt(),Se(),h,t,d,h[11],u,!1),rl}function il(t,e,n,r,i,s,o,a,l,c,u,h,d){const f=Gt(),p=ca(f,e,n,r,i,s,o,a,l,c,u,h);return p!==vs&&Bs(Kt(),Se(),f,t,p,f[11],d,!1),il}function sl(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){const m=Gt(),g=ua(m,e,n,r,i,s,o,a,l,c,u,h,d,f);return g!==vs&&Bs(Kt(),Se(),m,t,g,m[11],p,!1),sl}function ol(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){const y=Gt(),v=ha(y,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m);return v!==vs&&Bs(Kt(),Se(),y,t,v,y[11],g,!1),ol}function al(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y,v){const _=Gt(),b=da(_,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y);return b!==vs&&Bs(Kt(),Se(),_,t,b,_[11],v,!1),al}function ll(t,e,n){const r=Gt(),i=ia(r,e);return i!==vs&&Bs(Kt(),Se(),r,t,i,r[11],n,!1),ll}function cl(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Is(s):Ts(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];ul(t[a],e)&&(l=!0,t[a+1]=r?Cs(n):Es(n)),a=r?Is(n):Ts(n)}l&&(t[n+1]=r?Es(s):Cs(s))}function ul(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Dn(t,e)>=0}const hl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dl(t){return t.substring(hl.key,hl.keyEnd)}function fl(t){return t.substring(hl.value,hl.valueEnd)}function pl(t,e){const n=hl.textEnd;return n===e?-1:(e=hl.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,hl.key=e,n),yl(t,e,n))}function ml(t,e){const n=hl.textEnd;let r=hl.key=yl(t,e,n);return n===r?-1:(r=hl.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=vl(t,r,n),r=hl.value=yl(t,r,n),r=hl.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=_l(t,l,o,n):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=_l(t,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(t,r,n),vl(t,r,n))}function gl(t){hl.key=0,hl.keyEnd=0,hl.value=0,hl.valueEnd=0,hl.textEnd=t.length}function yl(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function vl(t,e,n,r){return(e=yl(t,e,n))<n&&e++,e}function _l(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function bl(t,e,n){return Cl(t,e,n,!1),bl}function wl(t,e){return Cl(t,e,null,!0),wl}function Il(t){xl(Rl,El,t,!1)}function El(t,e){for(let n=function(t){return gl(t),ml(t,yl(t,0,hl.textEnd))}(e);n>=0;n=ml(e,n))Rl(t,dl(e),fl(e))}function Tl(t){xl(Nn,Sl,t,!0)}function Sl(t,e){for(let n=function(t){return gl(t),pl(t,yl(t,0,hl.textEnd))}(e);n>=0;n=pl(e,n))Nn(t,dl(e),!0)}function Cl(t,e,n,r){const i=Gt(),s=Kt(),o=le(2);s.firstUpdatePass&&Al(s,t,o,r),e!==vs&&Xo(i,o,e)&&Dl(s,s.data[Ee()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(wr(t)))),t}(e,n),r,o)}function xl(t,e,n,r){const i=Kt(),s=le(2);i.firstUpdatePass&&Al(i,null,s,r);const o=Gt();if(n!==vs&&Xo(o,s,n)){const a=i.data[Ee()];if(Fl(a,r)&&!kl(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Da(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===vs&&(i=B);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,m=null;u===h?(l+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,p=f),null!==m&&Dl(t,e,n,r,m,p,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=wr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function kl(t,e){return e>=t.expandoStartIndex}function Al(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ee()],o=kl(t,n);Fl(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=de(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nl(n=Ol(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ol(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ts(r))return t[Is(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ol(null,t,e,n[1],r),n=Nl(n,e.attrs,r),function(t,e,n,r){t[Is(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Nl(r,t[s].hostAttrs,n);return Nl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Is(o),l=Ts(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Dn(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=Is(t[a+1]);t[r+1]=ws(e,a),0!==e&&(t[e+1]=Ss(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ws(a,0),0!==a&&(t[a+1]=Ss(t[a+1],r)),a=r;else t[r+1]=ws(l,0),0===a?a=r:t[l+1]=Ss(t[l+1],r),l=r;u&&(t[r+1]=Es(t[r+1])),cl(t,c,r,!0),cl(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Dn(s,e)>=0&&(n[r+1]=Cs(n[r+1]))}(e,c,t,r,s),o=ws(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ol(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Nl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Rl(t,e,n){Nn(t,e,wr(n))}function Dl(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Ll(1==(1&c)?Pl(l,e,n,i,Ts(c),o):void 0)||(Ll(s)||2==(2&c)&&(s=Pl(l,null,n,i,a,o)),function(t,e,n,r,i){const s=Ot(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ei.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ei.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(Ee(),n),i,s))}function Pl(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===vs&&(u=c?B:void 0);let h=c?Rn(u,r):l===r?u:void 0;if(s&&!Ll(h)&&(h=Rn(e,r)),Ll(h)&&(a=h,o))return a;const d=t[i+1];i=o?Is(d):Ts(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Rn(t,r))}return a}function Ll(t){return void 0!==t}function Fl(t,e){return 0!=(t.flags&(e?16:32))}function Ml(t,e=""){const n=Gt(),r=Kt(),i=t+ut,s=r.firstCreatePass?As(r,i,1,e,null):r.data[i],o=n[i]=Ni(n[11],e);Qi(r,n,o,s),Xt(s,!1)}function Ul(t){return Vl("",t,""),Ul}function Vl(t,e,n){const r=Gt(),i=sa(r,t,e,n);return i!==vs&&vo(r,Ee(),i),Vl}function jl(t,e,n,r,i){const s=Gt(),o=oa(s,t,e,n,r,i);return o!==vs&&vo(s,Ee(),o),jl}function ql(t,e,n,r,i,s,o){const a=Gt(),l=aa(a,t,e,n,r,i,s,o);return l!==vs&&vo(a,Ee(),l),ql}function Zl(t,e,n,r,i,s,o,a,l){const c=Gt(),u=la(c,t,e,n,r,i,s,o,a,l);return u!==vs&&vo(c,Ee(),u),Zl}function Bl(t,e,n,r,i,s,o,a,l,c,u){const h=Gt(),d=ca(h,t,e,n,r,i,s,o,a,l,c,u);return d!==vs&&vo(h,Ee(),d),Bl}function zl(t,e,n,r,i,s,o,a,l,c,u,h,d){const f=Gt(),p=ua(f,t,e,n,r,i,s,o,a,l,c,u,h,d);return p!==vs&&vo(f,Ee(),p),zl}function $l(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){const m=Gt(),g=ha(m,t,e,n,r,i,s,o,a,l,c,u,h,d,f,p);return g!==vs&&vo(m,Ee(),g),$l}function Hl(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){const y=Gt(),v=da(y,t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g);return v!==vs&&vo(y,Ee(),v),Hl}function Gl(t){const e=Gt(),n=ia(e,t);return n!==vs&&vo(e,Ee(),n),Gl}function Kl(t,e,n){xl(Nn,Sl,sa(Gt(),t,e,n),!0)}function Wl(t,e,n,r,i){xl(Nn,Sl,oa(Gt(),t,e,n,r,i),!0)}function Ql(t,e,n,r,i,s,o){xl(Nn,Sl,aa(Gt(),t,e,n,r,i,s,o),!0)}function Yl(t,e,n,r,i,s,o,a,l){xl(Nn,Sl,la(Gt(),t,e,n,r,i,s,o,a,l),!0)}function Jl(t,e,n,r,i,s,o,a,l,c,u){xl(Nn,Sl,ca(Gt(),t,e,n,r,i,s,o,a,l,c,u),!0)}function Xl(t,e,n,r,i,s,o,a,l,c,u,h,d){xl(Nn,Sl,ua(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d),!0)}function tc(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){xl(Nn,Sl,ha(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d,f,p),!0)}function ec(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){xl(Nn,Sl,da(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g),!0)}function nc(t){xl(Nn,Sl,ia(Gt(),t),!0)}function rc(t,e,n){Il(sa(Gt(),t,e,n))}function ic(t,e,n,r,i){Il(oa(Gt(),t,e,n,r,i))}function sc(t,e,n,r,i,s,o){Il(aa(Gt(),t,e,n,r,i,s,o))}function oc(t,e,n,r,i,s,o,a,l){Il(la(Gt(),t,e,n,r,i,s,o,a,l))}function ac(t,e,n,r,i,s,o,a,l,c,u){Il(ca(Gt(),t,e,n,r,i,s,o,a,l,c,u))}function lc(t,e,n,r,i,s,o,a,l,c,u,h,d){Il(ua(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d))}function cc(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){Il(ha(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d,f,p))}function uc(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){Il(da(Gt(),t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g))}function hc(t){Il(ia(Gt(),t))}function dc(t,e,n,r,i){return Cl(t,sa(Gt(),e,n,r),i,!1),dc}function fc(t,e,n,r,i,s,o){return Cl(t,oa(Gt(),e,n,r,i,s),o,!1),fc}function pc(t,e,n,r,i,s,o,a,l){return Cl(t,aa(Gt(),e,n,r,i,s,o,a),l,!1),pc}function mc(t,e,n,r,i,s,o,a,l,c,u){return Cl(t,la(Gt(),e,n,r,i,s,o,a,l,c),u,!1),mc}function gc(t,e,n,r,i,s,o,a,l,c,u,h,d){return Cl(t,ca(Gt(),e,n,r,i,s,o,a,l,c,u,h),d,!1),gc}function yc(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){return Cl(t,ua(Gt(),e,n,r,i,s,o,a,l,c,u,h,d,f),p,!1),yc}function vc(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){return Cl(t,ha(Gt(),e,n,r,i,s,o,a,l,c,u,h,d,f,p,m),g,!1),vc}function _c(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y,v){return Cl(t,da(Gt(),e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y),v,!1),_c}function bc(t,e,n){return Cl(t,ia(Gt(),e),n,!1),bc}function wc(t,e,n){const r=Gt();return Xo(r,ae(),e)&&Bs(Kt(),Se(),r,t,e,r[11],n,!0),wc}function Ic(t,e,n){const r=Gt();if(Xo(r,ae(),e)){const i=Kt(),s=Se();Bs(i,s,r,t,e,mo(de(i.data),s,r),n,!0)}return Ic}const Ec=void 0;var Tc=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Sc={};function Cc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=kc(e);if(n)return n;const r=e.split("-")[0];if(n=kc(r),n)return n;if("en"===r)return Tc;throw new Error(`Missing locale data for the locale "${t}".`)}function xc(t){return Cc(t)[Ac.PluralCase]}function kc(t){return t in Sc||(Sc[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Sc[t]}var Ac=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oc=["zero","one","two","few","many"],Nc="en-US",Rc={marker:"element"},Dc={marker:"ICU"};var Pc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Lc=Nc;function Fc(t){var e;null==(e=t)&&b("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Lc=t.toLowerCase().replace(/_/g,"-"))}function Mc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Hi(t,0,n):Rt(n[i])}function Uc(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)qi(t,o,n[s[e]],a,!1)}}function Vc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];jc(r)||qc(r,e)&&null===Zc(r)&&Bc(r,e.index)}}function jc(t){return!(64&t.type)}function qc(t,e){return jc(e)||t.index>e.index}function Zc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Bc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Wi(Mc,Uc),t.insertBeforeIndex=e)}function zc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $c(t,e,n){const r=Os(t,n,64,null,null);return Vc(e,r),r}function Hc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Gc=0,Kc=0;function Wc(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const l=e[a];if("string"==typeof l){const t=e[++a];null===n[t]&&(n[t]=Ni(i,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,h;if(null===o&&(o=c,s=zi(i,r)),c===o?(u=r,h=s):(u=null,h=Rt(n[c])),null!==h){const e=(131070&l)>>>1;qi(i,h,n[e],u,!1);const r=zc(t,e);if(null!==r&&"object"==typeof r){const e=Hc(r,n);null!==e&&Wc(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];Xs(i,Dt(l>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case Dc:const t=e[++a],r=e[++a];null===n[r]&&ui(n[r]=Di(i,t),n);break;case Rc:const s=e[++a],o=e[++a];null===n[o]&&ui(n[o]=Pi(i,s,null),n)}}}function Qc(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=t.data[a];"string"==typeof c?Xs(e[11],e[a],null,c,s,i,l):Bs(t,c,e,s,i,e[11],l,!1);break;case 0:const u=e[a];null!==u&&Ri(e[11],u,i);break;case 2:Jc(t,zc(t,a),e,i);break;case 3:Yc(t,zc(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=zc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Yc(t,n,r,e)}}s+=a}}function Yc(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Gc;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Qc(t,r,e.update[i],n,s)}}function Jc(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=xc(e)(parseInt(t,10)),r=Oc[n];return void 0!==r?r:"other"}(e,Lc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Hc(e,n)!==i&&(Xc(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Wc(t,e.create[i],n,r)}}function Xc(t,e,n){let r=Hc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&ts(n[11],t)}else Xc(t,zc(t,~r),n)}}}const tu=/\ufffd(\d+):?\d*\ufffd/gi,eu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,nu=/\ufffd(\d+)\ufffd/,ru=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,iu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,su=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ou=/\uE500/g;function au(t,e,n,r,i,s,o){const a=Ns(t,r,1,null);let l=a<<Pc.SHIFT,c=Jt();e===c&&(c=null),null===c&&(l|=Pc.APPEND_EAGERLY),o&&(l|=Pc.COMMENT,void 0===Ti&&(Ti=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Hc(t,e);n=null!==i?t.remove[i]:B}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(l,null===s?"":s);const u=Os(t,a,o?32:1,null===s?"":s,null);Vc(n,u);const h=u.index;return Xt(u,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(Wi(Mc,Uc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&b("Expecting array here",r,true,"=="),n.push(e))}(c,h),u}function lu(t,e,n,r,i,s,o){const a=o.match(tu),l=au(t,e,n,s,r,a?null:o,!1);a&&cu(i,o,l.index,null,0,null)}function cu(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const l=o+2,c=e.split(tu);let u=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),u|=hu(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=u,t[a]=t.length-l,u}function uu(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r&&r<0&&e++}return e}function hu(t){return 1<<Math.min(t,31)}function du(t){let e,n,r="",i=0,s=!1;for(;null!==(e=iu.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function fu(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ns(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(hu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const l=i.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=u.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=gu(t,a,e,n,r,i.cases[c],s.join(""),u)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function pu(t){const e=[],n=[];let r=1,i=0;const s=mu(t=t.replace(ru,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=mu(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function mu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);ru.test(n)?r.push(pu(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function gu(t,e,n,r,i,s,o,a){const l=[],c=[],u=[];e.cases.push(s),e.create.push(l),e.remove.push(c),e.update.push(u);const h=Ar(At()).getInertBodyElement(o),d=Xr(h)||h;return d?yu(t,e,n,r,l,c,u,d,i,a,0):0}function yu(t,e,n,r,i,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=Ns(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(Zr.hasOwnProperty(p)){bu(i,Rc,p,l,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(tu)?$r.hasOwnProperty(n)&&cu(o,e.value,a,e.name,0,Br[n]?Pr:zr[n]?Lr:null):wu(i,a,e)}h=yu(t,e,n,r,i,s,o,d,a,c,u+1)|h,vu(s,a,u)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(tu);bu(i,null,g?"":m,l,a),vu(s,a,u),g&&(h=cu(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=nu.exec(d.textContent||"");if(y){const e=c[parseInt(y[1],10)];bu(i,Dc,"",l,a),fu(t,n,r,l,e,a),_u(s,a,u)}}d=d.nextSibling}return h}function vu(t,e,n){0===n&&t.push(e)}function _u(t,e,n){0===n&&(t.push(~e),t.push(e))}function bu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function wu(t,e,n){t.push(e<<1|1,n.name,n.value)}const Iu=/\[(\ufffd.+?\ufffd?)\]/,Eu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Tu=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Su=/{([A-Z0-9_]+)}/g,Cu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,xu=/\/\*/,ku=/\d+\:(\d+)/;function Au(t,e,n=-1){const r=Kt(),i=Gt(),s=ut+t,o=jt(r.consts,e),a=Jt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Jt(),a=[],l=[],c=[[]],u=(h=i=function(t,e){if(function(t){return-1===t}(e))return du(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return du(t.substring(n,r))}}(i,s),h.replace(ou," ")).split(su);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const s=mu(r);for(let r=0;r<s.length;r++){let u=s[r];if(0==(1&r)){const e=u;""!==e&&lu(t,o,c[0],a,l,n,e)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);fu(t,n,l,e,r,au(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ut+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Xt(Jt(),!1);else{const e=$c(t,c[0],n);c.unshift([]),Xt(e,!0)}}}t.data[r]={create:a,update:l}}(r,null===a?0:a.index,i,s,o,n);const l=r.data[s],c=ji(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&Pc.COMMENT)===Pc.COMMENT,c=(o&Pc.APPEND_EAGERLY)===Pc.APPEND_EAGERLY,u=o>>>Pc.SHIFT;let h=t[u];null===h&&(h=t[u]=l?i.createComment(a):Ni(i,a)),c&&null!==n&&qi(i,n,h,r,!1)}}(i,l.create,c,a&&8&a.type?i[a.index]:null),ce(!0)}function Ou(){ce(!1)}function Nu(t,e,n){Au(t,e,n),Ou()}function Ru(t,e){const n=Kt(),r=jt(n.consts,e);!function(t,e,n){const r=Qt().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];if(""!==s){if(eu.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);cu(i,s,r,e,uu(i),null)}}t.data[e]=i}}(n,t+ut,r)}function Du(t){return Xo(Gt(),ae(),t)&&(Gc|=1<<Math.min(Kc,31)),Kc++,Du}function Pu(t){!function(t,e,n){if(Kc>0){const r=t.data[n];Qc(t,e,Array.isArray(r)?r:r.update,se()-Kc-1,Gc)}Gc=0,Kc=0}(Kt(),Gt(),t+ut)}function Lu(t,e={}){return function(t,e={}){let n=t;if(Iu.test(t)){const t={},e=[0];n=n.replace(Eu,(n,r,i)=>{const s=r||i,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(ku),n=e?parseInt(e[1],10):0,r=xu.test(t);o.push([n,r,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let l=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){l=t;break}const[c,u,h]=o[l];return u?e.pop():a!==c&&e.push(c),o.splice(l,1),h})}return Object.keys(e).length?(n=n.replace(Tu,(t,n,r,i,s,o)=>e.hasOwnProperty(r)?`${n}${e[r]}${o}`:t),n=n.replace(Su,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Cu,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function Fu(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fu(t[s],e,n,r,i);else{const s=Kt(),o=Gt();let a=Do(t)?t:p(t.provide),l=Oo(t);const c=Qt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Do(t)||!t.multi){const r=new Fe(l,i,Oa),f=Vu(a,e,i?u:u+d,h);-1===f?(Je(Ke(c,o),s,a),Mu(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Vu(a,e,u+d,h),p=Vu(a,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Je(Ke(c,o),s,a);const u=function(t,e,n,r,i){const s=new Fe(t,n,Oa);return s.multi=[],s.index=e,s.componentProviders=0,Uu(s,i,r&&!n),s}(i?qu:ju,n.length,i,r,l);!i&&g&&(n[p].providerFactory=u),Mu(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Mu(s,t,f>-1?f:p,Uu(n[i?p:f],l,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Mu(t,e,n,r){const i=Do(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Uu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ju(t,e,n,r){return Zu(this.multi,[])}function qu(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=an(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Zu(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Zu(i,s);return s}function Zu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Bu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Kt();if(r.firstCreatePass){const i=yt(t);Fu(n,r.data,r.blueprint,i,!0),Fu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class zu{}class $u{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Hu=(()=>{class t{}return t.NULL=new $u,t})();function Gu(...t){}function Ku(t,e){return new Qu(Pt(t,e))}const Wu=function(){return Ku(Qt(),Gt())};let Qu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Wu,t})();function Yu(t){return t instanceof Qu?t.nativeElement:t}class Ju{}let Xu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>th(),t})();const th=function(){const t=Gt(),e=Mt(Qt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let eh=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class nh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rh=new nh("12.0.5");class ih{constructor(){}supports(t){return Wo(t)}create(t){return new oh(t)}}const sh=(t,e)=>e;class oh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<uh(n,r,i)?e:n,o=uh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Wo(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Go()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ah(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ch),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ch),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ah{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ch{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new lh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class hh{constructor(){}supports(t){return t instanceof Map||Qo(t)}create(){return new dh}}class dh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qo(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ph(){return new mh([new ih])}let mh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ph()),deps:[[t,new nr,new tr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:ph}),t})();function gh(){return new yh([new hh])}let yh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||gh()),deps:[[t,new nr,new tr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:gh}),t})();function vh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Rt(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&vh(e[1],e,n,r)}const o=n.type;if(8&o)vh(t,e,n.child,r);else if(32&o){const t=Si(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Ji(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ci(e[16]);vh(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class _h{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return vh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Fi(t,n),An(e,n))}this._attachedToViewContainer=!1}Mi(this._lView[1],this._lView)}onDestroy(t){qs(this._lView[1],this._lView,null,t)}markForCheck(){ao(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{lo(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ns(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class bh extends _h{constructor(t){super(t),this._view=t}detectChanges(){co(this._view)}checkNoChanges(){!function(t){re(!0);try{co(t)}finally{re(!1)}}(this._view)}get context(){return null}}const wh=function(t){return function(t,e,n){if(mt(t)&&!n){const n=Mt(t.index,e);return new _h(n,n)}return 47&t.type?new _h(e[16],e):null}(Qt(),Gt(),16==(16&t))};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=wh,t})();const Eh=[new hh],Th=new mh([new ih]),Sh=new yh(Eh),Ch=function(){return Oh(Qt(),Gt())};let xh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ch,t})();const kh=xh,Ah=class extends kh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ks(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Rs(e,n,t),new _h(n)}};function Oh(t,e){return 4&t.type?new Ah(e,t,Ku(t,e)):null}class Nh{}class Rh{}const Dh=function(){return Vh(Qt(),Gt())};let Ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=Dh,t})();const Lh=Ph,Fh=class extends Lh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ye(this._hostTNode,this._hostLView);if(Ze(t)){const e=ze(t,this._hostLView),n=Be(t);return new un(e[1].data[n+8],e)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Mh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Nh,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Fh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],kn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Xi(i,s),a=n[11],l=zi(a,s[7]);return null!==l&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ns(t,r,n,1,i,s)}(r,s[6],a,n,l,o),t.attachToViewContainerRef(),kn(Uh(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Mh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);n&&(An(Uh(this._lContainer),e),Mi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);return n&&null!=An(Uh(this._lContainer),e)?new _h(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Mh(t){return t[8]}function Uh(t){return t[8]||(t[8]=[])}function Vh(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Pt(t,e);qi(n,zi(n,r),i,function(t,e){return Ot(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=no(r,e,i,t),oo(e,n)}return new Fh(n,t,e)}const jh={};class qh extends Hu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lt(t);return new zh(e,this.ngModule)}}function Zh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Bh=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vi});class zh extends zu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ys).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Zh(this.componentDef.inputs)}get outputs(){return Zh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,jh,i);return s!==jh||r===jh?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ju,Nt),o=i.get(eh,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ot(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pi(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?St:"math"===e?Ct:null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:vi,clean:ho,playerHandler:null,flags:0},d=js(0,null,null,1,0,null,null,null,null,null),f=ks(null,d,h,u,null,null,s,a,o,i);let p,m;ye(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=As(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(_o(a,l,!0),null!==t&&(Me(i,t,l),null!==a.classes&&ss(i,t,a.classes),null!==a.styles&&is(i,t,a.styles)));const c=r.createRenderer(t,e),u=ks(n,Vs(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Je(Ke(a,n),o,e.type),Gs(o,a),Ws(a,n.length,1)),oo(n,u),n[20]=u}(c,this.componentDef,f,s,a);if(c)if(n)Me(a,c,["ng-version",rh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ds(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Me(a,c,t),e&&e.length>0&&ss(a,c,e.join(" "))}if(m=Lt(d,ut),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qs(t,r,e,Ns(t,e,1,null),n));const i=an(e,t,r.directiveStart,r);ui(i,e);const s=Pt(r,e);return s&&ui(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Qt();e.contentQueries(1,o,t.directiveStart)}const a=Qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Te(a.index),$s(n[1],a,0,a.directiveStart,a.directiveEnd,e),Hs(e,o)),o}(t,this.componentDef,f,h,[Fo]),Rs(d,f,null)}finally{Ie()}return new $h(this.componentType,p,Ku(m,f),f,m)}}class $h extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new bh(r),this.componentType=t}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hh(t,e,n,r){return P(()=>{const i=t;null!==e&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...e):i.decorators=e),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Gh=new Map;class Kh extends Nh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qh(this);const n=ct(t),r=t[K]||null;r&&Fc(r),this._bootstrapComponents=Ii(n.bootstrap),this._r3Injector=xo(t,e,[{provide:Nh,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Lo.THROW_IF_NOT_FOUND,n=O.Default){return t===Lo||t===Nh||t===bo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wh extends Rh{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,Gh.get(i),n),Gh.set(i,n));const s=Ii(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Kh(this.moduleType,t)}}function Qh(t,e,n){const r=ie()+t,i=Gt();return i[r]===vs?Yo(i,r,n?e.call(n):e()):Jo(i,r)}function Yh(t,e,n,r){return ad(Gt(),ie(),t,e,n,r)}function Jh(t,e,n,r,i){return ld(Gt(),ie(),t,e,n,r,i)}function Xh(t,e,n,r,i,s){return cd(Gt(),ie(),t,e,n,r,i,s)}function td(t,e,n,r,i,s,o){return ud(Gt(),ie(),t,e,n,r,i,s,o)}function ed(t,e,n,r,i,s,o,a){const l=ie()+t,c=Gt(),u=na(c,l,n,r,i,s);return Xo(c,l+4,o)||u?Yo(c,l+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Jo(c,l+5)}function nd(t,e,n,r,i,s,o,a,l){const c=ie()+t,u=Gt(),h=na(u,c,n,r,i,s);return ta(u,c+4,o,a)||h?Yo(u,c+6,l?e.call(l,n,r,i,s,o,a):e(n,r,i,s,o,a)):Jo(u,c+6)}function rd(t,e,n,r,i,s,o,a,l,c){const u=ie()+t,h=Gt();let d=na(h,u,n,r,i,s);return ea(h,u+4,o,a,l)||d?Yo(h,u+7,c?e.call(c,n,r,i,s,o,a,l):e(n,r,i,s,o,a,l)):Jo(h,u+7)}function id(t,e,n,r,i,s,o,a,l,c,u){const h=ie()+t,d=Gt(),f=na(d,h,n,r,i,s);return na(d,h+4,o,a,l,c)||f?Yo(d,h+8,u?e.call(u,n,r,i,s,o,a,l,c):e(n,r,i,s,o,a,l,c)):Jo(d,h+8)}function sd(t,e,n,r){return hd(Gt(),ie(),t,e,n,r)}function od(t,e){const n=t[e];return n===vs?void 0:n}function ad(t,e,n,r,i,s){const o=e+n;return Xo(t,o,i)?Yo(t,o+1,s?r.call(s,i):r(i)):od(t,o+1)}function ld(t,e,n,r,i,s,o){const a=e+n;return ta(t,a,i,s)?Yo(t,a+2,o?r.call(o,i,s):r(i,s)):od(t,a+2)}function cd(t,e,n,r,i,s,o,a){const l=e+n;return ea(t,l,i,s,o)?Yo(t,l+3,a?r.call(a,i,s,o):r(i,s,o)):od(t,l+3)}function ud(t,e,n,r,i,s,o,a,l){const c=e+n;return na(t,c,i,s,o,a)?Yo(t,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):od(t,c+4)}function hd(t,e,n,r,i,s){let o=e+n,a=!1;for(let l=0;l<i.length;l++)Xo(t,o++,i[l])&&(a=!0);return a?Yo(t,o,r.apply(s,i)):od(t,o)}function dd(t,e){const n=Kt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=R(Oa);try{const t=He(!1),e=s();return He(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Gt(),i,e),e}finally{R(o)}}function fd(t,e,n){const r=t+ut,i=Gt(),s=Ft(i,r);return _d(i,vd(i,r)?ad(i,ie(),e,s.transform,n,s):s.transform(n))}function pd(t,e,n,r){const i=t+ut,s=Gt(),o=Ft(s,i);return _d(s,vd(s,i)?ld(s,ie(),e,o.transform,n,r,o):o.transform(n,r))}function md(t,e,n,r,i){const s=t+ut,o=Gt(),a=Ft(o,s);return _d(o,vd(o,s)?cd(o,ie(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function gd(t,e,n,r,i,s){const o=t+ut,a=Gt(),l=Ft(a,o);return _d(a,vd(a,o)?ud(a,ie(),e,l.transform,n,r,i,s,l):l.transform(n,r,i,s))}function yd(t,e,n){const r=t+ut,i=Gt(),s=Ft(i,r);return _d(i,vd(i,r)?hd(i,ie(),e,s.transform,n,s):s.transform.apply(s,n))}function vd(t,e){return t[1].data[e].pure}function _d(t,e){return Ko.isWrapped(e)&&(e=Ko.unwrap(e),t[se()]=vs),e}function bd(t){return e=>{setTimeout(t,void 0,e)}}const wd=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(l=bd(l),a&&(a=bd(a)),c&&(c=bd(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof i.w&&t.add(u),u}};function Id(){return this._results[Go()]()}class Ed{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Go(),n=Ed.prototype;n[e]||(n[e]=Id)}get changes(){return this._changes||(this._changes=new wd)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Td{constructor(t){this.queryList=t,this.matches=null}clone(){return new Td(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Sd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Vd(t,e).matches&&this.queries[e].setDirty()}}class Cd{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class xd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new xd(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new kd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ad(e,i)),this.matchTNodeWithReadOption(t,e,on(e,t,i,!1,!1))}else n===xh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qu||r===Ph||r===xh&&4&e.type)this.addMatch(e.index,-2);else{const n=on(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ad(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Od(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ku(t,e):4&t.type?Oh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qu?Ku(e,t):n===xh?Oh(e,t):n===Ph?Vh(e,t):void 0}(t,e,r):an(t,t[1],n,e)}function Nd(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Od(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Rd(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Nd(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Rd(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Rd(n[1],n,i,r)}}}}}return r}function Dd(t){const e=Gt(),n=Kt(),r=fe();pe(r+1);const i=Vd(n,r);if(t.dirty&&Ut(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Rd(n,e,r,[]):Nd(n,e,i,r);t.reset(s,Yu),t.notifyOnChanges()}return!0}return!1}function Pd(t,e,n){const r=Kt();r.firstCreatePass&&(Ud(r,new Cd(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Md(r,Gt(),e)}function Ld(t,e,n,r){const i=Kt();if(i.firstCreatePass){const s=Qt();Ud(i,new Cd(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Md(i,Gt(),n)}function Fd(){return t=Gt(),e=fe(),t[19].queries[e].queryList;var t,e}function Md(t,e,n){const r=new Ed(4==(4&n));qs(t,e,r,r.destroy),null===e[19]&&(e[19]=new Sd),e[19].queries.push(new Td(r))}function Ud(t,e,n){null===t.queries&&(t.queries=new xd),t.queries.track(new kd(e,n))}function Vd(t,e){return t.queries.getByIndex(e)}function jd(t,e){return Oh(t,e)}const qd=(()=>({"\u0275\u0275attribute":ra,"\u0275\u0275attributeInterpolate1":fa,"\u0275\u0275attributeInterpolate2":pa,"\u0275\u0275attributeInterpolate3":ma,"\u0275\u0275attributeInterpolate4":ga,"\u0275\u0275attributeInterpolate5":ya,"\u0275\u0275attributeInterpolate6":va,"\u0275\u0275attributeInterpolate7":_a,"\u0275\u0275attributeInterpolate8":ba,"\u0275\u0275attributeInterpolateV":wa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":ot,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":rt,"\u0275\u0275definePipe":at,"\u0275\u0275directiveInject":Oa,"\u0275\u0275getInheritedFactory":hn,"\u0275\u0275inject":Kn,"\u0275\u0275injectAttribute":fn,"\u0275\u0275invalidFactory":Na,"\u0275\u0275invalidFactoryDep":Wn,"\u0275\u0275templateRefExtractor":jd,"\u0275\u0275NgOnChangesFeature":bt,"\u0275\u0275ProvidersFeature":Bu,"\u0275\u0275CopyDefinitionFeature":$o,"\u0275\u0275InheritDefinitionFeature":Uo,"\u0275\u0275nextContext":Wa,"\u0275\u0275namespaceHTML":ke,"\u0275\u0275namespaceMathML":xe,"\u0275\u0275namespaceSVG":Ce,"\u0275\u0275enableBindings":$t,"\u0275\u0275disableBindings":Ht,"\u0275\u0275elementStart":Pa,"\u0275\u0275elementEnd":La,"\u0275\u0275element":Fa,"\u0275\u0275elementContainerStart":Ma,"\u0275\u0275elementContainerEnd":Ua,"\u0275\u0275elementContainer":Va,"\u0275\u0275pureFunction0":Qh,"\u0275\u0275pureFunction1":Yh,"\u0275\u0275pureFunction2":Jh,"\u0275\u0275pureFunction3":Xh,"\u0275\u0275pureFunction4":td,"\u0275\u0275pureFunction5":ed,"\u0275\u0275pureFunction6":nd,"\u0275\u0275pureFunction7":rd,"\u0275\u0275pureFunction8":id,"\u0275\u0275pureFunctionV":sd,"\u0275\u0275getCurrentView":ja,"\u0275\u0275restoreView":Wt,"\u0275\u0275listener":za,"\u0275\u0275projection":Ja,"\u0275\u0275syntheticHostProperty":Ic,"\u0275\u0275syntheticHostListener":$a,"\u0275\u0275pipeBind1":fd,"\u0275\u0275pipeBind2":pd,"\u0275\u0275pipeBind3":md,"\u0275\u0275pipeBind4":gd,"\u0275\u0275pipeBindV":yd,"\u0275\u0275projectionDef":Ya,"\u0275\u0275hostProperty":wc,"\u0275\u0275property":Ra,"\u0275\u0275propertyInterpolate":Xa,"\u0275\u0275propertyInterpolate1":tl,"\u0275\u0275propertyInterpolate2":el,"\u0275\u0275propertyInterpolate3":nl,"\u0275\u0275propertyInterpolate4":rl,"\u0275\u0275propertyInterpolate5":il,"\u0275\u0275propertyInterpolate6":sl,"\u0275\u0275propertyInterpolate7":ol,"\u0275\u0275propertyInterpolate8":al,"\u0275\u0275propertyInterpolateV":ll,"\u0275\u0275pipe":dd,"\u0275\u0275queryRefresh":Dd,"\u0275\u0275viewQuery":Pd,"\u0275\u0275loadQuery":Fd,"\u0275\u0275contentQuery":Ld,"\u0275\u0275reference":Ea,"\u0275\u0275classMap":Tl,"\u0275\u0275classMapInterpolate1":Kl,"\u0275\u0275classMapInterpolate2":Wl,"\u0275\u0275classMapInterpolate3":Ql,"\u0275\u0275classMapInterpolate4":Yl,"\u0275\u0275classMapInterpolate5":Jl,"\u0275\u0275classMapInterpolate6":Xl,"\u0275\u0275classMapInterpolate7":tc,"\u0275\u0275classMapInterpolate8":ec,"\u0275\u0275classMapInterpolateV":nc,"\u0275\u0275styleMap":Il,"\u0275\u0275styleMapInterpolate1":rc,"\u0275\u0275styleMapInterpolate2":ic,"\u0275\u0275styleMapInterpolate3":sc,"\u0275\u0275styleMapInterpolate4":oc,"\u0275\u0275styleMapInterpolate5":ac,"\u0275\u0275styleMapInterpolate6":lc,"\u0275\u0275styleMapInterpolate7":cc,"\u0275\u0275styleMapInterpolate8":uc,"\u0275\u0275styleMapInterpolateV":hc,"\u0275\u0275styleProp":bl,"\u0275\u0275stylePropInterpolate1":dc,"\u0275\u0275stylePropInterpolate2":fc,"\u0275\u0275stylePropInterpolate3":pc,"\u0275\u0275stylePropInterpolate4":mc,"\u0275\u0275stylePropInterpolate5":gc,"\u0275\u0275stylePropInterpolate6":yc,"\u0275\u0275stylePropInterpolate7":vc,"\u0275\u0275stylePropInterpolate8":_c,"\u0275\u0275stylePropInterpolateV":bc,"\u0275\u0275classProp":wl,"\u0275\u0275advance":_s,"\u0275\u0275template":Ia,"\u0275\u0275text":Ml,"\u0275\u0275textInterpolate":Ul,"\u0275\u0275textInterpolate1":Vl,"\u0275\u0275textInterpolate2":jl,"\u0275\u0275textInterpolate3":ql,"\u0275\u0275textInterpolate4":Zl,"\u0275\u0275textInterpolate5":Bl,"\u0275\u0275textInterpolate6":zl,"\u0275\u0275textInterpolate7":$l,"\u0275\u0275textInterpolate8":Hl,"\u0275\u0275textInterpolateV":Gl,"\u0275\u0275i18n":Nu,"\u0275\u0275i18nAttributes":Ru,"\u0275\u0275i18nExp":Du,"\u0275\u0275i18nStart":Au,"\u0275\u0275i18nEnd":Ou,"\u0275\u0275i18nApply":Pu,"\u0275\u0275i18nPostprocess":Lu,"\u0275\u0275resolveWindow":_i,"\u0275\u0275resolveDocument":bi,"\u0275\u0275resolveBody":wi,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":it,"\u0275\u0275sanitizeHtml":ei,"\u0275\u0275sanitizeStyle":ni,"\u0275\u0275sanitizeResourceUrl":ii,"\u0275\u0275sanitizeScript":si,"\u0275\u0275sanitizeUrl":ri,"\u0275\u0275sanitizeUrlOrResourceUrl":li,"\u0275\u0275trustConstantHtml":oi,"\u0275\u0275trustConstantResourceUrl":ai,forwardRef:f,resolveForwardRef:p}))(),Zd=[];function Bd(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}const zd=yn("NgModule",t=>t,void 0,void 0,(t,e)=>$d(t,e)),$d=function(t,e={}){!function(t,e,n=!1){const r=Cn(e.declarations||B);let i=null;Object.defineProperty(t,G,{configurable:!0,get:()=>(null===i&&(i=En().compileNgModule(qd,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Cn(e.bootstrap||B).map(p),declarations:r.map(p),imports:Cn(e.imports||B).map(p).map(Bd),exports:Cn(e.exports||B).map(p).map(Bd),schemas:e.schemas?Cn(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(t,W,{get:()=>{if(null===s){const e=En();s=e.compileFactory(qd,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:ar(t),target:e.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,x,{get:()=>{if(null===o){const n={name:t.name,type:t,providers:e.providers||B,imports:[(e.imports||B).map(p),(e.exports||B).map(p)]};o=En().compileInjector(qd,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){Zd.push({moduleType:t,ngModule:e})}(t,e)},Hd=new wn("Application Initializer");let Gd=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Gu,this.reject=Gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(qa(e))t.push(e);else if(Ba(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Kn(Hd,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Kd=new wn("AppId"),Wd={provide:Kd,useFactory:function(){return`${Qd()}${Qd()}${Qd()}`},deps:[]};function Qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yd=new wn("Platform Initializer"),Jd=new wn("Platform ID"),Xd=new wn("appBootstrapListener");let tf=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ef=new wn("LocaleId"),nf=new wn("DefaultCurrencyCode");class rf{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const sf=function(t){return new Wh(t)},of=sf,af=function(t){return Promise.resolve(sf(t))},lf=function(t){const e=sf(t),n=Ii(ct(t).declarations).reduce((t,e)=>{const n=lt(e);return n&&t.push(new zh(n)),t},[]);return new rf(e,n)},cf=lf,uf=function(t){return Promise.resolve(lf(t))};let hf=(()=>{class t{constructor(){this.compileModuleSync=of,this.compileModuleAsync=af,this.compileModuleAndAllComponentsSync=cf,this.compileModuleAndAllComponentsAsync=uf}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const df=(()=>Promise.resolve(0))();function ff(t){"undefined"==typeof Zone?df.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pf{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wd(!1),this.onMicrotaskEmpty=new wd(!1),this.onStable=new wd(!1),this.onError=new wd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yf(t),t.isCheckStableRunning=!0,gf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vf(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),_f(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return vf(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),_f(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yf(t),gf(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,mf,Gu,Gu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mf={};function gf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _f(t){t._nesting--,gf(t)}class bf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wd,this.onMicrotaskEmpty=new wd,this.onStable=new wd,this.onError=new wd}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wf=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pf.assertNotInAngularZone(),ff(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ff(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Kn(pf))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),If=(()=>{class t{constructor(){this._applications=new Map,Cf.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cf.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Ef{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Tf(t){Cf=t}let Sf,Cf=new Ef,xf=!0,kf=!1;function Af(){return kf=!0,xf}function Of(){if(kf)throw new Error("Cannot enable prod mode after platform setup.");xf=!1}const Nf=new wn("AllowMultipleToken");class Rf{constructor(t,e){this.name=t,this.token=e}}function Df(t,e,n=[]){const r=`Platform: ${e}`,i=new wn(r);return(e=[])=>{let s=Pf();if(!s||s.injector.get(Nf,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Io,useValue:"platform"});!function(t){if(Sf&&!Sf.destroyed&&!Sf.injector.get(Nf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sf=t.get(Lf);const e=t.get(Yd,null);e&&e.forEach(t=>t())}(Lo.create({providers:t,name:r}))}return function(t){const e=Pf();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Pf(){return Sf&&!Sf.destroyed?Sf:null}let Lf=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new bf:("zone.js"===t?void 0:t)||new pf({enableLongStackTrace:Af(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:pf,useValue:n}];return n.run(()=>{const e=Lo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(mi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Uf(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return qa(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Gd);return t.runInitializers(),t.donePromise.then(()=>(Fc(i.injector.get(ef,Nc)||Nc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ff({},e);return function(t,e,n){const r=new Wh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Mf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Kn(Lo))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ff(t,e){return Array.isArray(e)?e.reduce(Ff,t):Object.assign(Object.assign({},t),e)}let Mf=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pf.assertNotInAngularZone(),ff(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof zu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Nh),i=n.create(Lo.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(wf,null),a=o&&i.injector.get(If);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Uf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Uf(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xd,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Kn(pf),Kn(Lo),Kn(mi),Kn(Hu),Kn(Gd))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Uf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vf{}class jf{}const qf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zf=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||qf}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Bf(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Bf(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Kn(hf),Kn(jf,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Bf(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zf=function(t){return null},$f=Df(null,"core",[{provide:Jd,useValue:"unknown"},{provide:Lf,deps:[Lo]},{provide:If,deps:[]},{provide:tf,deps:[]}]),Hf=[{provide:Mf,useClass:Mf,deps:[pf,Lo,mi,Hu,Gd]},{provide:Bh,deps:[pf],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gd,useClass:Gd,deps:[[new tr,Hd]]},{provide:hf,useClass:hf,deps:[]},Wd,{provide:mh,useFactory:function(){return Th},deps:[]},{provide:yh,useFactory:function(){return Sh},deps:[]},{provide:ef,useFactory:function(t){return Fc(t=t||"undefined"!=typeof $localize&&$localize.locale||Nc),t},deps:[[new Xn(ef),new tr,new nr]]},{provide:nf,useValue:"USD"}];let Gf=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Kn(Mf))},t.\u0275mod=rt({type:t}),t.\u0275inj=I({providers:Hf}),t})()},9748:(t,e,n)=>{"use strict";n.d(e,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>g,on:()=>d,pX:()=>a});var r=n(5366),i=n(9001),s=n(2100);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),l=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(e,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},p={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class t{constructor(t){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:u,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[p]}),t})();function g(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(i,o)||(v("error",`${e} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const e=r();return globalThis.\u0275AngularfireInstanceCache.push([t,e,i]),e}}const y=!!t.hot,v=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2100:(t,e,n)=>{"use strict";n.d(e,{q4:()=>Mn,iC:()=>Qn,HU:()=>Hn,vb:()=>Zn,JM:()=>qn,u3:()=>Jn});var r=n(5366),i=n(1858),s=n(6304),o=n(7964),a=n(5725),l=n(1947),c=n(8678),u=n(2087);const h="@firebase/installations",d="0.5.4",f="w:0.5.4",p="FIS_v2",m=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(t){return t instanceof a.ZR&&t.code.includes("request-failed")}function y({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function v(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function _(t,e){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(t,e){const n=(yield e.json()).error;return m.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I(t,{refreshToken:e}){const n=w(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}function E(t){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function S(t,e){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)(function*(t,{fid:e}){const n=y(t),r={method:"POST",headers:w(t),body:JSON.stringify({fid:e,authVersion:p,appId:t.appId,sdkVersion:f})},i=yield E(()=>fetch(n,r));if(i.ok){const t=yield i.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:v(t.authToken)}}throw yield _("Create Installation",i)})).apply(this,arguments)}function x(t){return new Promise(e=>{setTimeout(e,t)})}const k=/^[cdef][\w-]{21}$/;function A(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return k.test(e)?e:""}catch(t){return""}}function O(t){return`${t.appName}!${t.appId}`}const N=new Map;function R(t,e){const n=O(t);D(n,e),function(t,e){const n=(!P&&"BroadcastChannel"in self&&(P=new BroadcastChannel("[Firebase] FID Change"),P.onmessage=t=>{D(t.data.key,t.data.fid)}),P);n&&n.postMessage({key:t,fid:e}),0===N.size&&P&&(P.close(),P=null)}(n,e)}function D(t,e){const n=N.get(t);if(n)for(const r of n)r(e)}let P=null;const L="firebase-installations-store";let F=null;function M(){return F||(F=(0,u.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(L)}})),F}function U(t,e){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(t,e){const n=O(t),r=(yield M()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n);return yield i.put(e,n),yield r.complete,s&&s.fid===e.fid||R(t,e.fid),e})).apply(this,arguments)}function j(t){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(t){const e=O(t),n=(yield M()).transaction(L,"readwrite");yield n.objectStore(L).delete(e),yield n.complete})).apply(this,arguments)}function Z(t,e){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(t,e){const n=O(t),r=(yield M()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n),o=e(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||R(t,o.fid),o})).apply(this,arguments)}function z(t){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(t){let e;const n=yield Z(t,n=>{const r=H(n),i=G(t,r);return e=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function H(t){return J(t||{fid:A(),registrationStatus:0})}function G(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(m.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return K.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:W(t)}:{installationEntry:e}}function K(){return(K=(0,s.Z)(function*(t,e){try{return U(t,yield S(t,e))}catch(n){throw g(n)&&409===n.customData.serverCode?yield j(t):yield U(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function W(t){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(t){let e=yield Y(t);for(;1===e.registrationStatus;)yield x(100),e=yield Y(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield z(t);return n||e}return e})).apply(this,arguments)}function Y(t){return Z(t,t=>{if(!t)throw m.create("installation-not-found");return J(t)})}function J(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function X(t,e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*({appConfig:t,platformLoggerProvider:e},n){const r=et(t,n),i=I(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield E(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function et(t,{fid:e}){return`${y(t)}/${e}/authTokens:generate`}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(t,e=!1){let n;const r=yield Z(t.appConfig,r=>{if(!ct(r))throw m.create("not-registered");const i=r.authToken;if(!e&&ut(i))return r;if(1===i.requestStatus)return n=it(t,e),r;{if(!navigator.onLine)throw m.create("app-offline");const e=ht(r);return n=at(t,e),e}});return n?yield n:r.authToken})).apply(this,arguments)}function it(t,e){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(t,e){let n=yield ot(t.appConfig);for(;1===n.authToken.requestStatus;)yield x(100),n=yield ot(t.appConfig);const r=n.authToken;return 0===r.requestStatus?nt(t,e):r})).apply(this,arguments)}function ot(t){return Z(t,t=>{if(!ct(t))throw m.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e})}function at(t,e){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(t,e){try{const n=yield X(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield U(t.appConfig,r),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield U(t.appConfig,n)}else yield j(t.appConfig);throw n}})).apply(this,arguments)}function ct(t){return void 0!==t&&2===t.registrationStatus}function ut(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function ht(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dt(){return(dt=(0,s.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield z(e.appConfig);return r?r.catch(console.error):nt(e).catch(console.error),n.fid})).apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(t,e=!1){const n=t;return yield pt(n.appConfig),(yield nt(n,e)).token})).apply(this,arguments)}function pt(t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(t){const{registrationPromise:e}=yield z(t);e&&(yield e)})).apply(this,arguments)}function gt(t){return m.create("missing-app-config-values",{valueName:t})}const yt="installations";(0,o._registerComponent)(new l.wA(yt,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw gt("App Configuration");if(!t.name)throw gt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,o._getProvider)(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",t=>{const e=t.getProvider("app").getImmediate(),n=(0,o._getProvider)(e,yt).getImmediate();return{getId:()=>function(t){return dt.apply(this,arguments)}(n),getToken:t=>function(t){return ft.apply(this,arguments)}(n,t)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const vt="@firebase/remote-config",_t="0.3.3",bt=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,n))return r;t.eTag=r&&r.eTag;const i=yield e.client.fetch(t),s=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(e.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function It(t=navigator){return t.languages&&t.languages[0]||t.language}class Et{constructor(t,e,n,r,i,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},o={sdk_version:e.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:e.appId,language_code:It()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(i,a),c=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(m){let t="fetch-client-network";throw"AbortError"===m.name&&(t="fetch-timeout"),bt.create(t,{originalErrorMessage:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let f,p;if(200===u.status){let t;try{t=yield u.json()}catch(m){throw bt.create("fetch-client-parse",{originalErrorMessage:m.message})}f=t.entries,p=t.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw bt.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Tt{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,s.Z)(function*(){const n=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,n)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),e}catch(i){if(!function(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i))throw i;const e={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(e),r.attemptFetch(t,e)}})()}}class St{constructor(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ct(t,e){const n=t.target.error||void 0;return bt.create(e,{originalErrorMessage:n&&n.message})}const xt="app_namespace_store";class kt{constructor(t,e,n,r=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=t=>{e(Ct(t,"storage-open"))},n.onsuccess=e=>{t(e.target.result)},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(xt,{keyPath:"compositeKey"})}}}catch(n){e(bt.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([xt],"readonly").objectStore(xt),o=e.createCompositeKey(t);try{const t=s.get(o);t.onerror=t=>{i(Ct(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;r(e?e.value:void 0)}}catch(a){i(bt.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(t,e){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([xt],"readwrite").objectStore(xt),a=n.createCompositeKey(t);try{const t=o.put({compositeKey:a,value:e});t.onerror=t=>{s(Ct(t,"storage-set"))},t.onsuccess=()=>{i()}}catch(l){s(bt.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([xt],"readwrite").objectStore(xt),o=e.createCompositeKey(t);try{const t=s.delete(o);t.onerror=t=>{i(Ct(t,"storage-delete"))},t.onsuccess=()=>{r()}}catch(a){i(bt.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class At{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,s.Z)(function*(){const e=t.storage.getLastFetchStatus(),n=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),i=yield e;i&&(t.lastFetchStatus=i);const s=yield n;s&&(t.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(t.activeConfig=o)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function Ot(){return(Ot=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw bt.create("registration-window");if(!(0,a.hl)())throw bt.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:l}=n.options;if(!i)throw bt.create("registration-project-id");if(!s)throw bt.create("registration-api-key");if(!l)throw bt.create("registration-app-id");const u=new kt(l,n.name,e=e||"firebase"),h=new At(u),d=new c.Yd(vt);d.logLevel=c.in.ERROR;const f=new Et(r,o.SDK_VERSION,e,i,s,l),p=new Tt(f,u),m=new wt(p,u,h,d),g=new St(n,m,h,u,d);return function(t){const e=(0,a.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(vt,_t),(0,o.registerVersion)(vt,_t,"esm2017");const Nt="/firebase-messaging-sw.js",Rt="/firebase-cloud-messaging-push-scope",Dt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Pt,Lt;function Ft(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mt(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Pt||(Pt={})),function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Lt||(Lt={}));const Ut="fcm_token_details_db",Vt="fcm_token_object_Store";function jt(t){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(Ut))return null;let e=null;return(yield(0,u.openDb)(Ut,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(Vt))return;const i=n.transaction.objectStore(Vt),s=yield i.index("fcmSenderId").get(t);if(yield i.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(r=t.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:Ft(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:Ft(t.auth),p256dh:Ft(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:Ft(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:Ft(t.auth),p256dh:Ft(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:Ft(t.vapidKey)}}}});return function(t){return n.apply(this,arguments)}}())).close(),yield(0,u.deleteDb)(Ut),yield(0,u.deleteDb)("fcm_vapid_details_db"),yield(0,u.deleteDb)("undefined"),Zt(e)?e:null})).apply(this,arguments)}function Zt(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Bt="firebase-messaging-store";let zt=null;function $t(){return zt||(zt=(0,u.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Bt)}})),zt}function Ht(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(t){const e=Jt(t),n=yield $t(),r=yield n.transaction(Bt).objectStore(Bt).get(e);if(r)return r;{const e=yield jt(t.appConfig.senderId);if(e)return yield Kt(t,e),e}})).apply(this,arguments)}function Kt(t,e){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(t,e){const n=Jt(t),r=(yield $t()).transaction(Bt,"readwrite");return yield r.objectStore(Bt).put(e,n),yield r.complete,e})).apply(this,arguments)}function Qt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(t){const e=Jt(t),n=(yield $t()).transaction(Bt,"readwrite");yield n.objectStore(Bt).delete(e),yield n.complete})).apply(this,arguments)}function Jt({appConfig:t}){return t.appId}const Xt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*(t,e){const n=yield ae(t),r=ce(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const e=yield fetch(oe(t.appConfig),i);s=yield e.json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ne(t,e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(t,e){const n=yield ae(t),r=ce(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${oe(t.appConfig)}/${e.token}`,i);s=yield n.json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-update-no-token");return s.token})).apply(this,arguments)}function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(t,e){const n={method:"DELETE",headers:yield ae(t)};try{const r=yield fetch(`${oe(t.appConfig)}/${e}`,n),i=yield r.json();if(i.error)throw Xt.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Xt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function oe({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function ae(t){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ce({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Dt&&(i.web.applicationPubKey=r),i}const ue=6048e5;function he(t){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(t){const e=yield _e(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ft(e.getKey("auth")),p256dh:Ft(e.getKey("p256dh"))},r=yield Ht(t.firebaseDependencies);if(r){if(we(r.subscriptionOptions,n))return Date.now()>=r.createTime+ue?me(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ie(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ye(t.firebaseDependencies,n)}return ye(t.firebaseDependencies,n)})).apply(this,arguments)}function fe(t){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(t){const e=yield Ht(t.firebaseDependencies);e&&(yield ie(t.firebaseDependencies,e.token),yield Qt(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function me(t,e){return ge.apply(this,arguments)}function ge(){return(ge=(0,s.Z)(function*(t,e){try{const n=yield ne(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Kt(t.firebaseDependencies,r),n}catch(n){throw yield fe(t),n}})).apply(this,arguments)}function ye(t,e){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(t,e){const n={token:yield te(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Kt(t,n),n.token})).apply(this,arguments)}function _e(t,e){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mt(e)})})).apply(this,arguments)}function we(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Ie(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Ee(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function Te(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Se(t){return Xt.create("missing-app-config-values",{valueName:t})}Te("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Te("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ce{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(t){if(!t||!t.options)throw Se("App Configuration Object");if(!t.name)throw Se("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Se(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function xe(t){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:Rt}),t.swRegistration.update().catch(()=>{})}catch(e){throw Xt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Ae(t,e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(t,e){if(e||t.swRegistration||(yield xe(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Ne(t,e){return Re.apply(this,arguments)}function Re(){return(Re=(0,s.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Dt)})).apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(t,e){if(!navigator)throw Xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xt.create("permission-blocked");return yield Ne(t,null==e?void 0:e.vapidKey),yield Ae(t,null==e?void 0:e.serviceWorkerRegistration),he(t)})).apply(this,arguments)}function Pe(t,e,n){return Le.apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(t,e,n){const r=Fe(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fe(t){switch(t){case Lt.NOTIFICATION_CLICKED:return"notification_open";case Lt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Me(){return(Me=(0,s.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Lt.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Ie(n)):t.onMessageHandler.next(Ie(n)));const r=n.data;Ee(r)&&"1"===r["google.c.a.e"]&&(yield Pe(t,n.messageType,r))})).apply(this,arguments)}const Ue="@firebase/messaging",Ve="0.9.4";function je(){return(je=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",t=>{const e=new Ce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return Me.apply(this,arguments)}(e,t)),e},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>function(t,e){return De.apply(this,arguments)}(e,t)}},"PRIVATE")),(0,o.registerVersion)(Ue,Ve),(0,o.registerVersion)(Ue,Ve,"esm2017");const qe="analytics",Ze="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Be="https://www.googletagmanager.com/gtag/js",ze=new c.Yd("@firebase/analytics");function $e(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function He(t,e){const n=document.createElement("script");n.src=`${Be}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Ge(t,e,n,r,i,s){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const t=(yield $e(n)).find(t=>t.measurementId===i);t&&(yield e[t.appId])}}catch(a){ze.error(a)}t("config",i,s)})).apply(this,arguments)}function We(t,e,n,r,i){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=yield $e(n);for(const n of t){const t=r.find(t=>t.measurementId===n),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ze.error(s)}})).apply(this,arguments)}function Ye(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Be))return e;return null}const Je=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xe=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function tn(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function en(t){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tn(r)},s=Ze.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=yield o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Je.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})).apply(this,arguments)}function rn(t){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(t,e=Xe,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Je.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Je.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new un;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),on({appId:r,apiKey:i,measurementId:o},a,l,e)})).apply(this,arguments)}function on(t,e,n){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Xe){const{appId:s,measurementId:o}=t;try{yield ln(r,e)}catch(l){if(o)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}try{const e=yield en(t);return i.deleteThrottleMetadata(s),e}catch(l){if(!cn(l)){if(i.deleteThrottleMetadata(s),o)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}const e=503===Number(l.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(s,c),ze.debug(`Calling attemptFetch again in ${e} millis`),on(t,c,r,i)}})).apply(this,arguments)}function ln(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Je.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cn(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class un{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function hn(){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(){if(!(0,a.hl)())return ze.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(t){return ze.warn(Je.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(t,e,n,r,i,s,o){var a;const l=rn(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>ze.error(t)),e.push(l);const c=hn().then(t=>t?r.getId():void 0),[u,h]=yield Promise.all([l,c]);Ye()||He(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class pn{constructor(t){this.app=t}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},gn=[];const yn={};let vn,_n,bn="dataLayer",wn=!1;function In(){return(In=(0,s.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}const Tn="@firebase/analytics",Sn="0.7.4";(0,o._registerComponent)(new l.wA(qe,(t,{options:e})=>function(t,e,n){!function(){const t=[];if((0,a.ru)()&&t.push("This is a browser extension environment."),(0,a.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=Je.create("invalid-analytics-context",{errorInfo:e});ze.warn(n.message)}}();const r=t.options.appId;if(!r)throw Je.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Je.create("no-api-key");ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[r])throw Je.create("already-exists",{id:r});if(!wn){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(t,e,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield We(t,e,n,s,o):"config"===i?yield Ge(t,e,n,r,s,o):t("set",s)}catch(a){ze.error(a)}})).apply(this,arguments)}return function(t,e,n){return i.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window.gtag}}(mn,gn,yn);_n=t,vn=e,wn=!0}return mn[r]=function(t,e,n,r,i,s,o){return fn.apply(this,arguments)}(t,gn,yn,e,vn,bn,n),new pn(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(t){try{const e=t.getProvider(qe).getImmediate();return{logEvent:(t,n,r)=>function(t,e,n,r){t=(0,a.m9)(t),function(t,e,n,r,i){return In.apply(this,arguments)}(_n,mn[t.app.options.appId],e,n,r).catch(t=>ze.error(t))}(e,t,n,r)}}catch(e){throw Je.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,o.registerVersion)(Tn,Sn),(0,o.registerVersion)(Tn,Sn,"esm2017");var Cn=n(9517),xn=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return(0,Cn.ZT)(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(5755).o),kn=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Cn.ZT)(e,t),e}(n(6160).v))(xn),An=n(7462),On=n(7979),Nn=n(2314),Rn=n(1989),Dn=n(7038),Pn=n(9879),Ln=n(3073),Fn=n(1034);const Mn=new r.GfV("7.2.0"),Un="__angularfire_symbol__analyticsIsSupported",Vn="__angularfire_symbol__remoteConfigIsSupported",jn="__angularfire_symbol__messagingIsSupported";function qn(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Un]||(globalThis[Un]=function(){return En.apply(this,arguments)}().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[jn]||(globalThis[jn]=function(){return je.apply(this,arguments)}().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Vn]||(globalThis[Vn]=function(){return Ot.apply(this,arguments)}().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const Zn=(t,e)=>{const n=e?[e]:(0,i.C6)(),r=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{r.includes(t)||r.push(t)})}),r};function Bn(){}class zn{constructor(t,e=kn){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class $n{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)),e.pipe((r={next:n,complete:n,error:n},i=(0,Nn.m)(r)?{next:r,error:undefined,complete:undefined}:r,i?(0,Rn.e)(function(t,e){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;t.subscribe(new Dn.Q(e,function(t){var n;null===(n=i.next)||void 0===n||n.call(i,t),e.next(t)},function(){var t;r=!1,null===(t=i.complete)||void 0===t||t.call(i),e.complete()},function(t){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,t),e.error(t)},function(){var t,e;r&&(null===(t=i.unsubscribe)||void 0===t||t.call(i)),null===(e=i.finalize)||void 0===e||e.call(i)}))}):Pn.y)).subscribe(t).add(n);var r,i}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zn(Zone.current)),this.insideAngular=t.run(()=>new zn(Zone.current,An.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Gn(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Kn(t){return Gn().ngZone.runOutsideAngular(()=>t())}function Wn(t){return Gn().ngZone.run(()=>t())}function Qn(t){return Gn(),(e=Gn(),function(t){return(t=t.lift(new $n(e.ngZone))).pipe((0,Ln.R)(e.outsideAngular),(0,Fn.Q)(e.insideAngular))})(t);var e}const Yn=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Wn(()=>t.apply(n,arguments))}},Jn=(t,e)=>function(){let n;for(let t=0;t<arguments.length;t++)"function"==typeof arguments[t]&&(e&&(n||(n=Wn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)))),arguments[t]=Yn(arguments[t],n));const r=Kn(()=>t.apply(this,arguments));if(!e){if(r instanceof On.y){const t=Gn();return r.pipe((0,Ln.R)(t.outsideAngular),(0,Fn.Q)(t.insideAngular))}return Wn(()=>r)}return r instanceof On.y?r.pipe(Qn):r instanceof Promise?Wn(()=>new Promise((t,e)=>r.then(e=>Wn(()=>t(e)),t=>Wn(()=>e(t))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Wn(()=>r)}},7979:(t,e,n)=>{"use strict";n.d(e,{y:()=>h});var r=n(575),i=n(9089),s=n(4157),o=n(9879);function a(t){return 0===t.length?o.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var l=n(7422),c=n(2314),u=n(471),h=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var s,o=this,a=(s=t)&&s instanceof r.Lv||function(t){return t&&(0,c.m)(t.next)&&(0,c.m)(t.error)&&(0,c.m)(t.complete)}(s)&&(0,i.Nn)(s)?t:new r.Hp(t,e,n);return(0,u.x)(function(){var t=o.operator,e=o.source;a.add(t?t.call(a,e):e?o._subscribe(a):o._trySubscribe(a))}),a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=d(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),null==i||i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[s.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=d(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function d(t){var e;return null!==(e=null!=t?t:l.v.Promise)&&void 0!==e?e:Promise}},575:(t,e,n)=>{"use strict";n.d(e,{Hp:()=>p,Lv:()=>f});var r=n(9517),i=n(2314),s=n(9089),o=n(7422),a=n(4608),l=n(4953),c=u("C",void 0,void 0);function u(t,e,n){return{kind:t,value:e,error:n}}var h=n(8827),d=n(471),f=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,s.Nn)(e)&&e.add(n)):n.destination=v,n}return(0,r.ZT)(e,t),e.create=function(t,e,n){return new p(t,e,n)},e.prototype.next=function(t){this.isStopped?y(function(t){return u("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?y(u("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(s.w0),p=function(t){function e(e,n,r){var s,a=t.call(this)||this;if((0,i.m)(e))s=e;else if(e){var c;s=e.next,n=e.error,r=e.complete,a&&o.v.useDeprecatedNextContext?(c=Object.create(e)).unsubscribe=function(){return a.unsubscribe()}:c=e,s=null==s?void 0:s.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}return a.destination={next:s?m(s):l.Z,error:m(null!=n?n:g),complete:r?m(r):l.Z},a}return(0,r.ZT)(e,t),e}(f);function m(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,(0,r.ev)([],(0,r.CR)(e)))}catch(i){o.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(i):(0,a.h)(i)}}}function g(t){throw t}function y(t,e){var n=o.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(t,e)})}var v={closed:!0,next:l.Z,error:g,complete:l.Z}},9089:(t,e,n)=>{"use strict";n.d(e,{Lc:()=>l,w0:()=>a,Nn:()=>c});var r=n(9517),i=n(2314),s=(0,n(3095).d)(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}),o=n(5697),a=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,o,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,r.XA)(l),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else l.remove(this);var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(v){a=v instanceof s?v.errors:[v]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var p=(0,r.XA)(f),m=p.next();!m.done;m=p.next()){var g=m.value;try{u(g)}catch(_){a=null!=a?a:[],_ instanceof s?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(_.errors)):a.push(_)}}}catch(b){n={error:b}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(a)throw new s(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)u(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,o.P)(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&(0,o.P)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),l=a.EMPTY;function c(t){return t instanceof a||t&&"closed"in t&&(0,i.m)(t.remove)&&(0,i.m)(t.add)&&(0,i.m)(t.unsubscribe)}function u(t){(0,i.m)(t)?t():t.unsubscribe()}},7422:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7038:(t,e,n)=>{"use strict";n.d(e,{Q:()=>i});var r=n(9517),i=function(t){function e(e,n,r,i,s){var o=t.call(this,e)||this;return o.onFinalize=s,o._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,o._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,o._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,o}return(0,r.ZT)(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(n(575).Lv)},1034:(t,e,n)=>{"use strict";n.d(e,{Q:()=>o});var r=n(2548),i=n(1989),s=n(7038);function o(t,e){return void 0===e&&(e=0),(0,i.e)(function(n,i){n.subscribe(new s.Q(i,function(n){return(0,r.f)(i,t,function(){return i.next(n)},e)},function(){return(0,r.f)(i,t,function(){return i.complete()},e)},function(n){return(0,r.f)(i,t,function(){return i.error(n)},e)}))})}},3073:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(1989);function i(t,e){return void 0===e&&(e=0),(0,r.e)(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}},5755:(t,e,n)=>{"use strict";n.d(e,{o:()=>a});var r=n(9517),i=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(9089).w0),s={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=s.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearInterval:function(t){var e=s.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},o=n(5697),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),s.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;s.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(i)},6160:(t,e,n)=>{"use strict";n.d(e,{v:()=>o});var r=n(9517),i=n(8890),s=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=i.l.now,t}(),o=function(t){function e(e,n){void 0===n&&(n=s.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(s)},7462:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>s});var r=n(5755),i=new(n(6160).v)(r.o),s=i},8890:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},8827:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var r=n(9517),i={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearTimeout:function(t){var e=i.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0}},4157:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},5697:(t,e,n)=>{"use strict";function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}n.d(e,{P:()=>r})},3095:(t,e,n)=>{"use strict";function r(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(e,{d:()=>r})},471:(t,e,n)=>{"use strict";n.d(e,{x:()=>s,O:()=>o});var r=n(7422),i=null;function s(t){if(r.v.useDeprecatedSynchronousErrorHandling){var e=!i;if(e&&(i={errorThrown:!1,error:null}),t(),e){var n=i;if(i=null,n.errorThrown)throw n.error}}else t()}function o(t){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=t)}},2548:(t,e,n)=>{"use strict";function r(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}n.d(e,{f:()=>r})},9879:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},2314:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},1989:(t,e,n)=>{"use strict";n.d(e,{e:()=>i});var r=n(2314);function i(t){return function(e){if(function(t){return(0,r.m)(null==t?void 0:t.lift)}(e))return e.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},4953:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},4608:(t,e,n)=>{"use strict";n.d(e,{h:()=>s});var r=n(7422),i=n(8827);function s(t){i.z.setTimeout(function(){var e=r.v.onUnhandledError;if(!e)throw t;e(t)})}},6986:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(5725),i=n(1947),s=n(7964),o=n(8678);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(e,a.name))return e[a.name];const l=new t(a,n);return e[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=i())=>{if("function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,r.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function i(t){if(!(0,r.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),i.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,r.ZB)(e,t)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.10",void 0)},7964:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>E,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>m,_addOrOverwriteComponent:()=>g,_apps:()=>f,_clearComponents:()=>b,_components:()=>p,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>_,deleteApp:()=>x,getApp:()=>S,getApps:()=>C,initializeApp:()=>T,onLog:()=>O,registerVersion:()=>A,setLogLevel:()=>N});var r=n(6304),i=n(1947),s=n(8678),o=n(5725);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const l="@firebase/app",c="0.7.9",u=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function m(t,e){try{t.container.addComponent(e)}catch(n){u.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function g(t,e){t.container.addOrOverwriteComponent(e)}function y(t){const e=t.name;if(p.has(e))return u.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of f.values())m(n,t);return!0}function v(t,e){return t.container.getProvider(e)}function _(t,e,n=h){v(t,e).clearInstance(n)}function b(){p.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class I{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const E="9.5.0";function T(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const l=new I(t,n,a);return f.set(r,l),l}function S(t=h){const e=f.get(t);if(!e)throw w.create("no-app",{appName:t});return e}function C(){return Array.from(f.values())}function x(t){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(t){const e=t.name;f.has(e)&&(f.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function A(t,e,n){var r;let s=null!==(r=d[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void u.warn(t.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function O(t,e){if(null!==t&&"function"!=typeof t)throw w.create("invalid-log-argument");(0,s.Am)(t,e)}function N(t){(0,s.Ub)(t)}y(new i.wA("platform-logger",t=>new a(t),"PRIVATE")),A(l,c,""),A(l,c,"esm2017"),A("fire-js","")},1504:(t,e,n)=>{"use strict";n.d(e,{$:()=>sn,A:()=>u,D:()=>S,E:()=>Pt,G:()=>Mt,I:()=>oe,K:()=>gt,L:()=>ge,M:()=>be,N:()=>we,P:()=>Xr,Q:()=>Ie,R:()=>qr,T:()=>_e,U:()=>Te,V:()=>Se,W:()=>Oe,X:()=>$e,Y:()=>Ge,Z:()=>We,_:()=>Xe,a:()=>ur,a0:()=>an,a1:()=>cn,a2:()=>hn,a3:()=>fn,a4:()=>mn,a5:()=>yn,a6:()=>vn,a7:()=>bn,a8:()=>wn,a9:()=>Sn,aA:()=>Ni,aB:()=>bi,aC:()=>Rt,aG:()=>dr,aJ:()=>Ee,aa:()=>xn,ab:()=>An,ad:()=>me,ae:()=>Dn,af:()=>Ln,ag:()=>Fn,ah:()=>Q,ai:()=>Y,aj:()=>Le,ak:()=>$n,al:()=>lt,am:()=>nr,an:()=>or,ao:()=>kt,ap:()=>I,aq:()=>xt,ar:()=>Tt,as:()=>m,at:()=>es,au:()=>Ui,av:()=>g,aw:()=>b,ax:()=>T,ay:()=>yt,az:()=>Li,b:()=>cr,c:()=>li,d:()=>di,e:()=>ui,f:()=>Ei,g:()=>xi,h:()=>Si,i:()=>xr,j:()=>Ai,k:()=>rs,l:()=>$r,m:()=>ss,n:()=>us,o:()=>c,p:()=>Hn,q:()=>Gn,r:()=>Gr,s:()=>Br,t:()=>Kn,u:()=>Yr,v:()=>Wn,w:()=>Qn,x:()=>Yn,y:()=>Jn,z:()=>h});var r=n(6304),i=n(5725),s=n(7964);function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var a=n(8678),l=n(1947);const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new a.Yd("@firebase/auth");function p(t,...e){f.logLevel<=a.in.ERROR&&f.error(`Auth (${s.SDK_VERSION}): ${t}`,...e)}function m(t,...e){throw _(t,...e)}function g(t,...e){return _(t,...e)}function y(t,e,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new i.LL("auth","Firebase",r).create(e,{appName:t.name})}function v(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&m(t,"argument-error"),y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d.create(t,...e)}function b(t,e,...n){if(!t)throw _(e,...n)}function w(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function I(t,e){t||w(e)}const E=new Map;function T(t){I(t instanceof Function,"Expected a class definition");let e=E.get(t);return e?(I(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E.set(t,e),e)}function S(t,e){const n=(0,s._getProvider)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=e?e:{}))return t;m(t,"already-initialized")}return n.initialize({options:e})}function C(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function x(){return"http:"===k()||"https:"===k()}function k(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class A{constructor(t,e){this.shortDelay=t,this.longDelay=e,I(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(x()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function O(t,e){I(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class N{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D=new A(3e4,6e4);function P(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function L(t,e,n,r){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(t,e,n,r,s={}){return M(t,s,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),l=new(N.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&l.set("X-Firebase-Locale",t.languageCode),N.fetch()(q(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function M(t,e,n){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R),e);try{const e=new Z(t),i=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw B(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw B(t,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(t,a,o);m(t,a)}}catch(s){if(s instanceof i.ZR)throw s;m(t,"network-request-failed")}})).apply(this,arguments)}function V(t,e,n,r){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(t,e,n,r,i={}){const s=yield L(t,e,n,r,i);return"mfaPendingCredential"in s&&m(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function q(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O(t.config,i):`${t.config.apiScheme}://${i}`}class Z{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(g(this.auth,"timeout")),D.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(t,e,r);return i.customData._tokenResponse=n,i}function z(){return(z=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $(t,e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function G(t,e){return K.apply(this,arguments)}function K(){return(K=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function W(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Q(t,e=!1){return(0,i.m9)(t).getIdToken(e)}function Y(t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(t,e=!1){const n=(0,i.m9)(t),r=yield n.getIdToken(e),s=tt(r);b(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:W(X(s.auth_time)),issuedAtTime:W(X(s.iat)),expirationTime:W(X(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function X(t){return 1e3*Number(t)}function tt(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.tV)(n);return t?JSON.parse(t):(p("Failed to decode base64 JWT payload"),null)}catch(s){return p("Caught error parsing JWT payload as JSON",s),null}}function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof i.ZR&&rt(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function rt({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class it{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,r.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,r.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class st{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ot(t){return at.apply(this,arguments)}function at(){return(at=(0,r.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield et(t,G(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ht(s.providerUserInfo):[],a=ut(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new st(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,c)})).apply(this,arguments)}function lt(t){return ct.apply(this,arguments)}function ct(){return(ct=(0,r.Z)(function*(t){const e=(0,i.m9)(t);yield ot(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ut(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function ht(t){return t.map(t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function dt(){return(dt=(0,r.Z)(function*(t,e){const n=yield M(t,{},()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=q(t,r,"/v1/token",`key=${s}`);return N.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){b(t.idToken,"internal-error"),b(void 0!==t.idToken,"internal-error"),b(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=tt(t);return b(e,"internal-error"),b(void 0!==e.exp,"internal-error"),b(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(t,e){return dt.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new ft;return n&&(b("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return w("not implemented")}}function pt(t,e){b("string"==typeof t||void 0===t,"internal-error",{appName:e})}class mt{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new it(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new st(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,r.Z)(function*(){const n=yield et(e,e.stsTokenManager.getToken(e.auth,t));return b(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return Y(this,t)}reload(){return lt(this)}_assign(t){this!==t&&(b(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new mt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,r.Z)(function*(){let r=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield ot(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,r.Z)(function*(){const e=yield t.getIdToken();return yield et(t,function(t,e){return z.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:w,providerData:I,stsTokenManager:E}=e;b(v&&E,t,"internal-error");const T=ft.fromJSON(this.name,E);b("string"==typeof v,t,"internal-error"),pt(u,t.name),pt(h,t.name),b("boolean"==typeof _,t,"internal-error"),b("boolean"==typeof w,t,"internal-error"),pt(d,t.name),pt(f,t.name),pt(p,t.name),pt(m,t.name),pt(g,t.name),pt(y,t.name);const S=new mt({uid:v,auth:t,email:h,emailVerified:_,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map(t=>Object.assign({},t))),m&&(S._redirectEventId=m),S}static _fromIdTokenResponse(t,e,n=!1){return(0,r.Z)(function*(){const r=new ft;r.updateFromServerResponse(e);const i=new mt({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield ot(i),i})()}}const gt=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,r.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,r.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function yt(t,e,n){return`firebase:${t}:${e}:${n}`}class vt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yt(this.userKey,r.apiKey,i),this.fullPersistenceKey=yt("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,r.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?mt._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,r.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,r.Z)(function*(){if(!e.length)return new vt(T(gt),t,n);const i=(yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=i[0]||T(gt);const o=yt(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const r=mt._fromJSON(t,e);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(c){}});return function(e){return t.apply(this,arguments)}}())),new vt(s,t,n)):new vt(s,t,n)})()}}function _t(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Et(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(St(e))return"Blackberry";if(Ct(e))return"Webos";if(wt(e))return"Safari";if((e.includes("chrome/")||It(e))&&!e.includes("edge/"))return"Chrome";if(Tt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function bt(t=(0,i.z$)()){return/firefox\//i.test(t)}function wt(t=(0,i.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function It(t=(0,i.z$)()){return/crios\//i.test(t)}function Et(t=(0,i.z$)()){return/iemobile/i.test(t)}function Tt(t=(0,i.z$)()){return/android/i.test(t)}function St(t=(0,i.z$)()){return/blackberry/i.test(t)}function Ct(t=(0,i.z$)()){return/webos/i.test(t)}function xt(t=(0,i.z$)()){return/iphone|ipad|ipod/i.test(t)}function kt(t=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function At(t=(0,i.z$)()){return xt(t)||Tt(t)||Ct(t)||St(t)||/windows phone/i.test(t)||Et(t)}function Ot(t,e=[]){let n;switch(t){case"Browser":n=_t((0,i.z$)());break;case"Worker":n=`${_t((0,i.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class Nt{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dt(this),this.idTokenSubscription=new Dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=T(e)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;n._deleted||(n.persistenceManager=yield vt.create(n,t),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(e),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,r.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();return t.currentUser||e?t.currentUser&&e&&t.currentUser.uid===e.uid?(t._currentUser._assign(e),void(yield t.currentUser.getIdToken())):void(yield t._updateCurrentUser(e)):void 0})()}initializeCurrentUser(t){var e=this;return(0,r.Z)(function*(){var n;let r=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const i=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield e.tryRedirectSignIn(t);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(b(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)):e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,r.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,r.Z)(function*(){try{yield ot(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,r.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){const n=t?(0,i.m9)(t):null;return n&&b(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){if(!e._deleted)return t&&b(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,r.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,r.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,r.Z)(function*(){yield e.assertedPersistence.setPersistence(T(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,r.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&T(t)||e._popupRedirectResolver;b(n,e,"argument-error"),e.redirectPersistenceManager=yield vt.create(e,[T(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,r.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,r.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,r.Z)(function*(){if(t===e.currentUser)return e.queue((0,r.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,r.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ot(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rt(t){return(0,i.m9)(t)}class Dt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.ne)(t=>this.observer=t)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pt(t,e,n){const r=Rt(t);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Lt(e),{host:o,port:a}=function(t){const e=Lt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Ft(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Ft(e)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Lt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ft(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Mt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return w("not implemented")}_getIdTokenResponse(t){return w("not implemented")}_linkToIdToken(t,e){return w("not implemented")}_getReauthenticationResolver(t){return w("not implemented")}}function Ut(t,e){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:resetPassword",P(t,e))})).apply(this,arguments)}function jt(t,e){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Zt(t,e){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:update",P(t,e))})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPassword",P(t,e))})).apply(this,arguments)}function $t(t,e){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:sendOobCode",P(t,e))})).apply(this,arguments)}function Gt(t,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(t,e){return $t(t,e)})).apply(this,arguments)}function Wt(t,e){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(t,e){return $t(t,e)})).apply(this,arguments)}function Yt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(t,e){return $t(t,e)})).apply(this,arguments)}function Xt(t,e){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(function*(t,e){return $t(t,e)})).apply(this,arguments)}function ee(){return(ee=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",P(t,e))})).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",P(t,e))})).apply(this,arguments)}class re extends Mt{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new re(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new re(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,r.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return zt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return ee.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:m(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return jt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return ne.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:m(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithIdp",P(t,e))})).apply(this,arguments)}class oe extends Mt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new oe(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):m("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=o(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new oe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return ie(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ie(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ie(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,i.xO)(e)}return t}}function ae(t,e){return le.apply(this,arguments)}function le(){return(le=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:sendVerificationCode",P(t,e))})).apply(this,arguments)}function ce(){return(ce=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,e))})).apply(this,arguments)}function ue(){return(ue=(0,r.Z)(function*(t,e){const n=yield V(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,e));if(n.temporaryProof)throw B(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const he={USER_NOT_FOUND:"user-not-found"};function de(){return(de=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),he)})).apply(this,arguments)}class fe extends Mt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new fe({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new fe({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return ce.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return ue.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return de.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new fe({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pe{constructor(t){var e,n,r,s,o,a;const l=(0,i.zd)((0,i.pd)(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);b(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,i.zd)((0,i.pd)(t)).link,n=e?(0,i.zd)((0,i.pd)(e)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(t)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||e||t}(t);try{return new pe(e)}catch(n){return null}}}function me(t){return pe.parseLink(t)}let ge=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return re._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=pe.parseLink(e);return b(n,"argument-error"),re._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ye{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ve extends ye{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class _e extends ve{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return b("providerId"in e&&"signInMethod"in e,"argument-error"),oe._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return b(t.idToken||t.accessToken,"argument-error"),oe._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return _e.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return _e.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!(n||r||e||i))return null;if(!o)return null;try{return new _e(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let be=(()=>{class t extends ve{constructor(){super("facebook.com")}static credential(e){return oe._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),we=(()=>{class t extends ve{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oe._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),Ie=(()=>{class t extends ve{constructor(){super("github.com")}static credential(e){return oe._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class Ee extends Mt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return ie(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ie(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ie(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new Ee(n,i):null}static _create(t,e){return new Ee(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Te extends ye{constructor(t){b(t.startsWith("saml."),"argument-error"),super(t)}static credentialFromResult(t){return Te.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return Te.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const e=Ee.fromJSON(t);return b(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:e,providerId:n}=t;if(!e||!n)return null;try{return Ee._create(n,e)}catch(r){return null}}}let Se=(()=>{class t extends ve{constructor(){super("twitter.com")}static credential(e,n){return oe._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function Ce(t,e){return xe.apply(this,arguments)}function xe(){return(xe=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signUp",P(t,e))})).apply(this,arguments)}class ke{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return(0,r.Z)(function*(){const r=yield mt._fromIdTokenResponse(t,n,i),s=Ae(n);return new ke({user:r,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,r.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const r=Ae(n);return new ke({user:t,providerId:r,_tokenResponse:n,operationType:e})})()}}function Ae(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Oe(t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(t){var e;const n=Rt(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new ke({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield Ce(n,{returnSecureToken:!0}),i=yield ke._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Re extends i.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Re.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Re(t,e,n,r)}}function De(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Re._fromErrorAndOperation(t,n,e,r);throw n})}function Pe(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function Le(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t);yield Ve(!0,n,e);const{providerUserInfo:r}=yield $(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),s=Pe(r||[]);return n.providerData=n.providerData.filter(t=>s.has(t.providerId)),s.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Me(t,e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(t,e,n=!1){const r=yield et(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ke._forOperation(t,"link",r)})).apply(this,arguments)}function Ve(t,e,n){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(t,e,n){yield ot(e);const r=!1===t?"provider-already-linked":"no-such-provider";b(Pe(e.providerData).has(n)===t,e.auth,r)})).apply(this,arguments)}function qe(t,e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield et(t,De(r,i,e,t),n);b(s.idToken,r,"internal-error");const o=tt(s.idToken);b(o,r,"internal-error");const{sub:a}=o;return b(t.uid===a,r,"user-mismatch"),ke._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&m(r,"user-mismatch"),s}})).apply(this,arguments)}function Be(t,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(t,e,n=!1){const r="signIn",i=yield De(t,r,e),s=yield ke._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function $e(t,e){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(t,e){return Be(Rt(t),e)})).apply(this,arguments)}function Ge(t,e){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t);return yield Ve(!1,n,e.providerId),Me(n,e)})).apply(this,arguments)}function We(t,e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(t,e){return qe((0,i.m9)(t),e)})).apply(this,arguments)}function Ye(t,e){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithCustomToken",P(t,e))})).apply(this,arguments)}function Xe(t,e){return tn.apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(t,e){const n=Rt(t),r=yield Ye(n,{token:e,returnSecureToken:!0}),i=yield ke._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class en{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?nn._fromServerResponse(t,e):m(t,"internal-error")}}class nn extends en{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new nn(e)}}function rn(t,e,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function sn(t,e,n){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"PASSWORD_RESET",email:e};n&&rn(r,s,n),yield Wt(r,s)})).apply(this,arguments)}function an(t,e,n){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(t,e,n){yield Ut((0,i.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function cn(t,e){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(t,e){yield Zt((0,i.m9)(t),{oobCode:e})})).apply(this,arguments)}function hn(t,e){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t),r=yield Ut(n,{oobCode:e}),s=r.requestType;switch(b(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=en._fromServerResponse(Rt(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}})).apply(this,arguments)}function fn(t,e){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)(function*(t,e){const{data:n}=yield hn((0,i.m9)(t),e);return n.email})).apply(this,arguments)}function mn(t,e,n){return gn.apply(this,arguments)}function gn(){return(gn=(0,r.Z)(function*(t,e,n){const r=Rt(t),i=yield Ce(r,{returnSecureToken:!0,email:e,password:n}),s=yield ke._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function yn(t,e,n){return $e((0,i.m9)(t),ge.credential(e,n))}function vn(t,e,n){return _n.apply(this,arguments)}function _n(){return(_n=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"EMAIL_SIGNIN",email:e};b(n.handleCodeInApp,r,"argument-error"),n&&rn(r,s,n),yield Yt(r,s)})).apply(this,arguments)}function bn(t,e){const n=pe.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}function wn(t,e,n){return In.apply(this,arguments)}function In(){return(In=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s=ge.credentialWithLink(e,n||C());return b(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$e(r,s)})).apply(this,arguments)}function En(t,e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:createAuthUri",P(t,e))})).apply(this,arguments)}function Sn(t,e){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,r.Z)(function*(t,e){const n={identifier:e,continueUri:x()?C():"http://localhost"},{signinMethods:r}=yield En((0,i.m9)(t),n);return r||[]})).apply(this,arguments)}function xn(t,e){return kn.apply(this,arguments)}function kn(){return(kn=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&rn(n.auth,r,e);const{email:s}=yield Gt(n.auth,r);s!==t.email&&(yield t.reload())})).apply(this,arguments)}function An(t,e,n){return On.apply(this,arguments)}function On(){return(On=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&rn(r.auth,s,n);const{email:o}=yield Xt(r.auth,s);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function Nn(t,e){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,r.Z)(function*(t,e){return L(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Dn(t,e){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,r.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,i.m9)(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield et(r,Nn(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function Ln(t,e){return Mn((0,i.m9)(t),e,null)}function Fn(t,e){return Mn((0,i.m9)(t),null,e)}function Mn(t,e,n){return Un.apply(this,arguments)}function Un(){return(Un=(0,r.Z)(function*(t,e,n){const{auth:r}=t,i={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=yield et(t,jt(r,i));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class Vn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class jn extends Vn{constructor(t,e,n,r){super(t,e,n),this.username=r}}class qn extends Vn{constructor(t,e){super(t,"facebook.com",e)}}class Zn extends jn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class Bn extends Vn{constructor(t,e){super(t,"google.com",e)}}class zn extends jn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function $n(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null==t?void 0:t.idToken)){const r=null===(n=null===(e=tt(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Vn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new qn(s,i);case"github.com":return new Zn(s,i);case"google.com":return new Bn(s,i);case"twitter.com":return new zn(s,i,t.screenName||null);case"custom":case"anonymous":return new Vn(s,null);default:return new Vn(s,r,i)}}(n)}function Hn(t,e){return(0,i.m9)(t).setPersistence(e)}function Gn(t,e,n,r){return(0,i.m9)(t).onIdTokenChanged(e,n,r)}function Kn(t,e,n,r){return(0,i.m9)(t).onAuthStateChanged(e,n,r)}function Wn(t){(0,i.m9)(t).useDeviceLanguage()}function Qn(t,e){return(0,i.m9)(t).updateCurrentUser(e)}function Yn(t){return(0,i.m9)(t).signOut()}function Jn(t){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,r.Z)(function*(t){return(0,i.m9)(t).delete()})).apply(this,arguments)}class tr{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new tr("enroll",t)}static _fromMfaPendingCredential(t){return new tr("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return tr._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return tr._fromIdtoken(t.multiFactorSession.idToken)}return null}}class er{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Rt(t),i=e.customData._serverResponse,s=(i.mfaInfo||[]).map(t=>en._fromServerResponse(n,t));b(i.mfaPendingCredential,n,"internal-error");const o=tr._fromMfaPendingCredential(i.mfaPendingCredential);return new er(o,s,function(){var t=(0,r.Z)(function*(t){const r=yield t._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=yield ke._fromIdTokenResponse(n,e.operationType,s);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return b(e.user,n,"internal-error"),ke._forOperation(e.user,e.operationType,s);default:m(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,r.Z)(function*(){return e.signInResolver(t)})()}}function nr(t,e){var n;const r=(0,i.m9)(t),s=e;return b(e.customData.operationType,r,"argument-error"),b(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),er._fromError(r,s)}function rr(t,e){return L(t,"POST","/v2/accounts/mfaEnrollment:start",P(t,e))}class ir{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>en._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new ir(t)}getSession(){var t=this;return(0,r.Z)(function*(){return tr._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,r.Z)(function*(){const r=t,i=yield n.getSession(),s=yield et(n.user,r._process(n.user.auth,i,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,r.Z)(function*(){const n="string"==typeof t?t:t.uid,r=yield e.user.getIdToken(),i=yield et(e.user,(s=e.user.auth,o={idToken:r,mfaEnrollmentId:n},L(s,"POST","/v2/accounts/mfaEnrollment:withdraw",P(s,o))));var s,o;e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(i);try{yield e.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const sr=new WeakMap;function or(t){const e=(0,i.m9)(t);return sr.has(e)||sr.set(e,ir._fromUser(e)),sr.get(e)}const ar="__sak";class lr{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ar,"1"),this.storage.removeItem(ar),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cr=(()=>{class t extends lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,i.z$)();return wt(t)||xt(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=At(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,t,e),i.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield e().call(n,t);return n.localCache[t]=JSON.stringify(r),r})()}_remove(t){var e=()=>super._remove,n=this;return(0,r.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),ur=(()=>{class t extends lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let hr=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const r=new t(e);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,r.Z)(function*(){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var t=(0,r.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,r.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function dr(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class fr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=dr("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function pr(){return window}function mr(){return void 0!==pr().WorkerGlobalScope&&"function"==typeof pr().importScripts}function gr(){return(gr=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const yr="firebaseLocalStorageDb",vr="firebaseLocalStorage",_r="fbase_key";class br{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wr(t,e){return t.transaction([vr],e?"readwrite":"readonly").objectStore(vr)}function Ir(){const t=indexedDB.open(yr,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(vr,{keyPath:_r})}catch(r){n(r)}}),t.addEventListener("success",(0,r.Z)(function*(){const n=t.result;n.objectStoreNames.contains(vr)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(yr);return new br(t).toPromise()}(),e(yield Ir()))}))})}function Er(t,e,n){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(t,e,n){const r=wr(t,!0).put({[_r]:e,value:n});return new br(r).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(t,e){const n=wr(t,!1).get(e),r=yield new br(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Cr(t,e){const n=wr(t,!0).delete(e);return new br(n).toPromise()}const xr=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,r.Z)(function*(){return t.db||(t.db=yield Ir()),t.db})()}_withRetries(t){var e=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(r){if(n++>3)throw r;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,r.Z)(function*(){return mr()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,r.Z)(function*(){t.receiver=hr._getInstance(mr()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,r.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,r.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,r.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return gr.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new fr(t.activeServiceWorker);const r=yield t.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,r.Z)(function*(){var n;if(e.sender&&e.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Ir();return yield Er(t,ar,"1"),yield Cr(t,ar),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,r.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Er(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return Sr.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,r.Z)(function*(){return e._withPendingWrite((0,r.Z)(function*(){return yield e._withRetries(e=>Cr(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,r.Z)(function*(){const e=yield t._withRetries(t=>{const e=wr(t,!1).getAll();return new br(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(t.localCache[i])!==JSON.stringify(s)&&(t.notifyListeners(i,s),n.push(i));for(const i of Object.keys(t.localCache))t.localCache[i]&&!r.has(i)&&(t.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function kr(t,e){return L(t,"POST","/v2/accounts/mfaSignIn:start",P(t,e))}function Ar(){return(Ar=(0,r.Z)(function*(t){return(yield L(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Or(t){return new Promise((e,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=g("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Nr(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Rr=1e12;class Dr{constructor(t){this.auth=t,this.counter=Rr,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new Pr(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Rr;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Rr))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,r.Z)(function*(){var n;return null===(n=e._widgets.get(t||Rr))||void 0===n||n.execute(),""})()}}class Pr{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof t?document.getElementById(t):t;b(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lr=Nr("rcb"),Fr=new A(3e4,6e4);class Mr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pr().grecaptcha}load(t,e=""){return b(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(pr().grecaptcha):new Promise((n,r)=>{const s=pr().setTimeout(()=>{r(g(t,"network-request-failed"))},Fr.get());pr()[Lr]=()=>{pr().clearTimeout(s),delete pr()[Lr];const i=pr().grecaptcha;if(!i)return void r(g(t,"internal-error"));const o=i.render;i.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(i)},Or(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:Lr,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(s),r(g(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!pr().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ur{load(t){return(0,r.Z)(function*(){return new Dr(t)})()}clearedOneInstance(){}}const Vr="recaptcha",jr={theme:"light",type:"image"};class qr{constructor(t,e=Object.assign({},jr),n){this.parameters=e,this.type=Vr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ur:new Mr,this.validateStartingState()}verify(){var t=this;return(0,r.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(r=>{const i=e=>{e&&(t.tokenChangeListeners.delete(i),r(e))};t.tokenChangeListeners.add(i),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=pr()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,r.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,r.Z)(function*(){b(x()&&!mr(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return Ar.apply(this,arguments)}(t.auth);b(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zr{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=fe._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function Br(t,e,n){return zr.apply(this,arguments)}function zr(){return(zr=(0,r.Z)(function*(t,e,n){const r=Rt(t),s=yield Wr(r,e,(0,i.m9)(n));return new Zr(s,t=>$e(r,t))})).apply(this,arguments)}function $r(t,e,n){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);yield Ve(!1,r,"phone");const s=yield Wr(r.auth,e,(0,i.m9)(n));return new Zr(s,t=>Ge(r,t))})).apply(this,arguments)}function Gr(t,e,n){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s=yield Wr(r.auth,e,(0,i.m9)(n));return new Zr(s,t=>We(r,t))})).apply(this,arguments)}function Wr(t,e,n){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,t,"argument-error"),b(n.type===Vr,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return b("enroll"===e.type,t,"internal-error"),(yield rr(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,t,"missing-multi-factor-info"),(yield kr(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield ae(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}})).apply(this,arguments)}function Yr(t,e){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(function*(t,e){yield Me((0,i.m9)(t),e)})).apply(this,arguments)}let Xr=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Rt(e)}verifyPhoneNumber(t,e){return Wr(this.auth,t,(0,i.m9)(e))}static credential(t,e){return fe._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?fe._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function ti(t,e){return e?T(e):(b(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class ei extends Mt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ie(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ie(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ie(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ni(t){return Be(t.auth,new ei(t),t.bypassAuthState)}function ri(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),qe(n,new ei(t),t.bypassAuthState)}function ii(t){return si.apply(this,arguments)}function si(){return(si=(0,r.Z)(function*(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),Me(n,new ei(t),t.bypassAuthState)})).apply(this,arguments)}class oi{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,r.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(r){t.reject(r)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const l={auth:e.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(l))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:m(this.auth,"internal-error")}}resolve(t){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ai=new A(2e3,1e4);function li(t,e,n){return ci.apply(this,arguments)}function ci(){return(ci=(0,r.Z)(function*(t,e,n){const r=Rt(t);v(t,e,ye);const i=ti(r,n);return new pi(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function ui(t,e,n){return hi.apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,ye);const s=ti(r.auth,n);return new pi(r.auth,"reauthViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}function di(t,e,n){return fi.apply(this,arguments)}function fi(){return(fi=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,ye);const s=ti(r.auth,n);return new pi(r.auth,"linkViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}let pi=(()=>{class t extends oi{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,r.Z)(function*(){const e=yield t.execute();return b(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,r.Z)(function*(){I(1===t.filter.length,"Popup operations only handle one event");const e=dr();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(g(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,ai.get())};t()}}return t.currentPopupAction=null,t})();const mi=new Map;class gi extends oi{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,r.Z)(function*(){let n=mi.get(e.auth._key());if(!n){try{const r=(yield function(t,e){return yi.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}mi.set(e.auth._key(),n)}return e.bypassAuthState||mi.set(e.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const r=yield n.auth._redirectUserForId(t.eventId);if(r)return n.user=r,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function yi(){return(yi=(0,r.Z)(function*(t,e){const n=Ii(e),r=wi(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function vi(t,e){return _i.apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(t,e){return wi(t)._set(Ii(e),"true")})).apply(this,arguments)}function bi(){mi.clear()}function wi(t){return T(t._redirectPersistence)}function Ii(t){return yt("pendingRedirect",t.config.apiKey,t.name)}function Ei(t,e,n){return function(t,e,n){return Ti.apply(this,arguments)}(t,e,n)}function Ti(){return(Ti=(0,r.Z)(function*(t,e,n){const r=Rt(t);v(t,e,ye);const i=ti(r,n);return yield vi(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function Si(t,e,n){return function(t,e,n){return Ci.apply(this,arguments)}(t,e,n)}function Ci(){return(Ci=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,ye);const s=ti(r.auth,n);yield vi(s,r.auth);const o=yield Di(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function xi(t,e,n){return function(t,e,n){return ki.apply(this,arguments)}(t,e,n)}function ki(){return(ki=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,ye);const s=ti(r.auth,n);yield Ve(!1,r,e.providerId),yield vi(s,r.auth);const o=yield Di(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function Ai(t,e){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,r.Z)(function*(t,e){return yield Rt(t)._initializationPromise,Ni(t,e,!1)})).apply(this,arguments)}function Ni(t,e){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,r.Z)(function*(t,e,n=!1){const r=Rt(t),i=ti(r,e),s=new gi(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}function Di(t){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,r.Z)(function*(t){const e=dr(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class Li{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mi(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Mi(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(g(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fi(t))}saveEventToCache(t){this.cachedEventUids.add(Fi(t)),this.lastProcessedEventTime=Date.now()}}function Fi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Mi({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Ui(t){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,r.Z)(function*(t,e={}){return L(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qi=/^https?/;function Zi(){return(Zi=(0,r.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Ui(t);for(const r of e)try{if(Bi(r))return}catch(n){}m(t,"unauthorized-domain")})).apply(this,arguments)}function Bi(t){const e=C(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qi.test(n))return!1;if(ji.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zi=new A(3e4,6e4);function $i(){const t=pr().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Hi=null;function Gi(t){return Hi=Hi||function(t){return new Promise((e,n)=>{var r,i,s;function o(){$i(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$i(),n(g(t,"network-request-failed"))},timeout:zi.get()})}if(null===(i=null===(r=pr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=pr().gapi)||void 0===s?void 0:s.load)){const e=Nr("iframefcb");return pr()[e]=()=>{gapi.load?o():n(g(t,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${e}`)}o()}}).catch(t=>{throw Hi=null,t})}(t),Hi}const Ki=new A(5e3,15e3),Wi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yi(t){const e=t.config;b(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:s.SDK_VERSION},o=Qi.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}function Ji(){return(Ji=(0,r.Z)(function*(t){const e=yield Gi(t),n=pr().gapi;return b(n,t,"internal-error"),e.open({where:document.body,url:Yi(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wi,dontclear:!0},e=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield e.restyle({setHideOnLeave:!1});const i=g(t,"network-request-failed"),s=pr().setTimeout(()=>{r(i)},Ki.get());function o(){pr().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{r(i)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const Xi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ts{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function es(t,e,n,r,o,a){b(t.config.authDomain,t,"auth-domain-config-required"),b(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(e instanceof ye){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,i.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof ve){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${function({config:t}){return t.emulator?O(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,i.xO)(c).slice(1)}`}const ns="webStorageSupport",rs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ur,this._completeRedirectFn=Ni}_openPopup(t,e,n,s){var o=this;return(0,r.Z)(function*(){var r;I(null===(r=o.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=es(t,e,n,C(),s);return function(t,e,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Xi),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=It(u)?"_blank":n),bt(u)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,i.z$)()){var e;return xt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",l),new ts(null);const d=window.open(e||"",l,h);b(d,t,"popup-blocked");try{d.focus()}catch(f){}return new ts(d)}(t,a,dr())})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(t),r=es(t,e,n,C(),i),pr().location.href=r,new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(I(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}initAndGetManager(t){var e=this;return(0,r.Z)(function*(){const n=yield function(t){return Ji.apply(this,arguments)}(t),r=new Li(t);return n.register("authEvent",e=>(b(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=n,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ns,{type:ns},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),m(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return Zi.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return At()||wt()||xt()}};class is extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new is(t)}_finalizeEnroll(t,e,n){return function(t,e){return L(t,"POST","/v2/accounts/mfaEnrollment:finalize",P(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return L(t,"POST","/v2/accounts/mfaSignIn:finalize",P(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ss=(()=>{class t{constructor(){}static assertion(t){return is._fromCredential(t)}}return t.FACTOR_ID="phone",t})();var os,as="@firebase/auth",ls="0.19.3";class cs{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,r.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function us(t=(0,s.getApp)()){const e=(0,s._getProvider)(t,"auth");return e.isInitialized()?e.getImmediate():S(t,{popupRedirectResolver:rs,persistence:[xr,cr,ur]})}os="Browser",(0,s._registerComponent)(new l.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{b(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),b(!(null==i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:os,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ot(os)},s=new Nt(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new l.wA("auth-internal",t=>{return e=Rt(t.getProvider("auth").getImmediate()),new cs(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(as,ls,void 0),(0,s.registerVersion)(as,ls,"esm2017")},1947:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>l});var r=n(6304),i=n(5725);class s{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const o="[DEFAULT]";class a{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,r.Z)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===o?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new a(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},8678:(t,e,n)=>{"use strict";n.d(e,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function u(t){r.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},5725:(t,e,n)=>{"use strict";n.d(e,{BH:()=>l,LL:()=>S,ZR:()=>T,zI:()=>I,US:()=>i,tV:()=>o,$s:()=>M,r3:()=>x,Sg:()=>c,ne:()=>P,vZ:()=>A,ZB:()=>a,pd:()=>D,Rd:()=>E,m9:()=>U,z$:()=>u,jU:()=>f,ru:()=>p,d:()=>g,xb:()=>k,w1:()=>y,hl:()=>b,uI:()=>h,UG:()=>d,b$:()=>m,G6:()=>_,Mn:()=>v,xO:()=>N,zd:()=>R,eu:()=>w});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();r.push(e<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},o=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return u().indexOf("Electron/")>=0}function y(){const t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}function _(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function w(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function E(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}class T extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(C,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new T(r,`${this.serviceName}: ${s} (${r}).`,n)}}const C=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(O(n)&&O(s)){if(!A(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(t){return null!==t&&"object"==typeof t}function N(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function D(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function P(t,e){const n=new L(t,e);return n.subscribe.bind(n)}class L{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}}),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}function M(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{P2:()=>r.deleteApp,Mq:()=>r.getApp,C6:()=>r.getApps,ZF:()=>r.initializeApp,TP:()=>r.onLog,KN:()=>r.registerVersion,Ub:()=>r.setLogLevel});var r=n(7964);(0,r.registerVersion)("firebase","9.5.0","app")},9001:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(6986);r.Z.registerVersion("firebase","9.5.0","app-compat")},3121:(t,e,n)=>{"use strict";n.r(e);var r=n(6304),i=n(6986),s=n(1504),o=n(5725),a=(n(7964),n(8678),n(1947));function l(){return window}function c(){return(c=(0,r.Z)(function*(t,e,n){var r;const{BuildInfo:i}=l();(0,s.ap)(e.sessionId,"AuthEvent did not contain a session ID");const o=yield d(e.sessionId),a={};return(0,s.aq)()?a.ibi=i.packageName:(0,s.ar)()?a.apn=i.packageName:(0,s.as)(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,(0,s.at)(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,a)})).apply(this,arguments)}function u(){return(u=(0,r.Z)(function*(t){const{BuildInfo:e}=l(),n={};(0,s.aq)()?n.iosBundleId=e.packageName:(0,s.ar)()?n.androidPackageName=e.packageName:(0,s.as)(t,"operation-not-supported-in-this-environment"),yield(0,s.au)(t,n)})).apply(this,arguments)}function h(){return(h=(0,r.Z)(function*(t,e,n){const{cordova:r}=l();let i=()=>{};try{yield new Promise((o,a)=>{let l=null;function c(){var t;o();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){l||(l=window.setTimeout(()=>{a((0,s.av)(t,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),(0,s.ar)()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",h,!1),l&&window.clearTimeout(l)}})}finally{i()}})).apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(function*(t){const e=p(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function p(t){if((0,s.ap)(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}class m extends s.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,r.Z)(function*(){yield t.initPromise})()}}function g(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(function*(t){const e=yield _()._get(b(t));return e&&(yield _()._remove(b(t))),e})).apply(this,arguments)}function v(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function _(){return(0,s.ax)(s.b)}function b(t){return(0,s.ay)("authEvent",t.config.apiKey,t.name)}function w(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,o.zd)(n.join("?"))}function I(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.av)("no-auth-event")}}function E(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function T(t=(0,o.z$)()){return!("file:"!==E()&&"ionic:"!==E()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function S(){try{const t=self.localStorage,e=s.aG();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,o.z$)()){return(0,o.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(t=(0,o.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,o.hl)()}catch(t){return C()&&(0,o.hl)()}return!1}function C(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function x(){return("http:"===E()||"https:"===E()||(0,o.ru)()||T())&&!((0,o.b$)()||(0,o.UG)())&&S()&&!C()}function k(){return T()&&"undefined"!=typeof document}function A(){return(A=(0,r.Z)(function*(){return!!k()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const O={LOCAL:"local",NONE:"none",SESSION:"session"},N=s.aw,R="persistence";function D(t){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(t){yield t._initializationPromise;const e=L(),n=s.ay(R,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function L(){return"undefined"!=typeof window?window:null}const F=s.aw;class M{constructor(){this.browserResolver=s.ax(s.k),this.cordovaResolver=s.ax(class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aA}_initialize(t){var e=this;return(0,r.Z)(function*(){const n=t._key();let r=e.eventManagers.get(n);return r||(r=new m(t),e.eventManagers.set(n,r),e.attachCallbackListeners(t,r)),r})()}_openPopup(t){(0,s.as)(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,i){var o=this;return(0,r.Z)(function*(){!function(t){var e,n,r,i,o,a,c,u,h,d;const f=l();(0,s.aw)("function"==typeof(null===(e=null==f?void 0:f.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aw)(void 0!==(null===(n=null==f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aw)("function"==typeof(null===(o=null===(i=null===(r=null==f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"==typeof(null===(u=null===(c=null===(a=null==f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===c?void 0:c.browsertab)||void 0===u?void 0:u.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"==typeof(null===(d=null===(h=null==f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const r=yield o._initialize(t);yield r.initialized(),r.resetRedirect(),(0,s.aB)(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:v(),postBody:null,tenantId:t.tenantId,error:(0,s.av)(t,"no-auth-event")}}(t,n,i);yield function(t,e){return _()._set(b(t),e)}(t,a);const u=yield function(t,e,n){return c.apply(this,arguments)}(t,a,e),d=yield function(t){const{cordova:e}=l();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,(0,s.ao)()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(t,e,n){return h.apply(this,arguments)}(t,r,d)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return u.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:i,BuildInfo:o}=l(),a=setTimeout((0,r.Z)(function*(){yield g(t),e.onEvent(I())}),500),c=function(){var n=(0,r.Z)(function*(n){clearTimeout(a);const r=yield g(t);let i=null;r&&(null==n?void 0:n.url)&&(i=function(t,e){var n,r;const i=function(t){const e=w(t),n=e.link?decodeURIComponent(e.link):void 0,r=w(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return w(i).link||i||r||n||t}(e);if(i.includes("/__/auth/callback")){const e=w(i),o=e.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(e.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=a?(0,s.av)(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),e.onEvent(i||I())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,c);const u=i,h=`${o.packageName.toLowerCase()}://`;l().handleOpenURL=function(){var t=(0,r.Z)(function*(t){if(t.toLowerCase().startsWith(h)&&c({url:t}),"function"==typeof u)try{u(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aA}_initialize(t){var e=this;return(0,r.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,i)})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,i)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return k()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,r.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return A.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function U(t){return t.unwrap()}function V(t){const{_tokenResponse:e}=t instanceof o.ZR?t.customData:t;if(!e)return null;if(!(t instanceof o.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return s.P.credentialFromResult(t);const n=e.providerId;if(!n||n===s.o.PASSWORD)return null;let r;switch(n){case s.o.GOOGLE:r=s.N;break;case s.o.FACEBOOK:r=s.M;break;case s.o.GITHUB:r=s.Q;break;case s.o.TWITTER:r=s.V;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return i||o||t||a?a?n.startsWith("saml.")?s.aJ._create(n,a):s.I._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:t,accessToken:i}):new s.T(n).credential({idToken:t,accessToken:i,rawNonce:l}):null}return t instanceof o.ZR?r.credentialFromError(t):r.credentialFromResult(t)}function j(t,e){return e.catch(e=>{throw e instanceof o.ZR&&function(t,e){var n;const r=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new B(t,s.am(t,e));else if(r){const t=V(e),n=e;t&&(n.credential=t,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(t,e),e}).then(t=>{const e=t.user;return{operationType:t.operationType,credential:(n=t,V(n)),additionalUserInfo:s.ak(t),user:z.getOrCreate(e)};var n})}function q(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>j(t,n.confirm(e))}})).apply(this,arguments)}class B{constructor(t,e){this.resolver=e,this.auth=t.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return j(U(this.auth),this.resolver.resolveSignIn(t))}}let z=(()=>{class t{constructor(t){this._delegate=t,this.multiFactor=s.an(t)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,r.Z)(function*(){return j(e.auth,s.Y(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,r.Z)(function*(){return q(n.auth,s.l(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,r.Z)(function*(){return j(e.auth,s.d(e._delegate,t,M))})()}linkWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield D(s.aC(e.auth)),s.g(e._delegate,t,M)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,r.Z)(function*(){return j(e.auth,s.Z(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return q(this.auth,s.r(this._delegate,t,e))}reauthenticateWithPopup(t){return j(this.auth,s.e(this._delegate,t,M))}reauthenticateWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield D(s.aC(e.auth)),s.h(e._delegate,t,M)})()}sendEmailVerification(t){return s.aa(this._delegate,t)}unlink(t){var e=this;return(0,r.Z)(function*(){return yield s.aj(e._delegate,t),e})()}updateEmail(t){return s.af(this._delegate,t)}updatePassword(t){return s.ag(this._delegate,t)}updatePhoneNumber(t){return s.u(this._delegate,t)}updateProfile(t){return s.ae(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return s.ab(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return t.USER_MAP=new WeakMap,t})();const $=s.aw;let H=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;$(n,"invalid-api-key",{appName:t.name});let r=[s.K];if("undefined"!=typeof window){r=function(t,e){const n=L();if(!(null==n?void 0:n.sessionStorage))return[];const r=s.ay(R,t,e);switch(n.sessionStorage.getItem(r)){case O.NONE:return[s.K];case O.LOCAL:return[s.i,s.a];case O.SESSION:return[s.a];default:return[]}}(n,t.name);for(const t of[s.i,s.b,s.a])r.includes(t)||r.push(t)}$(n,"invalid-api-key",{appName:t.name});const i="undefined"!=typeof window?M:void 0;this._delegate=e.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(s.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){s.E(this._delegate,t,e)}applyActionCode(t){return s.a1(this._delegate,t)}checkActionCode(t){return s.a2(this._delegate,t)}confirmPasswordReset(t,e){return s.a0(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,r.Z)(function*(){return j(n._delegate,s.a4(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return s.a9(this._delegate,t)}isSignInWithEmailLink(t){return s.a7(this._delegate,t)}getRedirectResult(){var t=this;return(0,r.Z)(function*(){$(x(),t._delegate,"operation-not-supported-in-this-environment");const e=yield s.j(t._delegate,M);return e?j(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){(0,s.aC)(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:s}=G(t,e,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:s}=G(t,e,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(t,e){return s.a6(this._delegate,t,e)}sendPasswordResetEmail(t,e){return s.$(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,r.Z)(function*(){let n;switch(function(t,e){N(Object.values(O).includes(e),t,"invalid-persistence-type"),(0,o.b$)()?N(e!==O.SESSION,t,"unsupported-persistence-type"):(0,o.UG)()?N(e===O.NONE,t,"unsupported-persistence-type"):C()?N(e===O.NONE||e===O.LOCAL&&(0,o.hl)(),t,"unsupported-persistence-type"):N(e===O.NONE||S(),t,"unsupported-persistence-type")}(e._delegate,t),t){case O.SESSION:n=s.a;break;case O.LOCAL:n=(yield s.ax(s.i)._isAvailable())?s.i:s.b;break;case O.NONE:n=s.K;break;default:return s.as("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return j(this._delegate,s.W(this._delegate))}signInWithCredential(t){return j(this._delegate,s.X(this._delegate,t))}signInWithCustomToken(t){return j(this._delegate,s._(this._delegate,t))}signInWithEmailAndPassword(t,e){return j(this._delegate,s.a5(this._delegate,t,e))}signInWithEmailLink(t,e){return j(this._delegate,s.a8(this._delegate,t,e))}signInWithPhoneNumber(t,e){return q(this._delegate,s.s(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,r.Z)(function*(){return $(x(),e._delegate,"operation-not-supported-in-this-environment"),j(e._delegate,s.c(e._delegate,t,M))})()}signInWithRedirect(t){var e=this;return(0,r.Z)(function*(){return $(x(),e._delegate,"operation-not-supported-in-this-environment"),yield D(e._delegate),s.f(e._delegate,t,M)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return s.a3(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=O,t})();function G(t,e,n){let r=t;"function"!=typeof t&&({next:r,error:e,complete:n}=t);const i=r;return{next:t=>i(t&&z.getOrCreate(t)),error:e,complete:n}}let K=(()=>{class t{constructor(){this.providerId="phone",this._delegate=new s.P(U(i.Z.auth()))}static credential(t,e){return s.P.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}return t.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,t.PROVIDER_ID=s.P.PROVIDER_ID,t})();const W=s.aw;var Q;(Q=i.Z).INTERNAL.registerComponent(new a.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new H(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.L,FacebookAuthProvider:s.M,GithubAuthProvider:s.Q,GoogleAuthProvider:s.N,OAuthProvider:s.T,SAMLAuthProvider:s.U,PhoneAuthProvider:K,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:class{constructor(t,e,n=i.Z.app()){var r;W(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new s.R(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:s.V,Auth:H,AuthCredential:s.G,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.3")},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,s=new Promise(function(s,o){n(i=t[e].apply(t,r)).then(s,o)});return s.request=i,s}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new u(t,i.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function l(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),s=i.request;return s&&(s.onupgradeneeded=function(t){n&&n(new f(s.result,t.oldVersion,s.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},1784:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(6541),l=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0,a.U)(t)(this)}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},3559:(t,e,n)=>{"use strict";n.d(e,{xQ:()=>u,Yc:()=>c});var r=n(1784),i=n(6673),s=n(7570),o=n(3895);class a extends s.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}var l=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),l=n(4294);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(6673),i=n(1784),s=n(6015);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var r=n(3559),i=n(1784),s=n(7570),o=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(1784),i=n(6015),s=n(7570),o=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,u.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[l.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(1784),i=n(625),s=n(2570);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(1784),i=n(6163),s=n(7471),o=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(3982),i=n(3392);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2875),i=n(1564),s=n(3559);function o(){return new s.xQ}function a(){return t=>{return(0,i.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(1784),i=n(7570);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6541:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,U:()=>s});var r=n(3392);function i(...t){return s(t)}function s(t){return 0===t.length?r.y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=t=>{if(t&&"function"==typeof t[o.L])return u=t,t=>{const e=u[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},4873:(t,e,n)=>{"use strict";var r=n(5366);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(u)}const c=new r.OlP("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:I,token:t,providedIn:"root"}),t})();function I(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.kL8;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Yy){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new O(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class O{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}class P{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let L=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),F=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new P(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(L,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:C,useClass:x}]}),t})();function U(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new j((0,r.LFG)(o),window)}),t})();class j{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Yy){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Yy){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Z extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Z,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==e?null:function(t){B=B||document.createElement("a"),B.setAttribute("href",t);const e=B.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,z=null;const $=new r.OlP("TRANSITION_ID"),H=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$,o,r.zs3],multi:!0}];class G{static init(){(0,r.VLi)(new G)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const W=new r.OlP("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(W),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function tt(t){s().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Q),r.LFG(X),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lt extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(yt)},token:t,providedIn:"root"}),t})();function gt(t){return new yt(t.get(o))}let yt=(()=>{class t extends mt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return gt((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const vt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Z.makeCurrent(),G.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),_t=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:W,useClass:ct,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:W,useClass:pt,multi:!0,deps:[o]},[],{provide:st,useClass:st,deps:[Q,X,r.AFp]},{provide:r.FYo,useExisting:st},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Q,useClass:Q,deps:[W,r.R0b]},{provide:class{},useClass:K,deps:[]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:$,useExisting:r.AFp},H]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:_t,imports:[M,r.hGG]}),t})();"undefined"!=typeof window&&window;var wt=n(9764),It=n(6163),Et=n(9342),Tt=n(2570);function St(...t){let e=t[t.length-1];return(0,It.K)(e)?(t.pop(),(0,Tt.r)(t,e)):(0,Et.n)(t)}var Ct=n(3559),xt=n(3895);class kt extends Ct.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt.N;return this._value}next(t){super.next(this._value=t)}}var At=n(8470),Ot=n(6673);class Nt extends Ot.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rt extends Ot.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Dt=n(6015),Pt=n(1784);function Lt(t,e,n,r,i=new Rt(t,n,r)){if(!i.closed)return e instanceof Pt.y?e.subscribe(i):(0,Dt.s)(e)(i)}const Ft={};class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ut(t,this.resultSelector))}}class Ut extends Nt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ft),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Lt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ft?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var jt=n(7471);function qt(...t){return(0,jt.J)(1)(St(...t))}const Zt=new Pt.y(t=>t.complete());function Bt(t){return t?function(t){return new Pt.y(e=>t.schedule(()=>e.complete()))}(t):Zt}function zt(t){return new Pt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,wt.D)(n):Bt()).subscribe(e)})}var $t=n(2875),Ht=n(9996),Gt=n(6882);function Kt(t,e){return"function"==typeof e?n=>n.pipe(Kt((n,r)=>(0,wt.D)(t(n,r)).pipe((0,Ht.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wt(t))}class Wt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Qt(t,this.project))}}class Qt extends Gt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Gt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Gt.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Jt(t){return e=>0===t?Bt():e.lift(new Xt(t))}class Xt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new te(t,this.total))}}class te extends Ot.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ee(...t){const e=t[t.length-1];return(0,It.K)(e)?(t.pop(),n=>qt(t,n,e)):e=>qt(t,e)}function ne(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new re(t,e,n))}}class re{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ie(t,this.accumulator,this.seed,this.hasSeed))}}class ie extends Ot.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function se(t,e){return function(n){return n.lift(new oe(t,e))}}class oe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ae(t,this.predicate,this.thisArg))}}class ae extends Ot.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function le(t){return function(e){const n=new ce(t),r=e.lift(n);return n.caught=r}}class ce{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ue(t,this.selector,this.caught))}}class ue extends Gt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Gt.IY(this);this.add(r);const i=(0,Gt.ft)(n,r);i!==r&&this.add(i)}}}var he=n(3982);function de(t,e){return(0,he.zg)(t,e,1)}function fe(t){return function(e){return 0===t?Bt():e.lift(new pe(t))}}class pe{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new me(t,this.total))}}class me extends Ot.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ge(t=_e){return e=>e.lift(new ye(t))}class ye{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ve(t,this.errorFactory))}}class ve extends Ot.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function _e(){return new Vt}function be(t=null){return e=>e.lift(new we(t))}class we{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ie(t,this.defaultValue))}}class Ie extends Ot.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ee=n(3392);function Te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.y,Jt(1),n?be(e):ge(()=>new Vt))}function Se(){}var Ce=n(5024);function xe(t,e,n){return function(r){return r.lift(new ke(t,e,n))}}class ke{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ae(t,this.nextOrObserver,this.error,this.complete))}}class Ae extends Ot.L{constructor(t,e,n,r){super(t),this._tapNext=Se,this._tapError=Se,this._tapComplete=Se,this._tapError=n||Se,this._tapComplete=r||Se,(0,Ce.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Se,this._tapError=e.error||Se,this._tapComplete=e.complete||Se)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}var Oe=n(1564),Ne=n(7570);function Re(t){return e=>e.lift(new De(t))}class De{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Pe(t,this.callback))}}class Pe extends Ot.L{constructor(t,e){super(t),this.add(new Ne.w(e))}}class Le{constructor(t,e){this.id=t,this.url=e}}class Fe extends Le{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Me extends Le{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ue extends Le{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ve extends Le{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ze extends Le{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Be extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends Le{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class He{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Je="primary";class Xe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tn(t){return new Xe(t)}function en(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function nn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sn(t[i],e[i]))return!1;return!0}function sn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function on(t){return Array.prototype.concat.apply([],t)}function an(t){return t.length>0?t[t.length-1]:null}function ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function cn(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,wt.D)(Promise.resolve(t)):St(t)}const un={exact:function t(e,n,r){if(!_n(e.segments,n.segments))return!1;if(!mn(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:fn},hn={exact:function(t,e){return rn(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sn(t[n],e[n]))},ignored:()=>!0};function dn(t,e,n){return un[n.paths](t.root,e.root,n.matrixParams)&&hn[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function fn(t,e,n){return pn(t,e,e.segments,n)}function pn(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!_n(i,n)&&!e.hasChildren()&&!!mn(i,n,r)}if(t.segments.length===n.length){if(!_n(t.segments,n))return!1;if(!mn(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!fn(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!_n(t.segments,i)&&!!mn(t.segments,i,r)&&!!t.children.primary&&pn(t.children.primary,e,s,r)}}function mn(t,e,n){return e.every((e,r)=>hn[n](t[r].parameters,e.parameters))}class gn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return In.serialize(this)}}class yn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ln(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return En(this)}}class vn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return On(this)}}function _n(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class bn{}class wn{parse(t){const e=new Ln(t);return new gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Tn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Cn(e)}=${Cn(t)}`).join("&"):`${Cn(e)}=${Cn(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const In=new wn;function En(t){return t.segments.map(t=>On(t)).join("/")}function Tn(t,e){if(!t.hasChildren())return En(t);if(e){const e=t.children.primary?Tn(t.children.primary,!1):"",n=[];return ln(t.children,(t,e)=>{e!==Je&&n.push(`${e}:${Tn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ln(t.children,(t,r)=>{r===Je&&(n=n.concat(e(t,r)))}),ln(t.children,(t,r)=>{r!==Je&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Je?[Tn(t.children.primary,!1)]:[`${n}:${Tn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${En(t)}/${e[0]}`:`${En(t)}/(${e.join("//")})`}}function Sn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cn(t){return Sn(t).replace(/%3B/gi,";")}function xn(t){return Sn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(t){return decodeURIComponent(t)}function An(t){return kn(t.replace(/\+/g,"%20"))}function On(t){return`${xn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xn(t)}=${xn(e[t])}`).join("")}`;var e}const Nn=/^[^\/()?;=#]+/;function Rn(t){const e=t.match(Nn);return e?e[0]:""}const Dn=/^[^=?&#]+/,Pn=/^[^?&#]+/;class Ln{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yn(t,e)),n}parseSegment(){const t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vn(kn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rn(this.remaining);t&&(n=t,this.capture(n))}t[kn(e)]=kn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Pn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=An(e),i=An(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Je);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new yn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Un(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Un(t,this._root).map(t=>t.value)}}function Mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mn(t,n);if(e)return e}return null}function Un(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Un(t,n);if(r.length)return r.unshift(e),r}return[]}class Vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qn extends Fn{constructor(t,e){super(t),this.snapshot=e,Gn(this,t)}toString(){return this.snapshot.toString()}}function Zn(t,e){const n=function(t,e){const n=new $n([],{},{},"",{},Je,e,null,t.root,-1,{});return new Hn("",new Vn(n,[]))}(t,e),r=new kt([new vn("",{})]),i=new kt({}),s=new kt({}),o=new kt({}),a=new kt(""),l=new Bn(r,i,o,a,s,Je,e,n.root);return l.snapshot=n.root,new qn(new Vn(l,[]),n)}class Bn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(t=>tn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(t=>tn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $n{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hn extends Fn{constructor(t,e){super(e),this.url=t,Gn(this,e)}toString(){return Kn(this._root)}}function Gn(t,e){e.value._routerState=t,e.children.forEach(e=>Gn(t,e))}function Kn(t){const e=t.children.length>0?` { ${t.children.map(Kn).join(", ")} } `:"";return`${t.value}${e}`}function Wn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qn(t,e){return rn(t.params,e.params)&&function(t,e){return _n(t,e)&&t.every((t,n)=>rn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Qn(t.parent,e.parent))}function Yn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Yn(t,e,r);return Yn(t,e)})}(t,e,n);return new Vn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Jn(e,t),t}}const n=new Bn(new kt((r=e.value).url),new kt(r.params),new kt(r.queryParams),new kt(r.fragment),new kt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Yn(t,e));return new Vn(n,i)}var r}function Jn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Jn(t.children[n],e.children[n])}function Xn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tr(t){return"object"==typeof t&&null!=t&&t.outlets}function er(t,e,n,r,i){let s={};return r&&ln(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new gn(n.root===t?e:nr(n.root,t,e),s,i)}function nr(t,e,n){const r={};return ln(t.children,(t,i)=>{r[i]=t===e?n:nr(t,e,n)}),new yn(t.segments,r)}class rr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(tr);if(r&&r!==an(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ir{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function sr(t,e,n){if(t||(t=new yn([],{})),0===t.segments.length&&t.hasChildren())return or(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(tr(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!ur(a,l,e))return s;r+=2}else{if(!ur(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new yn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new yn(t.segments.slice(r.pathIndex),t.children),or(e,0,i)}return r.match&&0===i.length?new yn(t.segments,{}):r.match&&!t.hasChildren()?ar(t,e,n):r.match?or(t,0,i):ar(t,e,n)}function or(t,e,n){if(0===n.length)return new yn(t.segments,{});{const r=function(t){return tr(t[0])?t[0].outlets:{[Je]:t}}(n),i={};return ln(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=sr(t.children[r],e,n))}),ln(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new yn(t.segments,i)}}function ar(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(tr(s)){const t=lr(s.outlets);return new yn(r,t)}if(0===i&&Xn(n[0])){r.push(new vn(t.segments[e].path,cr(n[0]))),i++;continue}const o=tr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xn(a)?(r.push(new vn(o,cr(a))),i+=2):(r.push(new vn(o,{})),i++)}return new yn(r,{})}function lr(t){const e={};return ln(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ar(new yn([],{}),0,t))}),e}function cr(t){const e={};return ln(t,(t,n)=>e[n]=`${t}`),e}function ur(t,e,n){return t==n.path&&rn(e,n.parameters)}class hr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Wn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ln(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=jn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Wn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),dr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function dr(t){Wn(t.value),t.children.forEach(dr)}class fr{constructor(t,e){this.routes=t,this.module=e}}function pr(t){return"function"==typeof t}function mr(t){return t instanceof gn}const gr=Symbol("INITIAL_VALUE");function yr(){return Kt(t=>function(...t){let e,n;return(0,It.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,At.k)(t[0])&&(t=t[0]),(0,Et.n)(t,n).lift(new Mt(e))}(t.map(t=>t.pipe(Jt(1),ee(gr)))).pipe(ne((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gr)return t;if(r===gr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||mr(r))return r}return t},t)},gr),se(t=>t!==gr),(0,Ht.U)(t=>mr(t)?t:!0===t),Jt(1)))}let vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[pi]},encapsulation:2}),t})();function _r(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];br(r,wr(e,r))}}function br(t,e){t.children&&_r(t.children,e)}function wr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ir(t){const e=t.children&&t.children.map(Ir),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=vr),n}function Er(t){return t.outlet||Je}function Tr(t,e){const n=t.filter(t=>Er(t)===e);return n.push(...t.filter(t=>Er(t)!==e)),n}const Sr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Cr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Sr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nn)(n,t,e);if(!i)return Object.assign({},Sr);const s={};ln(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function xr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>kr(t,e,n)&&Er(n)!==Je)}(t,n,r)){const i=new yn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Er(s)!==Je){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Er(s)]=n}return i}(t,e,r,new yn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>kr(t,e,n))}(t,n,r)){const s=new yn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(kr(t,n,a)&&!i[Er(a)]){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Er(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new yn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function kr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ar(t,e,n,r){return!!(Er(t)===r||r!==Je&&kr(e,n,t))&&("**"===t.path||Cr(e,t,n).matched)}function Or(t,e,n){return 0===e.length&&!t.children[n]}class Nr{constructor(t){this.segmentGroup=t||null}}class Rr{constructor(t){this.urlTree=t}}function Dr(t){return new Pt.y(e=>e.error(new Nr(t)))}function Pr(t){return new Pt.y(e=>e.error(new Rr(t)))}function Lr(t){return new Pt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Fr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=xr(this.urlTree.root,[],[],this.config).segmentGroup,e=new yn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Je).pipe((0,Ht.U)(t=>this.createUrlTree(Mr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(t=>{if(t instanceof Rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Nr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Je).pipe((0,Ht.U)(e=>this.createUrlTree(Mr(e),t.queryParams,t.fragment))).pipe(le(t=>{if(t instanceof Nr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new yn([],{[Je]:t}):t;return new gn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Ht.U)(t=>new yn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,wt.D)(r).pipe(de(r=>{const i=n.children[r],s=Tr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,Ht.U)(t=>({segment:t,outlet:r})))}),ne((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.y,fe(1),n?be(e):ge(()=>new Vt))}())}expandSegment(t,e,n,r,i,s){return(0,wt.D)(n).pipe(de(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(le(t=>{if(t instanceof Nr)return St(null);throw t}))),Te(t=>!!t),le((t,n)=>{if(t instanceof Vt||"EmptyError"===t.name){if(Or(e,r,i))return St(new yn([],{}));throw new Nr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ar(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Dr(e):Dr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Pr(i):this.lineralizeSegments(n,i).pipe((0,he.zg)(n=>{const i=new yn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Cr(e,r,i);if(!o)return Dr(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Pr(u):this.lineralizeSegments(r,u).pipe((0,he.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?St(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Ht.U)(t=>(n._loadedConfig=t,new yn(r,{})))):St(new yn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Cr(e,n,r);if(!s)return Dr(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,he.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=xr(e,o,l,s),u=new yn(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,Ht.U)(t=>new yn(o,t)));if(0===s.length&&0===c.length)return St(new yn(o,{}));const h=Er(n)===i;return this.expandSegment(r,u,s,c,h?Je:i,!0).pipe((0,Ht.U)(t=>new yn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?St(new fr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?St(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,he.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Ht.U)(t=>(e._loadedConfig=t,t))):function(t){return new Pt.y(e=>e.error(en(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):St(new fr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?St(r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&pr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!pr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return cn(s)})).pipe(yr(),xe(t=>{if(!mr(t))return;const e=en(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Ht.U)(t=>!0===t)):St(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return St(n);if(r.numberOfChildren>1||!r.children.primary)return Lr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ln(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return ln(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new yn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Mr(t){const e={};for(const n of Object.keys(t.children)){const r=Mr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yn(t.segments.concat(e.segments),e.children)}return t}(new yn(t.segments,e))}class Ur{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vr{constructor(t,e){this.component=t,this.route=e}}function jr(t,e,n){const r=t._root;return Zr(r,e?e._root:null,n,[r.value])}function qr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=jn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_n(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_n(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!Qn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ur(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Zr(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vr(a.outlet.component,o))}else o&&Br(e,a,i),i.canActivateChecks.push(new Ur(r)),Zr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),ln(s,(t,e)=>Br(t,n.getContext(e),i)),i}function Br(t,e,n){const r=jn(t),i=t.value;ln(r,(t,r)=>{Br(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class zr{}function $r(t){return new Pt.y(e=>e.error(t))}class Hr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=xr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Je);if(null===e)return null;const n=new $n([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vn(n,e),i=new Hn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=zn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Tr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Kr(n);return r.sort((t,e)=>t.value.outlet===Je?-1:e.value.outlet===Je?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Or(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ar(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?an(n).parameters:{};i=new $n(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yr(t),Er(t),t.component,t,Wr(e),Qr(e)+n.length,Jr(t))}else{const r=Cr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new $n(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yr(t),Er(t),t.component,t,Wr(e),Qr(e)+s.length,Jr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=xr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Vn(i,t)]}if(0===a.length&&0===c.length)return[new Vn(i,[])];const u=Er(t)===r,h=this.processSegment(a,l,c,u?Je:r);return null===h?null:[new Vn(i,h)]}}function Gr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Kr(t){const e=[],n=new Set;for(const r of t){if(!Gr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Kr(r.children);e.push(new Vn(r.value,t))}return e.filter(t=>!n.has(t))}function Wr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yr(t){return t.data||{}}function Jr(t){return t.resolve||{}}function Xr(t){return Kt(e=>{const n=t(e);return n?(0,wt.D)(n).pipe((0,Ht.U)(()=>e)):St(e)})}class ti extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ei=new r.OlP("ROUTES");class ni{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Ht.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new fr(on(i.injector.get(ei,void 0,r.XFs.Self|r.XFs.Optional)).map(Ir),i)}),le(t=>{throw e._loader$=void 0,t}));return e._loader$=new $t.c(n,()=>new Ct.xQ).pipe((0,Oe.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,wt.D)(this.loader.load(t)):cn(t()).pipe((0,he.zg)(t=>t instanceof r.YKP?St(t):(0,wt.D)(this.compiler.compileModuleAsync(t))))}}class ri{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ii,this.attachRef=null}}class ii{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ri,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class si{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oi(t){throw t}function ai(t,e,n){return e.parse("/")}function li(t,e){return St(null)}const ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ui={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class t{constructor(t,e,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ct.xQ,this.errorHandler=oi,this.malformedUriErrorHandler=ai,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:li,afterPreactivation:li},this.urlHandlingStrategy=new si,this.routeReuseStrategy=new ti,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new gn(new yn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ni(o,a,t=>this.triggerEvent(new $e(t)),t=>this.triggerEvent(new He(t))),this.routerState=Zn(this.currentUrlTree,this.rootComponentType),this.transitions=new kt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(se(t=>0!==t.id),(0,Ht.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Kt(t=>{let n=!1,r=!1;return St(t).pipe(xe(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return St(t).pipe(Kt(t=>{const n=this.transitions.getValue();return e.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Zt:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Kt(t=>function(t,e,n,r,i){return new Fr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,Ht.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),xe(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,he.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Hr(t,e,n,r,i,s).recognize();return null===o?$r(new zr):St(o)}catch(o){return $r(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,Ht.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),xe(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Fe(n,this.serializeUrl(r),i,s);e.next(a);const l=Zn(r,this.rootComponentType).snapshot;return St(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Zt}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),xe(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Ht.U)(t=>Object.assign(Object.assign({},t),{guards:jr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,he.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?St(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,wt.D)(t).pipe((0,he.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?St(s.map(s=>{const o=qr(s,e,i);let a;if(function(t){return t&&pr(t.canDeactivate)}(o))a=cn(o.canDeactivate(t,e,n,r));else{if(!pr(o))throw new Error("Invalid CanDeactivate guard");a=cn(o(t,e,n,r))}return a.pipe(Te())})).pipe(yr()):St(!0)}(t.component,t.route,n,e,r)),Te(t=>!0!==t,!0))}(o,r,i,t).pipe((0,he.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,wt.D)(e).pipe(de(e=>qt(function(t,e){return null!==t&&e&&e(new Ge(t)),St(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new We(t)),St(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>zt(()=>St(e.guards.map(i=>{const s=qr(i,e.node,n);let o;if(function(t){return t&&pr(t.canActivateChild)}(s))o=cn(s.canActivateChild(r,t));else{if(!pr(s))throw new Error("Invalid CanActivateChild guard");o=cn(s(r,t))}return o.pipe(Te())})).pipe(yr())));return St(i).pipe(yr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?St(r.map(r=>zt(()=>{const i=qr(r,e,n);let s;if(function(t){return t&&pr(t.canActivate)}(i))s=cn(i.canActivate(e,t));else{if(!pr(i))throw new Error("Invalid CanActivate guard");s=cn(i(e,t))}return s.pipe(Te())}))).pipe(yr()):St(!0)}(t,e.route,n))),Te(t=>!0!==t,!0))}(r,s,t,e):St(n)),(0,Ht.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),xe(t=>{if(mr(t.guardsResult)){const e=en(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),se(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),Xr(t=>{if(t.guards.canActivateChecks.length)return St(t).pipe(xe(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Kt(t=>{let e=!1;return St(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,he.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return St(t);let s=0;return(0,wt.D)(i).pipe(de(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return St({});const s={};return(0,wt.D)(i).pipe((0,he.zg)(i=>function(t,e,n,r){const i=qr(t,e,r);return cn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(xe(t=>{s[i]=t}))),fe(1),(0,he.zg)(()=>Object.keys(s).length===i.length?St(s):Zt))}(t._resolve,t,e,r).pipe((0,Ht.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zn(t,n).resolve),null)))}(t.route,e,n,r)),xe(()=>s++),fe(1),(0,he.zg)(e=>s===i.length?St(t):Zt))})),xe({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),xe(t=>{const e=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Ht.U)(t=>{const e=function(t,e,n){const r=Yn(t,e._root,n?n._root:void 0);return new qn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),xe(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),(0,Ht.U)(t=>(new hr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),xe({next(){n=!0},complete(){n=!0}}),Re(()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),le(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=mr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ue(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ve(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(pu){t.reject(pu)}}var i;return Zt}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_r(t),this.config=t.map(Ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return er(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ln(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new rr(n,e,r)}(n);if(s.toRoot())return er(e.root,new yn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ir(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ir(t,t===e.root,0)}const r=Xn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ir(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?or(o.segmentGroup,o.index,s.commands):sr(o.segmentGroup,o.index,s.commands);return er(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=mr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},ci):!1===e?Object.assign({},ui):e,mr(t))return dn(this.currentUrlTree,t,n);const r=this.parseUrl(t);return dn(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(bn),r.LFG(ii),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ct.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:fi(this.skipLocationChange),replaceUrl:fi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(hi),r.Y36(Bn),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function fi(t){return""===t||!!t}let pi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Je,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ii),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class mi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Bn?this.route:t===ii?this.childContexts:this.parent.get(t,e)}}class gi{}class yi{preload(t,e){return St(null)}}let vi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ni(e,n,e=>t.triggerEvent(new $e(e)),e=>t.triggerEvent(new He(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(se(t=>t instanceof Me),de(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,wt.D)(n).pipe((0,jt.J)(),(0,Ht.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?St(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,he.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hi),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(gi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_i=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Me&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ye&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ye(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hi),r.LFG(V),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const bi=new r.OlP("ROUTER_CONFIGURATION"),wi=new r.OlP("ROUTER_FORROOT_GUARD"),Ii=[w,{provide:bn,useClass:wn},{provide:hi,useFactory:function(t,e,n,r,i,s,o,a={},l,c){const u=new hi(null,t,e,n,r,i,s,on(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[bn,ii,w,r.zs3,r.v3s,r.Sil,ei,bi,[class{},new r.FiY],[class{},new r.FiY]]},ii,{provide:Bn,useFactory:function(t){return t.routerState.root},deps:[hi]},{provide:r.v3s,useClass:r.EAV},vi,yi,class{preload(t,e){return e().pipe(le(()=>St(null)))}},{provide:bi,useValue:{enableTracing:!1}}];function Ei(){return new r.PXZ("Router",hi)}let Ti=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ii,ki(e),{provide:wi,useFactory:xi,deps:[[hi,new r.FiY,new r.tp0]]},{provide:bi,useValue:n||{}},{provide:g,useFactory:Ci,deps:[a,[new r.tBr(v),new r.FiY],bi]},{provide:_i,useFactory:Si,deps:[hi,V,bi]},{provide:gi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yi},{provide:r.PXZ,multi:!0,useFactory:Ei},[Ai,{provide:r.ip1,multi:!0,useFactory:Oi,deps:[Ai]},{provide:Ri,useFactory:Ni,deps:[Ai]},{provide:r.tb,multi:!0,useExisting:Ri}]]}}static forChild(e){return{ngModule:t,providers:[ki(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(wi,8),r.LFG(hi,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function Si(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _i(t,e,n)}function Ci(t,e,n={}){return n.useHash?new b(t,e):new _(t,e)}function xi(t){return"guarded"}function ki(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:ei,multi:!0,useValue:t}]}let Ai=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(hi),r=this.injector.get(bi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?St(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(bi),n=this.injector.get(vi),i=this.injector.get(_i),s=this.injector.get(hi),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Oi(t){return t.appInitializer.bind(t)}function Ni(t){return t.bootstrapListener.bind(t)}const Ri=new r.OlP("Router Initializer");var Di,Pi=n(6304),Li=n(7964),Fi=n(1947),Mi=n(8678),Ui=n(5725),Vi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ji={},qi=qi||{},Zi=Vi||self;function Bi(){}function zi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $i(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hi="closure_uid_"+(1e9*Math.random()>>>0),Gi=0;function Ki(t,e,n){return t.call.apply(t.bind,arguments)}function Wi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Qi(t,e,n){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ki:Wi).apply(null,arguments)}function Yi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ji(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Xi(){this.s=this.s,this.o=this.o}var ts={};Xi.prototype.s=!1,Xi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Hi)&&t[Hi]||(t[Hi]=++Gi)}(this);delete ts[t]}},Xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const es=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ns=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function rs(t){return Array.prototype.concat.apply([],arguments)}function is(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ss(t){return/^[\s\xa0]*$/.test(t)}var os,as=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ls(t,e){return-1!=t.indexOf(e)}function cs(t,e){return t<e?-1:t>e?1:0}t:{var us=Zi.navigator;if(us){var hs=us.userAgent;if(hs){os=hs;break t}}os=""}function ds(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fs(t){const e={};for(const n in t)e[n]=t[n];return e}var ps="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ms(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<ps.length;e++)n=ps[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gs(t){return gs[" "](t),t}gs[" "]=Bi;var ys,vs,_s=ls(os,"Opera"),bs=ls(os,"Trident")||ls(os,"MSIE"),ws=ls(os,"Edge"),Is=ws||bs,Es=ls(os,"Gecko")&&!(ls(os.toLowerCase(),"webkit")&&!ls(os,"Edge"))&&!(ls(os,"Trident")||ls(os,"MSIE"))&&!ls(os,"Edge"),Ts=ls(os.toLowerCase(),"webkit")&&!ls(os,"Edge");function Ss(){var t=Zi.document;return t?t.documentMode:void 0}t:{var Cs="",xs=(vs=os,Es?/rv:([^\);]+)(\)|;)/.exec(vs):ws?/Edge\/([\d\.]+)/.exec(vs):bs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vs):Ts?/WebKit\/(\S+)/.exec(vs):_s?/(?:Version)[ \/]?(\S+)/.exec(vs):void 0);if(xs&&(Cs=xs?xs[1]:""),bs){var ks=Ss();if(null!=ks&&ks>parseFloat(Cs)){ys=String(ks);break t}}ys=Cs}var As={};var Os=Zi.document&&bs&&(Ss()||parseInt(ys,10))||void 0,Ns=function(){if(!Zi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zi.addEventListener("test",Bi,e),Zi.removeEventListener("test",Bi,e)}catch(n){}return t}();function Rs(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ds(t,e){if(Rs.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Es){t:{try{gs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ps[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ds.Z.h.call(this)}}Rs.prototype.h=function(){this.defaultPrevented=!0},Ji(Ds,Rs);var Ps={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ls="closure_listenable_"+(1e6*Math.random()|0),Fs=0;function Ms(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Fs,this.ca=this.fa=!1}function Us(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Vs(t){this.src=t,this.g={},this.h=0}function js(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=es(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Us(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Vs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=qs(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Ms(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Zs="closure_lm_"+(1e6*Math.random()|0),Bs={};function zs(t,e,n,r,i){if(r&&r.once)return Hs(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zs(t,e[s],n,r,i);return null}return n=Xs(n),t&&t[Ls]?t.N(e,n,$i(r)?!!r.capture:!!r,i):$s(t,e,n,!1,r,i)}function $s(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$i(i)?!!i.capture:!!i,a=Ys(t);if(a||(t[Zs]=a=new Vs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Qs;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ns||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ws(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Hs(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Hs(t,e[s],n,r,i);return null}return n=Xs(n),t&&t[Ls]?t.O(e,n,$i(r)?!!r.capture:!!r,i):$s(t,e,n,!0,r,i)}function Gs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Gs(t,e[s],n,r,i);else r=$i(r)?!!r.capture:!!r,n=Xs(n),t&&t[Ls]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qs(s=t.g[e],n,r,i))&&(Us(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ys(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qs(e,n,r,i)),(n=-1<t?e[t]:null)&&Ks(n))}function Ks(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ls])js(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ws(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ys(e))?(js(n,t),0==n.h&&(n.src=null,e[Zs]=null)):Us(t)}}}function Ws(t){return t in Bs?Bs[t]:Bs[t]="on"+t}function Qs(t,e){if(t.ca)t=!0;else{e=new Ds(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ks(t),t=n.call(r,e)}return t}function Ys(t){return(t=t[Zs])instanceof Vs?t:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(t){return"function"==typeof t?t:(t[Js]||(t[Js]=function(e){return t.handleEvent(e)}),t[Js])}function to(){Xi.call(this),this.i=new Vs(this),this.P=this,this.I=null}function eo(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Rs(e,t);else if(e instanceof Rs)e.target=e.target||t;else{var i=e;ms(e=new Rs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=no(o,r,!0,e)&&i}if(i=no(o=e.g=t,r,!0,e)&&i,i=no(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=no(o=e.g=n[s],r,!1,e)&&i}function no(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&js(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ji(to,Xi),to.prototype[Ls]=!0,to.prototype.removeEventListener=function(t,e,n,r){Gs(this,t,e,n,r)},to.prototype.M=function(){if(to.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Us(n[r]);delete e.g[t],e.h--}}this.I=null},to.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},to.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ro=Zi.JSON.stringify;function io(){var t=ho;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var so,oo=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ao,t=>t.reset());class ao{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function lo(t){Zi.setTimeout(()=>{throw t},0)}function co(t,e){so||function(){var t=Zi.Promise.resolve(void 0);so=function(){t.then(fo)}}(),uo||(so(),uo=!0),ho.add(t,e)}var uo=!1,ho=new class{constructor(){this.h=this.g=null}add(t,e){const n=oo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function fo(){for(var t;t=io();){try{t.h.call(t.g)}catch(n){lo(n)}var e=oo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}uo=!1}function po(t,e){to.call(this),this.h=t||1,this.g=e||Zi,this.j=Qi(this.kb,this),this.l=Date.now()}function mo(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function go(t,e,n){if("function"==typeof t)n&&(t=Qi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zi.setTimeout(t,e||0)}function yo(t){t.g=go(()=>{t.g=null,t.i&&(t.i=!1,yo(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ji(po,to),(Di=po.prototype).da=!1,Di.S=null,Di.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),eo(this,"tick"),this.da&&(mo(this),this.start()))}},Di.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Di.M=function(){po.Z.M.call(this),mo(this),delete this.g};class vo extends Xi{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:yo(this)}M(){super.M(),this.g&&(Zi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(t){Xi.call(this),this.h=t,this.g={}}Ji(_o,Xi);var bo=[];function wo(t,e,n,r){Array.isArray(n)||(n&&(bo[0]=n.toString()),n=bo);for(var i=0;i<n.length;i++){var s=zs(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Io(t){ds(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ks(t)},t),t.g={}}function Eo(){this.g=!0}function To(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ro(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}_o.prototype.M=function(){_o.Z.M.call(this),Io(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eo.prototype.Aa=function(){this.g=!1},Eo.prototype.info=function(){};var So={},Co=null;function xo(){return Co=Co||new to}function ko(t){Rs.call(this,So.Ma,t)}function Ao(t){const e=xo();eo(e,new ko(e,t))}function Oo(t,e){Rs.call(this,So.STAT_EVENT,t),this.stat=e}function No(t){const e=xo();eo(e,new Oo(e,t))}function Ro(t,e){Rs.call(this,So.Na,t),this.size=e}function Do(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zi.setTimeout(function(){t()},e)}So.Ma="serverreachability",Ji(ko,Rs),So.STAT_EVENT="statevent",Ji(Oo,Rs),So.Na="timingevent",Ji(Ro,Rs);var Po={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fo(){}function Mo(){}Fo.prototype.h=null;var Uo,Vo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jo(){Rs.call(this,"d")}function qo(){Rs.call(this,"c")}function Zo(){}function Bo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new _o(this),this.P=$o,this.W=new po(t=Is?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zo}function zo(){this.i=null,this.g="",this.h=!1}Ji(jo,Rs),Ji(qo,Rs),Ji(Zo,Fo),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},Uo=new Zo;var $o=45e3,Ho={},Go={};function Ko(t,e,n){t.K=1,t.v=ya(ha(e)),t.s=n,t.U=!0,Wo(t,null)}function Wo(t,e){t.F=Date.now(),Xo(t),t.A=ha(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Oa(n.h,"t",r),t.C=0,n=t.l.H,t.h=new zo,t.g=Ol(t.l,n?e:null,!t.s),0<t.O&&(t.L=new vo(Qi(t.Ia,t,t.g),t.O)),wo(t.V,t.g,"readystatechange",t.gb),e=t.H?fs(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ao(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Qo(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Yo(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Jo(t,n),r==Go){4==e&&(t.o=4,No(14),i=!1),To(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ho){t.o=4,No(15),To(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}To(t.j,t.m,r,null),ia(t,r)}Qo(t)&&r!=Go&&r!=Ho&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,No(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Il(e),e.L=!0,No(11))):(To(t.j,t.m,n,"[Invalid Chunked Response]"),ra(t),na(t))}function Jo(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Go:(n=Number(e.substring(n,r)),isNaN(n)?Ho:(r+=1)+n>e.length?Go:(e=e.substr(r,n),t.C=r+n,e))}function Xo(t){t.Y=Date.now()+t.P,ta(t,t.P)}function ta(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Do(Qi(t.eb,t),e)}function ea(t){t.B&&(Zi.clearTimeout(t.B),t.B=null)}function na(t){0==t.l.G||t.I||Sl(t.l,t)}function ra(t){ea(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,mo(t.W),Io(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ia(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Fa(n.i,t)))if(n.I=t.N,!t.J&&Fa(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Tl(n),fl(n)}wl(n),No(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Do(Qi(n.ab,n),6e3));if(1>=La(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else xl(n,11)}else if((t.J||n.g==t)&&Tl(n),!ss(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(ls(t,"spdy")||ls(t,"quic")||ls(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ma(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,ga(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=Al(r,r.H?r.la:null,r.W),o.J){Ua(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(ea(a),Xo(a)),r.g=o}else bl(r);0<n.l.length&&gl(n)}else"stop"!=c[0]&&"close"!=c[0]||xl(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xl(n,7):dl(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Ao(4)}catch(c){}}function sa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zi(t)||"string"==typeof t)ns(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(zi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(zi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function oa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof oa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function aa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];la(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)la(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function la(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Di=Bo.prototype).setTimeout=function(t){this.P=t},Di.gb=function(t){t=t.target;const e=this.L;e&&3==al(t)?e.l():this.Ia(t)},Di.Ia=function(t){try{if(t==this.g)t:{const u=al(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||Is||this.g&&(this.h.h||this.g.ga()||ll(this.g)))){this.I||4!=u||7==e||Ao(8==e||0>=h?3:2),ea(this);var n=this.g.ba();this.N=n;e:if(Qo(this)){var r=ll(this.g);t="";var i=r.length,s=4==al(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ra(this),na(this);var o="";break e}this.h.i=new Zi.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ss(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,No(12),ra(this),na(this);break t}To(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ia(this,n)}this.U?(Yo(this,u,o),Is&&this.i&&3==u&&(wo(this.V,this.W,"tick",this.fb),this.W.start())):(To(this.j,this.m,o,null),ia(this,o)),4==u&&ra(this),this.i&&!this.I&&(4==u?Sl(this.l,this):(this.i=!1,Xo(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,No(12)):(this.o=0,No(13)),ra(this),na(this)}}}catch(u){}},Di.fb=function(){if(this.g){var t=al(this.g),e=this.g.ga();this.C<e.length&&(ea(this),Yo(this,t,e),this.i&&4!=t&&Xo(this))}},Di.cancel=function(){this.I=!0,ra(this)},Di.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ao(3),No(17)),ra(this),this.o=2,na(this)):ta(this,this.Y-t)},(Di=oa.prototype).R=function(){aa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Di.T=function(){return aa(this),this.g.concat()},Di.get=function(t,e){return la(this.h,t)?this.h[t]:e},Di.set=function(t,e){la(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Di.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ca=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ua(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ua){this.g=void 0!==e?e:t.g,da(this,t.j),this.s=t.s,fa(this,t.i),pa(this,t.m),this.l=t.l,e=t.h;var n=new Ca;n.i=e.i,e.g&&(n.g=new oa(e.g),n.h=e.h),ma(this,n),this.o=t.o}else t&&(n=String(t).match(ca))?(this.g=!!e,da(this,n[1]||"",!0),this.s=va(n[2]||""),fa(this,n[3]||"",!0),pa(this,n[4]),this.l=va(n[5]||"",!0),ma(this,n[6]||"",!0),this.o=va(n[7]||"")):(this.g=!!e,this.h=new Ca(null,this.g))}function ha(t){return new ua(t)}function da(t,e,n){t.j=n?va(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fa(t,e,n){t.i=n?va(e,!0):e}function pa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ma(t,e,n){e instanceof Ca?(t.h=e,function(t,e){e&&!t.j&&(xa(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ka(this,e),Oa(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=_a(e,Ta)),t.h=new Ca(e,t.g))}function ga(t,e,n){t.h.set(e,n)}function ya(t){return ga(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _a(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ba),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ba(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ua.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_a(e,wa,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_a(e,wa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(_a(n,"/"==n.charAt(0)?Ea:Ia,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_a(n,Sa)),t.join("")};var wa=/[#\/\?@]/g,Ia=/[#\?:]/g,Ea=/[#\?]/g,Ta=/[#\?@]/g,Sa=/#/g;function Ca(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xa(t){t.g||(t.g=new oa,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ka(t,e){xa(t),e=Na(t,e),la(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,la((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&aa(t)))}function Aa(t,e){return xa(t),e=Na(t,e),la(t.g.h,e)}function Oa(t,e,n){ka(t,e),0<n.length&&(t.i=null,t.g.set(Na(t,e),is(n)),t.h+=n.length)}function Na(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ra(t){this.l=t||Da,t=Zi.PerformanceNavigationTiming?0<(t=Zi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zi.g&&Zi.g.Ea&&Zi.g.Ea()&&Zi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Di=Ca.prototype).add=function(t,e){xa(this),this.i=null,t=Na(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Di.forEach=function(t,e){xa(this),this.g.forEach(function(n,r){ns(n,function(n){t.call(e,n,r,this)},this)},this)},Di.T=function(){xa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Di.R=function(t){xa(this);var e=[];if("string"==typeof t)Aa(this,t)&&(e=rs(e,this.g.get(Na(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=rs(e,t[n])}return e},Di.set=function(t,e){return xa(this),this.i=null,Aa(this,t=Na(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Di.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Di.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Da=10;function Pa(t){return!!t.h||!!t.g&&t.g.size>=t.j}function La(t){return t.h?1:t.g?t.g.size:0}function Fa(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ma(t,e){t.g?t.g.add(e):t.h=e}function Ua(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Va(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return is(t.i)}function ja(){}function qa(){this.g=new ja}function Za(t,e,n){const r=n||"";try{sa(t,function(t,n){let i=t;$i(t)&&(i=ro(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ba(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function za(t){this.l=t.$b||null,this.j=t.ib||!1}function $a(t,e){to.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ra.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ja.prototype.stringify=function(t){return Zi.JSON.stringify(t,void 0)},ja.prototype.parse=function(t){return Zi.JSON.parse(t,void 0)},Ji(za,Fo),za.prototype.g=function(){return new $a(this.l,this.j)},za.prototype.i=function(t){return function(){return t}}({}),Ji($a,to);var Ha=0;function Ga(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ka(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wa(t)}function Wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Di=$a.prototype).open=function(t,e){if(this.readyState!=Ha)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wa(this)},Di.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Zi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Di.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ka(this)),this.readyState=Ha},Di.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ga(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Di.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ka(this):Wa(this),3==this.readyState&&Ga(this)}},Di.Ua=function(t){this.g&&(this.response=this.responseText=t,Ka(this))},Di.Ta=function(t){this.g&&(this.response=t,Ka(this))},Di.ha=function(){this.g&&Ka(this)},Di.setRequestHeader=function(t,e){this.v.append(t,e)},Di.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Di.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty($a.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Qa=Zi.JSON.parse;function Ya(t){to.call(this),this.headers=new oa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ja,this.K=this.L=!1}Ji(Ya,to);var Ja="",Xa=/^https?$/i,tl=["POST","PUT"];function el(t){return"content-type"==t.toLowerCase()}function nl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rl(t),sl(t)}function rl(t){t.D||(t.D=!0,eo(t,"complete"),eo(t,"error"))}function il(t){if(t.h&&void 0!==qi&&(!t.C[1]||4!=al(t)||2!=t.ba()))if(t.v&&4==al(t))go(t.Fa,0,t);else if(eo(t,"readystatechange"),4==al(t)){t.h=!1;try{const l=t.ba();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===l){var i=String(t.H).match(ca)[1]||null;if(!i&&Zi.self&&Zi.self.location){var s=Zi.self.location.protocol;i=s.substr(0,s.length-1)}r=!Xa.test(i?i.toLowerCase():"")}n=r}if(n)eo(t,"complete"),eo(t,"success");else{t.m=6;try{var o=2<al(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",rl(t)}}finally{sl(t)}}}function sl(t,e){if(t.g){ol(t);const r=t.g,i=t.C[0]?Bi:null;t.g=null,t.C=null,e||eo(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function ol(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Zi.clearTimeout(t.A),t.A=null)}function al(t){return t.g?t.g.readyState:0}function ll(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ja:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function cl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return ds(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ga(t,e,n))}function ul(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hl(t){this.za=0,this.l=[],this.h=new Eo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ul("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ul("baseRetryDelayMs",5e3,t),this.$a=ul("retryDelaySeedMs",1e4,t),this.Ya=ul("forwardChannelMaxRetries",2,t),this.ra=ul("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ra(t&&t.concurrentRequestLimit),this.Ca=new qa,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function dl(t){if(pl(t),3==t.G){var e=t.V++,n=ha(t.F);ga(n,"SID",t.J),ga(n,"RID",e),ga(n,"TYPE","terminate"),vl(t,n),(e=new Bo(t,t.h,e,void 0)).K=2,e.v=ya(ha(n)),n=!1,Zi.navigator&&Zi.navigator.sendBeacon&&(n=Zi.navigator.sendBeacon(e.v.toString(),"")),!n&&Zi.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ol(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xo(e)}kl(t)}function fl(t){t.g&&(Il(t),t.g.cancel(),t.g=null)}function pl(t){fl(t),t.u&&(Zi.clearTimeout(t.u),t.u=null),Tl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zi.clearTimeout(t.m),t.m=null)}function ml(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&gl(t)}function gl(t){Pa(t.i)||t.m||(t.m=!0,co(t.Ha,t),t.C=0)}function yl(t,e){var n;n=e?e.m:t.V++;const r=ha(t.F);ga(r,"SID",t.J),ga(r,"RID",n),ga(r,"AID",t.U),vl(t,r),t.o&&t.s&&cl(r,t.o,t.s),n=new Bo(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=_l(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ma(t.i,n),Ko(n,r,e)}function vl(t,e){t.j&&sa({},function(t,n){ga(e,n,t)})}function _l(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Qi(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=e,0>n)e=Math.max(0,i[o].h-100),s=!1;else try{Za(a,t,"req"+n+"_")}catch(cc){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function bl(t){t.g||t.u||(t.Y=1,co(t.Ga,t),t.A=0)}function wl(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Do(Qi(t.Ga,t),Cl(t,t.A)),t.A++,0))}function Il(t){null!=t.B&&(Zi.clearTimeout(t.B),t.B=null)}function El(t){t.g=new Bo(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ha(t.oa);ga(e,"RID","rpc"),ga(e,"SID",t.J),ga(e,"CI",t.N?"0":"1"),ga(e,"AID",t.U),vl(t,e),ga(e,"TYPE","xmlhttp"),t.o&&t.s&&cl(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ya(ha(e)),n.s=null,n.U=!0,Wo(n,t)}function Tl(t){null!=t.v&&(Zi.clearTimeout(t.v),t.v=null)}function Sl(t,e){var n=null;if(t.g==e){Tl(t),Il(t),t.g=null;var r=2}else{if(!Fa(t.i,e))return;n=e.D,Ua(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;eo(r=xo(),new Ro(r,n,e,i)),gl(t)}else bl(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(La(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Do(Qi(t.Ha,t,e),Cl(t,t.C)),t.C++,0)))}(t,e)||2==r&&wl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xl(t,5);break;case 4:xl(t,10);break;case 3:xl(t,6);break;default:xl(t,2)}}function Cl(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function xl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Qi(t.jb,t);n||(n=new ua("//www.google.com/images/cleardot.gif"),Zi.location&&"http"==Zi.location.protocol||da(n,"https"),ya(n)),function(t,e){const n=new Eo;if(Zi.Image){const r=new Image;r.onload=Yi(Ba,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yi(Ba,n,r,"TestLoadImage: error",!1,e),r.onabort=Yi(Ba,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yi(Ba,n,r,"TestLoadImage: timeout",!1,e),Zi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else No(2);t.G=0,t.j&&t.j.va(e),kl(t),pl(t)}function kl(t){t.G=0,t.I=-1,t.j&&(0==Va(t.i).length&&0==t.l.length||(t.i.i.length=0,is(t.l),t.l.length=0),t.j.ua())}function Al(t,e,n){let r=function(t){return t instanceof ua?ha(t):new ua(t,void 0)}(n);if(""!=r.i)e&&fa(r,e+"."+r.i),pa(r,r.m);else{const t=Zi.location;r=function(t,e,n,r){var i=new ua(null,void 0);return t&&da(i,t),e&&fa(i,e),n&&pa(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&ds(t.aa,function(t,e){ga(r,e,t)}),n=t.sa,(e=t.D)&&n&&ga(r,e,n),ga(r,"VER",t.ma),vl(t,r),r}function Ol(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ya(n&&t.Ba&&!t.qa?new za({ib:!0}):t.qa)).L=t.H,e}function Nl(){}function Rl(){if(bs&&!(10<=Number(Os)))throw Error("Environmental error: no available transport.")}function Dl(t,e){to.call(this),this.g=new hl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ss(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ss(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Fl(this)}function Pl(t){jo.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ll(){qo.call(this),this.status=1}function Fl(t){this.g=t}(Di=Ya.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Uo.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Uo),this.g.onreadystatechange=Qi(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void nl(this,s)}t=n||"";const i=new oa(this.headers);r&&sa(r,function(t,e){i.set(e,t)}),r=function(t){t:{var e=el;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Zi.FormData&&t instanceof Zi.FormData,!(0<=es(tl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ol(this),0<this.B&&((this.K=function(t){return bs&&function(){return t=As,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=as(String(ys)).split("."),n=as("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=cs(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||cs(0==i[2].length,0==s[2].length)||cs(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.pa,this)):this.A=go(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){nl(this,s)}},Di.pa=function(){void 0!==qi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},Di.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,eo(this,"complete"),eo(this,"abort"),sl(this))},Di.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sl(this,!0)),Ya.Z.M.call(this)},Di.Fa=function(){this.s||(this.F||this.v||this.l?il(this):this.cb())},Di.cb=function(){il(this)},Di.ba=function(){try{return 2<al(this)?this.g.status:-1}catch(vs){return-1}},Di.ga=function(){try{return this.g?this.g.responseText:""}catch(vs){return""}},Di.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qa(e)}},Di.Da=function(){return this.m},Di.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Di=hl.prototype).ma=8,Di.G=1,Di.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Di.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Bo(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=fs(s),ms(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=_l(this,i,e),ga(n=ha(this.F),"RID",t),ga(n,"CVER",22),this.D&&ga(n,"X-HTTP-Session-Id",this.D),vl(this,n),this.o&&s&&cl(n,this.o,s),Ma(this.i,i),this.Ra&&ga(n,"TYPE","init"),this.ja?(ga(n,"$req",e),ga(n,"SID","null"),i.$=!0,Ko(i,n,null)):Ko(i,n,e),this.G=2}}else 3==this.G&&(t?yl(this,t):0==this.l.length||Pa(this.i)||yl(this))},Di.Ga=function(){if(this.u=null,El(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Do(Qi(this.bb,this),t)}},Di.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,No(10),fl(this),El(this))},Di.ab=function(){null!=this.v&&(this.v=null,fl(this),wl(this),No(19))},Di.jb=function(t){t?(this.h.info("Successfully pinged google.com"),No(2)):(this.h.info("Failed to ping google.com"),No(1))},(Di=Nl.prototype).xa=function(){},Di.wa=function(){},Di.va=function(){},Di.ua=function(){},Di.Oa=function(){},Rl.prototype.g=function(t,e){return new Dl(t,e)},Ji(Dl,to),Dl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),co(Qi(t.hb,t,e))),No(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Al(t,null,t.W),gl(t)},Dl.prototype.close=function(){dl(this.g)},Dl.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ml(this.g,e)}else this.v?((e={}).__data__=ro(t),ml(this.g,e)):ml(this.g,t)},Dl.prototype.M=function(){this.g.j=null,delete this.j,dl(this.g),delete this.g,Dl.Z.M.call(this)},Ji(Pl,jo),Ji(Ll,qo),Ji(Fl,Nl),Fl.prototype.xa=function(){eo(this.g,"a")},Fl.prototype.wa=function(t){eo(this.g,new Pl(t))},Fl.prototype.va=function(t){eo(this.g,new Ll(t))},Fl.prototype.ua=function(){eo(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,Dl.prototype.send=Dl.prototype.u,Dl.prototype.open=Dl.prototype.m,Dl.prototype.close=Dl.prototype.close,Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,Lo.COMPLETE="complete",Mo.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",to.prototype.listen=to.prototype.N,Ya.prototype.listenOnce=Ya.prototype.O,Ya.prototype.getLastError=Ya.prototype.La,Ya.prototype.getLastErrorCode=Ya.prototype.Da,Ya.prototype.getStatus=Ya.prototype.ba,Ya.prototype.getResponseJson=Ya.prototype.Qa,Ya.prototype.getResponseText=Ya.prototype.ga,Ya.prototype.send=Ya.prototype.ea;var Ml=ji.createWebChannelTransport=function(){return new Rl},Ul=ji.getStatEventTarget=function(){return xo()},Vl=ji.ErrorCode=Po,jl=ji.EventType=Lo,ql=ji.Event=So,Zl=ji.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bl=ji.FetchXmlHttpFactory=za,zl=ji.WebChannel=Mo,$l=ji.XhrIo=Ya;const Hl="@firebase/firestore";class Gl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gl.UNAUTHENTICATED=new Gl(null),Gl.GOOGLE_CREDENTIALS=new Gl("google-credentials-uid"),Gl.FIRST_PARTY=new Gl("first-party-uid"),Gl.MOCK_USER=new Gl("mock-user");let Kl="9.5.0";const Wl=new Mi.Yd("@firebase/firestore");function Ql(){return Wl.logLevel}function Yl(t){Wl.setLogLevel(t)}function Jl(t,...e){if(Wl.logLevel<=Mi.in.DEBUG){const n=e.map(ec);Wl.debug(`Firestore (${Kl}): ${t}`,...n)}}function Xl(t,...e){if(Wl.logLevel<=Mi.in.ERROR){const n=e.map(ec);Wl.error(`Firestore (${Kl}): ${t}`,...n)}}function tc(t,...e){if(Wl.logLevel<=Mi.in.WARN){const n=e.map(ec);Wl.warn(`Firestore (${Kl}): ${t}`,...n)}}function ec(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function nc(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw Xl(e),new Error(e)}function rc(t,e){t||nc()}function ic(t,e){return t}const sc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oc extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ac{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lc{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class cc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Gl.UNAUTHENTICATED))}shutdown(){}}class uc{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class hc{constructor(t){this.t=t,this.currentUser=Gl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const i=t=>this.i!==r?(r=this.i,e(t)):Promise.resolve();let s=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ac,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const e=s;t.enqueueRetryable((0,Pi.Z)(function*(){yield e.promise,yield i(n.currentUser)}))},a=t=>{Jl("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Jl("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ac)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Jl("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(rc("string"==typeof e.accessToken),new lc(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return rc(null===t||"string"==typeof t),new Gl(t)}}class dc{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Gl.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class fc{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new dc(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Gl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function mc(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}pc.T=-1;class gc{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=mc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function yc(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}function _c(t){return t+"\0"}class bc{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new oc(sc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new oc(sc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new oc(sc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new oc(sc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bc.fromMillis(Date.now())}static fromDate(t){return bc.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new bc(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?yc(this.nanoseconds,t.nanoseconds):yc(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wc{constructor(t){this.timestamp=t}static fromTimestamp(t){return new wc(t)}static min(){return new wc(new bc(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ic(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ec(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Sc{constructor(t,e,n){void 0===e?e=0:e>t.length&&nc(),void 0===n?n=t.length-e:n>t.length-e&&nc(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Sc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sc?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Cc extends Sc{construct(t,e,n){return new Cc(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new oc(sc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Cc(e)}static emptyPath(){return new Cc([])}}const xc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kc extends Sc{construct(t,e,n){return new kc(t,e,n)}static isValidIdentifier(t){return xc.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kc.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kc(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new oc(sc.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new oc(sc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new oc(sc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new oc(sc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kc(e)}static emptyPath(){return new kc([])}}class Ac{constructor(t){this.fields=t,t.sort(kc.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return vc(this.fields,t.fields,(t,e)=>t.isEqual(e))}}let Oc=(()=>{class t{constructor(t){this.binaryString=t}static fromBase64String(e){const n=atob(e);return new t(n)}static fromUint8Array(e){const n=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yc(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}return t.EMPTY_BYTE_STRING=new t(""),t})();const Nc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rc(t){if(rc(!!t),"string"==typeof t){let e=0;const n=Nc.exec(t);if(rc(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dc(t.seconds),nanos:Dc(t.nanos)}}function Dc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pc(t){return"string"==typeof t?Oc.fromBase64String(t):Oc.fromUint8Array(t)}function Lc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fc(t){const e=t.mapValue.fields.__previous_value__;return Lc(e)?Fc(e):e}function Mc(t){const e=Rc(t.mapValue.fields.__local_write_time__.timestampValue);return new bc(e.seconds,e.nanos)}function Uc(t){return null==t}function Vc(t){return 0===t&&1/t==-1/0}function jc(t){return"number"==typeof t&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class qc{constructor(t){this.path=t}static fromPath(t){return new qc(Cc.fromString(t))}static fromName(t){return new qc(Cc.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Cc.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Cc.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qc(new Cc(t.slice()))}}function Zc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lc(t)?4:10:nc()}function Bc(t,e){const n=Zc(t);if(n!==Zc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Rc(t.timestampValue),r=Rc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Pc(t.bytesValue).isEqual(Pc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Dc(t.geoPointValue.latitude)===Dc(e.geoPointValue.latitude)&&Dc(t.geoPointValue.longitude)===Dc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Dc(t.integerValue)===Dc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Dc(t.doubleValue),r=Dc(e.doubleValue);return n===r?Vc(n)===Vc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],Bc);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ic(n)!==Ic(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bc(n[i],r[i])))return!1;return!0}(t,e);default:return nc()}}function zc(t,e){return void 0!==(t.values||[]).find(t=>Bc(t,e))}function $c(t,e){const n=Zc(t),r=Zc(e);if(n!==r)return yc(n,r);switch(n){case 0:return 0;case 1:return yc(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Dc(t.integerValue||t.doubleValue),r=Dc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hc(t.timestampValue,e.timestampValue);case 4:return Hc(Mc(t),Mc(e));case 5:return yc(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Pc(t),r=Pc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=yc(n[i],r[i]);if(0!==t)return t}return yc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=yc(Dc(t.latitude),Dc(e.latitude));return 0!==n?n:yc(Dc(t.longitude),Dc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=$c(n[i],r[i]);if(t)return t}return yc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=yc(r[o],s[o]);if(0!==t)return t;const e=$c(n[r[o]],i[s[o]]);if(0!==e)return e}return yc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw nc()}}function Hc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return yc(t,e);const n=Rc(t),r=Rc(e),i=yc(n.seconds,r.seconds);return 0!==i?i:yc(n.nanos,r.nanos)}function Gc(t){return Kc(t)}function Kc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Rc(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pc(t.bytesValue).toBase64():"referenceValue"in t?qc.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Kc(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Kc(t.fields[i])}`;return n+"}"}(t.mapValue):nc();var e}function Wc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qc(t){return!!t&&"integerValue"in t}function Yc(t){return!!t&&"arrayValue"in t}function Jc(t){return!!t&&"nullValue"in t}function Xc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tu(t){return!!t&&"mapValue"in t}function eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ec(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=eu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}class nu{constructor(t){this.value=t}static empty(){return new nu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!tu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(e)}setAll(t){let e=kc.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=eu(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());tu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];tu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Ec(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new nu(eu(this.value))}}function ru(t){const e=[];return Ec(t.fields,(t,n)=>{const r=new kc([t]);if(tu(n)){const t=ru(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new Ac(e)}class iu{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new iu(t,0,wc.min(),nu.empty(),0)}static newFoundDocument(t,e,n){return new iu(t,1,e,n,0)}static newNoDocument(t,e){return new iu(t,2,e,nu.empty(),0)}static newUnknownDocument(t,e){return new iu(t,3,e,nu.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof iu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new iu(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class su{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function ou(t,e=null,n=[],r=[],i=null,s=null,o=null){return new su(t,e,n,r,i,s,o)}function au(t){const e=ic(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+Gc(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),Uc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=bu(e.startAt)),e.endAt&&(t+="|ub:",t+=bu(e.endAt)),e.A=t}return e.A}function lu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Iu(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Bc(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tu(t.startAt,e.startAt)&&Tu(t.endAt,e.endAt)}function cu(t){return qc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class uu extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new hu(t,e,n):"array-contains"===e?new mu(t,n):"in"===e?new gu(t,n):"not-in"===e?new yu(t,n):"array-contains-any"===e?new vu(t,n):new uu(t,e,n)}static R(t,e,n){return"in"===e?new du(t,n):new fu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P($c(e,this.value)):null!==e&&Zc(this.value)===Zc(e)&&this.P($c(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nc()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hu extends uu{constructor(t,e,n){super(t,e,n),this.key=qc.fromName(n.referenceValue)}matches(t){const e=qc.comparator(t.key,this.key);return this.P(e)}}class du extends uu{constructor(t,e){super(t,"in",e),this.keys=pu(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fu extends uu{constructor(t,e){super(t,"not-in",e),this.keys=pu(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function pu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>qc.fromName(t.referenceValue))}class mu extends uu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yc(e)&&zc(e.arrayValue,this.value)}}class gu extends uu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&zc(this.value.arrayValue,e)}}class yu extends uu{constructor(t,e){super(t,"not-in",e)}matches(t){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!zc(this.value.arrayValue,e)}}class vu extends uu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yc(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>zc(this.value.arrayValue,t))}}class _u{constructor(t,e){this.position=t,this.before=e}}function bu(t){return`${t.before?"b":"a"}:${t.position.map(t=>Gc(t)).join(",")}`}class wu{constructor(t,e="asc"){this.field=t,this.dir=e}}function Iu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Eu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?qc.comparator(qc.fromName(o.referenceValue),n.key):$c(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Tu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bc(t.position[n],e.position[n]))return!1;return!0}class Su{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Cu(t,e,n,r,i,s,o,a){return new Su(t,e,n,r,i,s,o,a)}function xu(t){return new Su(t)}function ku(t){return!Uc(t.limit)&&"F"===t.limitType}function Au(t){return!Uc(t.limit)&&"L"===t.limitType}function Ou(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Nu(t){for(const e of t.filters)if(e.v())return e.field;return null}function Ru(t){return null!==t.collectionGroup}function Du(t){const e=ic(t);if(null===e.V){e.V=[];const t=Nu(e),n=Ou(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new wu(t)),e.V.push(new wu(kc.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new wu(kc.keyField(),t))}}}return e.V}function Pu(t){const e=ic(t);if(!e.S)if("F"===e.limitType)e.S=ou(e.path,e.collectionGroup,Du(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of Du(e))t.push(new wu(i.field,"desc"===i.dir?"asc":"desc"));const n=e.endAt?new _u(e.endAt.position,!e.endAt.before):null,r=e.startAt?new _u(e.startAt.position,!e.startAt.before):null;e.S=ou(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function Lu(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fu(t,e){return lu(Pu(t),Pu(e))&&t.limitType===e.limitType}function Mu(t){return`${au(Pu(t))}|lt:${t.limitType}`}function Uu(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Gc(e.value)}`;var e}).join(", ")}]`),Uc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: "+bu(t.startAt)),t.endAt&&(e+=", endAt: "+bu(t.endAt)),`Target(${e})`}(Pu(t))}; limitType=${t.limitType})`}function Vu(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):qc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Eu(t.startAt,Du(t),e)||t.endAt&&Eu(t.endAt,Du(t),e))}(t,e)}function ju(t){return(e,n)=>{let r=!1;for(const i of Du(t)){const t=qu(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function qu(t,e,n){const r=t.field.isKeyField()?qc.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?$c(r,i):nc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nc()}}function Zu(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function Bu(t){return{integerValue:""+t}}function zu(t,e){return jc(e)?Bu(e):Zu(t,e)}class $u{constructor(){this._=void 0}}function Hu(t,e,n){return t instanceof Wu?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qu?Yu(t,e):t instanceof Ju?Xu(t,e):function(t,e){const n=Ku(t,e),r=eh(n)+eh(t.C);return Qc(n)&&Qc(t.C)?Bu(r):Zu(t.N,r)}(t,e)}function Gu(t,e,n){return t instanceof Qu?Yu(t,e):t instanceof Ju?Xu(t,e):n}function Ku(t,e){return t instanceof th?Qc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Wu extends $u{}class Qu extends $u{constructor(t){super(),this.elements=t}}function Yu(t,e){const n=nh(e);for(const r of t.elements)n.some(t=>Bc(t,r))||n.push(r);return{arrayValue:{values:n}}}class Ju extends $u{constructor(t){super(),this.elements=t}}function Xu(t,e){let n=nh(e);for(const r of t.elements)n=n.filter(t=>!Bc(t,r));return{arrayValue:{values:n}}}class th extends $u{constructor(t,e){super(),this.N=t,this.C=e}}function eh(t){return Dc(t.integerValue||t.doubleValue)}function nh(t){return Yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class rh{constructor(t,e){this.field=t,this.transform=e}}class ih{constructor(t,e){this.version=t,this.transformResults=e}}class sh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new sh}static exists(t){return new sh(void 0,t)}static updateTime(t){return new sh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ah{}function lh(t,e,n){t instanceof fh?function(t,e,n){const r=t.value.clone(),i=gh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ph?function(t,e,n){if(!oh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=gh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(mh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ch(t,e,n){t instanceof fh?function(t,e,n){if(!oh(t.precondition,e))return;const r=t.value.clone(),i=yh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(dh(e),r).setHasLocalMutations()}(t,e,n):t instanceof ph?function(t,e,n){if(!oh(t.precondition,e))return;const r=yh(t.fieldTransforms,n,e),i=e.data;i.setAll(mh(t)),i.setAll(r),e.convertToFoundDocument(dh(e),i).setHasLocalMutations()}(t,e,n):function(t,e){oh(t.precondition,e)&&e.convertToNoDocument(wc.min())}(t,e)}function uh(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Ku(r.transform,t||null);null!=i&&(null==n&&(n=nu.empty()),n.set(r.field,i))}return n||null}function hh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&vc(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qu&&e instanceof Qu||t instanceof Ju&&e instanceof Ju?vc(t.elements,e.elements,Bc):t instanceof th&&e instanceof th?Bc(t.C,e.C):t instanceof Wu&&e instanceof Wu}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function dh(t){return t.isFoundDocument()?t.version:wc.min()}class fh extends ah{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class ph extends ah{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function mh(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gh(t,e,n){const r=new Map;rc(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gu(o,a,n[i]))}return r}function yh(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Hu(t,s,e))}return r}class vh extends ah{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class _h extends ah{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class bh{constructor(t){this.count=t}}var wh,Ih;function Eh(t){switch(t){default:return nc();case sc.CANCELLED:case sc.UNKNOWN:case sc.DEADLINE_EXCEEDED:case sc.RESOURCE_EXHAUSTED:case sc.INTERNAL:case sc.UNAVAILABLE:case sc.UNAUTHENTICATED:return!1;case sc.INVALID_ARGUMENT:case sc.NOT_FOUND:case sc.ALREADY_EXISTS:case sc.PERMISSION_DENIED:case sc.FAILED_PRECONDITION:case sc.ABORTED:case sc.OUT_OF_RANGE:case sc.UNIMPLEMENTED:case sc.DATA_LOSS:return!0}}function Th(t){if(void 0===t)return Xl("GRPC error has no .code"),sc.UNKNOWN;switch(t){case wh.OK:return sc.OK;case wh.CANCELLED:return sc.CANCELLED;case wh.UNKNOWN:return sc.UNKNOWN;case wh.DEADLINE_EXCEEDED:return sc.DEADLINE_EXCEEDED;case wh.RESOURCE_EXHAUSTED:return sc.RESOURCE_EXHAUSTED;case wh.INTERNAL:return sc.INTERNAL;case wh.UNAVAILABLE:return sc.UNAVAILABLE;case wh.UNAUTHENTICATED:return sc.UNAUTHENTICATED;case wh.INVALID_ARGUMENT:return sc.INVALID_ARGUMENT;case wh.NOT_FOUND:return sc.NOT_FOUND;case wh.ALREADY_EXISTS:return sc.ALREADY_EXISTS;case wh.PERMISSION_DENIED:return sc.PERMISSION_DENIED;case wh.FAILED_PRECONDITION:return sc.FAILED_PRECONDITION;case wh.ABORTED:return sc.ABORTED;case wh.OUT_OF_RANGE:return sc.OUT_OF_RANGE;case wh.UNIMPLEMENTED:return sc.UNIMPLEMENTED;case wh.DATA_LOSS:return sc.DATA_LOSS;default:return nc()}}(Ih=wh||(wh={}))[Ih.OK=0]="OK",Ih[Ih.CANCELLED=1]="CANCELLED",Ih[Ih.UNKNOWN=2]="UNKNOWN",Ih[Ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ih[Ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ih[Ih.NOT_FOUND=5]="NOT_FOUND",Ih[Ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ih[Ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ih[Ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ih[Ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ih[Ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ih[Ih.ABORTED=10]="ABORTED",Ih[Ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ih[Ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ih[Ih.INTERNAL=13]="INTERNAL",Ih[Ih.UNAVAILABLE=14]="UNAVAILABLE",Ih[Ih.DATA_LOSS=15]="DATA_LOSS";class Sh{constructor(t,e){this.comparator=t,this.root=e||xh.EMPTY}insert(t,e){return new Sh(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xh.BLACK,null,null))}remove(t){return new Sh(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xh.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ch(this.root,t,this.comparator,!0)}}class Ch{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xh{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:xh.RED,this.left=null!=r?r:xh.EMPTY,this.right=null!=i?i:xh.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new xh(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xh.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return xh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xh.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nc();if(this.right.isRed())throw nc();const t=this.left.check();if(t!==this.right.check())throw nc();return t+(this.isRed()?0:1)}}xh.EMPTY=null,xh.RED=!0,xh.BLACK=!1,xh.EMPTY=new class{constructor(){this.size=0}get key(){throw nc()}get value(){throw nc()}get color(){throw nc()}get left(){throw nc()}get right(){throw nc()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xh(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kh{constructor(t){this.comparator=t,this.data=new Sh(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ah(this.data.getIterator())}getIteratorFrom(t){return new Ah(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof kh))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new kh(this.comparator);return e.data=t,e}}class Ah{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Oh=new Sh(qc.comparator);function Nh(){return Oh}const Rh=new Sh(qc.comparator);function Dh(){return Rh}const Ph=new Sh(qc.comparator);function Lh(){return Ph}const Fh=new kh(qc.comparator);function Mh(...t){let e=Fh;for(const n of t)e=e.add(n);return e}const Uh=new kh(yc);function Vh(){return Uh}class jh{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,qh.createSynthesizedTargetChangeForCurrentChange(t,e)),new jh(wc.min(),n,Vh(),Nh(),Mh())}}class qh{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new qh(Oc.EMPTY_BYTE_STRING,e,Mh(),Mh(),Mh())}}class Zh{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class Bh{constructor(t,e){this.targetId=t,this.O=e}}class zh{constructor(t,e,n=Oc.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class $h{constructor(){this.F=0,this.M=Kh(),this.L=Oc.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=Mh(),e=Mh(),n=Mh();return this.M.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:nc()}}),new qh(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Kh()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Hh{constructor(t){this.tt=t,this.et=new Map,this.nt=Nh(),this.st=Gh(),this.it=new kh(yc)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:nc()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(cu(t))if(0===n){const n=new qc(t.path);this.ct(e,n,iu.newNoDocument(n,wc.min()))}else rc(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&cu(i.target)){const e=new qc(i.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.ct(r,e,iu.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}});let n=Mh();this.st.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))});const r=new jh(t,e,this.it,this.nt,n);return this.nt=Nh(),this.st=Gh(),this.it=new kh(yc),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new $h,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new kh(yc),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Jl("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new $h),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function Gh(){return new Sh(qc.comparator)}function Kh(){return new Sh(qc.comparator)}const Wh={asc:"ASCENDING",desc:"DESCENDING"},Qh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yh{constructor(t,e){this.databaseId=t,this.D=e}}function Jh(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xh(t,e){return t.D?e.toBase64():e.toUint8Array()}function td(t,e){return Jh(t,e.toTimestamp())}function ed(t){return rc(!!t),wc.fromTimestamp(function(t){const e=Rc(t);return new bc(e.seconds,e.nanos)}(t))}function nd(t,e){return function(t){return new Cc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function rd(t){const e=Cc.fromString(t);return rc(xd(e)),e}function id(t,e){return nd(t.databaseId,e.path)}function sd(t,e){const n=rd(e);if(n.get(1)!==t.databaseId.projectId)throw new oc(sc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oc(sc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qc(cd(n))}function od(t,e){return nd(t.databaseId,e)}function ad(t){const e=rd(t);return 4===e.length?Cc.emptyPath():cd(e)}function ld(t){return new Cc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cd(t){return rc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ud(t,e,n){return{name:id(t,e),fields:n.value.mapValue.fields}}function hd(t,e,n){const r=sd(t,e.name),i=ed(e.updateTime),s=new nu({mapValue:{fields:e.fields}}),o=iu.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function dd(t,e){let n;if(e instanceof fh)n={update:ud(t,e.key,e.value)};else if(e instanceof vh)n={delete:id(t,e.key)};else if(e instanceof ph)n={update:ud(t,e.key,e.data),updateMask:Cd(e.fieldMask)};else{if(!(e instanceof _h))return nc();n={verify:id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Wu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ju)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof th)return{fieldPath:e.field.canonicalString(),increment:n.C};throw nc()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:td(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:nc()}(t,e.precondition)),n}function fd(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?sh.updateTime(ed(t.updateTime)):void 0!==t.exists?sh.exists(t.exists):sh.none()}(e.currentDocument):sh.none(),r=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(rc("REQUEST_TIME"===e.setToServerValue),n=new Wu):"appendMissingElements"in e?n=new Qu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ju(e.removeAllFromArray.values||[]):"increment"in e?n=new th(t,e.increment):nc();const r=kc.fromServerFormat(e.fieldPath);return new rh(r,n)}(t,e)):[];if(e.update){const i=sd(t,e.update.name),s=new nu({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){return new Ac((t.fieldPaths||[]).map(t=>kc.fromServerFormat(t)))}(e.updateMask);return new ph(i,s,t,n,r)}return new fh(i,s,n,r)}if(e.delete){const r=sd(t,e.delete);return new vh(r,n)}if(e.verify){const r=sd(t,e.verify);return new _h(r,n)}return nc()}function pd(t,e){return{documents:[od(t,e.path)]}}function md(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=od(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=od(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(Xc(t.value))return{unaryFilter:{field:Id(t.field),op:"IS_NAN"}};if(Jc(t.value))return{unaryFilter:{field:Id(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Xc(t.value))return{unaryFilter:{field:Id(t.field),op:"IS_NOT_NAN"}};if(Jc(t.value))return{unaryFilter:{field:Id(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Id(t.field),op:wd(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:Id(t.field),direction:bd(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.D||Uc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=vd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vd(e.endAt)),n}function gd(t){let e=ad(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rc(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=yd(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new wu(Ed(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Uc(e)?null:e}(n.limit));let l=null;n.startAt&&(l=_d(n.startAt));let c=null;return n.endAt&&(c=_d(n.endAt)),Cu(e,i,o,s,a,"F",l,c)}function yd(t){return t?void 0!==t.unaryFilter?[Sd(t)]:void 0!==t.fieldFilter?[Td(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>yd(t)).reduce((t,e)=>t.concat(e)):nc():[]}function vd(t){return{before:t.before,values:t.position}}function _d(t){return new _u(t.values||[],!!t.before)}function bd(t){return Wh[t]}function wd(t){return Qh[t]}function Id(t){return{fieldPath:t.canonicalString()}}function Ed(t){return kc.fromServerFormat(t.fieldPath)}function Td(t){return uu.create(Ed(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sd(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ed(t.unaryFilter.field);return uu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ed(t.unaryFilter.field);return uu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ed(t.unaryFilter.field);return uu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ed(t.unaryFilter.field);return uu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nc()}}function Cd(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function kd(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Od(e)),e=Ad(t.get(n),e);return Od(e)}function Ad(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Od(t){return t+"\x01\x01"}function Nd(t){const e=t.length;if(rc(e>=2),2===e)return rc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Cc.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&nc(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=t.substring(s,e),i+="\0";break;case"\x11":i+=t.substring(s,e+1);break;default:nc()}s=e+2}return new Cc(r)}class Rd{constructor(t,e){this.seconds=t,this.nanoseconds=e}}let Dd=(()=>{class t{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}return t.store="owner",t.key="owner",t})(),Pd=(()=>{class t{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}return t.store="mutationQueues",t.keyPath="userId",t})();class Ld{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Ld.store="mutations",Ld.keyPath="batchId",Ld.userMutationsIndex="userMutationsIndex",Ld.userMutationsKeyPath=["userId","batchId"];let Fd=(()=>{class t{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,kd(e)]}static key(t,e,n){return[t,kd(e),n]}}return t.store="documentMutations",t.PLACEHOLDER=new t,t})();class Md{constructor(t,e){this.path=t,this.readTime=e}}class Ud{constructor(t,e){this.path=t,this.version=e}}class Vd{constructor(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Vd.store="remoteDocuments",Vd.readTimeIndex="readTimeIndex",Vd.readTimeIndexPath="readTime",Vd.collectionReadTimeIndex="collectionReadTimeIndex",Vd.collectionReadTimeIndexPath=["parentPath","readTime"];let jd=(()=>{class t{constructor(t){this.byteSize=t}}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t})();class qd{constructor(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}qd.store="targets",qd.keyPath="targetId",qd.queryTargetsIndexName="queryTargetsIndex",qd.queryTargetsKeyPath=["canonicalId","targetId"];class Zd{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}Zd.store="targetDocuments",Zd.keyPath=["targetId","path"],Zd.documentTargetsIndex="documentTargetsIndex",Zd.documentTargetsKeyPath=["path","targetId"];let Bd=(()=>{class t{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return t.key="targetGlobalKey",t.store="targetGlobal",t})(),zd=(()=>{class t{constructor(t,e){this.collectionId=t,this.parent=e}}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t})(),$d=(()=>{class t{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}return t.store="clientMetadata",t.keyPath="clientId",t})(),Hd=(()=>{class t{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}return t.store="bundles",t.keyPath="bundleId",t})(),Gd=(()=>{class t{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}return t.store="namedQueries",t.keyPath="name",t})();const Kd=[Pd.store,Ld.store,Fd.store,Vd.store,qd.store,Dd.store,Bd.store,Zd.store,$d.store,jd.store,zd.store,Hd.store,Gd.store],Wd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Yd{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&nc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yd((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Yd?e:Yd.resolve(e)}catch(t){return Yd.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Yd.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Yd.reject(e)}static resolve(t){return new Yd((e,n)=>{e(t)})}static reject(t){return new Yd((e,n)=>{n(t)})}static waitFor(t){return new Yd((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Yd.resolve(!1);for(const n of t)e=e.next(t=>t?Yd.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}}class Jd{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new ac,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new ef(t,e.error)):this.Et.resolve()},this.transaction.onerror=e=>{const n=af(e.target.error);this.Et.reject(new ef(t,n))}}static open(t,e,n,r){try{return new Jd(e,t.transaction(r,n))}catch(t){throw new ef(e,t)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Jl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new rf(e)}}class Xd{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===Xd.Rt((0,Ui.z$)())&&Xl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Jl("SimpleDb","Removing database:",t),sf(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Ui.hl)())return!1;if(Xd.Pt())return!0;const t=(0,Ui.z$)(),e=Xd.Rt(t),n=0<e&&e<10,r=Xd.vt(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(t){var e=this;return(0,Pi.Z)(function*(){return e.db||(Jl("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const i=indexedDB.open(e.name,e.version);i.onsuccess=t=>{n(t.target.result)},i.onblocked=()=>{r(new ef(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const n=e.target.error;r("VersionError"===n.name?new oc(sc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new oc(sc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new ef(t,n))},i.onupgradeneeded=t=>{Jl("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.At.Ct(t.target.result,i.transaction,t.oldVersion,e.version).next(()=>{Jl("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=t=>e.Nt(t)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var i=this;return(0,Pi.Z)(function*(){const s="readonly"===e;let o=0;for(;;){++o;try{i.db=yield i.Dt(t);const e=Jd.open(i.db,t,s?"readonly":"readwrite",n),o=r(e).catch(t=>(e.abort(t),Yd.reject(t))).toPromise();return o.catch(()=>{}),yield e.It,o}catch(t){const n="FirebaseError"!==t.name&&o<3;if(Jl("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),i.close(),!n)return Promise.reject(t)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tf{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return sf(this.kt.delete())}}class ef extends oc{constructor(t,e){super(sc.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function nf(t){return"IndexedDbTransactionError"===t.name}class rf{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Jl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Jl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sf(n)}add(t){return Jl("SimpleDb","ADD",this.store.name,t,t),sf(this.store.add(t))}get(t){return sf(this.store.get(t)).next(e=>(void 0===e&&(e=null),Jl("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Jl("SimpleDb","DELETE",this.store.name,t),sf(this.store.delete(t))}count(){return Jl("SimpleDb","COUNT",this.store.name),sf(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),r=[];return this.Bt(n,(t,e)=>{r.push(e)}).next(()=>r)}Ut(t,e){Jl("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new Yd((n,r)=>{e.onerror=t=>{const e=af(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next(t=>{t?r.continue():n()}):n()}})}Bt(t,e){const n=[];return new Yd((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new tf(i),o=e(i.primaryKey,i.value,s);if(o instanceof Yd){const t=o.catch(t=>(s.done(),Yd.reject(t)));n.push(t)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Yd.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sf(t){return new Yd((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=af(t.target.error);n(e)}})}let of=!1;function af(t){const e=Xd.Rt((0,Ui.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new oc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return of||(of=!0,setTimeout(()=>{throw t},0)),t}}return t}class lf extends Qd{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function cf(t,e){const n=ic(t);return Xd.St(n.Qt,e)}class uf{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&lh(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&ch(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&ch(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(wc.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Mh())}isEqual(t){return this.batchId===t.batchId&&vc(this.mutations,t.mutations,(t,e)=>hh(t,e))&&vc(this.baseMutations,t.baseMutations,(t,e)=>hh(t,e))}}class hf{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){rc(t.mutations.length===n.length);let r=Lh();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hf(t,e,n,r)}}class df{constructor(t,e,n,r,i=wc.min(),s=wc.min(),o=Oc.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new df(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ff{constructor(t){this.Wt=t}}function pf(t,e){if(e.document)return hd(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=qc.fromSegments(e.noDocument.path),n=_f(e.noDocument.readTime),r=iu.newNoDocument(t,n);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=qc.fromSegments(e.unknownDocument.path),n=_f(e.unknownDocument.version);return iu.newUnknownDocument(t,n)}return nc()}function mf(t,e,n){const r=gf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n=function(t,e){return{name:id(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Jh(t,e.version.toTimestamp())}}(t.Wt,e);return new Vd(null,null,n,e.hasCommittedMutations,r,i)}if(e.isNoDocument()){const t=e.key.path.toArray(),n=vf(e.version),s=e.hasCommittedMutations;return new Vd(null,new Md(t,n),null,s,r,i)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=vf(e.version);return new Vd(new Ud(t,n),null,null,!0,r,i)}return nc()}function gf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yf(t){const e=new bc(t[0],t[1]);return wc.fromTimestamp(e)}function vf(t){const e=t.toTimestamp();return new Rd(e.seconds,e.nanoseconds)}function _f(t){const e=new bc(t.seconds,t.nanoseconds);return wc.fromTimestamp(e)}function bf(t,e){const n=(e.baseMutations||[]).map(e=>fd(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(e=>fd(t.Wt,e)),i=bc.fromMillis(e.localWriteTimeMs);return new uf(e.batchId,i,n,r)}function wf(t){const e=_f(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?_f(t.lastLimboFreeSnapshotVersion):wc.min();let r;var i;return void 0!==t.query.documents?(rc(1===(i=t.query).documents.length),r=Pu(xu(ad(i.documents[0])))):r=function(t){return Pu(gd(t))}(t.query),new df(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Oc.fromBase64String(t.resumeToken))}function If(t,e){const n=vf(e.snapshotVersion),r=vf(e.lastLimboFreeSnapshotVersion);let i;i=cu(e.target)?pd(t.Wt,e.target):md(t.Wt,e.target);const s=e.resumeToken.toBase64();return new qd(e.targetId,au(e.target),n,s,e.sequenceNumber,r,i)}function Ef(t){const e=gd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Lu(e,e.limit,"L"):e}class Tf{getBundleMetadata(t,e){return Sf(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:_f(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return Sf(t).put({bundleId:(n=e).id,createTime:vf(ed(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return Cf(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:Ef(e.bundledQuery),readTime:_f(e.readTime)};var e})}saveNamedQuery(t,e){return Cf(t).put(function(t){return{name:t.name,readTime:vf(ed(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Sf(t){return cf(t,Hd.store)}function Cf(t){return cf(t,Gd.store)}class xf{constructor(){this.Gt=new kf}addToCollectionParentIndex(t,e){return this.Gt.add(e),Yd.resolve()}getCollectionParents(t,e){return Yd.resolve(this.Gt.getEntries(e))}}class kf{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new kh(Cc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new kh(Cc.comparator)).toArray()}}class Af{constructor(){this.zt=new kf}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const i={collectionId:n,parent:kd(r)};return Of(t).put(i)}return Yd.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[_c(e),""],!1,!0);return Of(t).Lt(r).next(t=>{for(const r of t){if(r.collectionId!==e)break;n.push(Nd(r.parent))}return n})}}function Of(t){return cf(t,zd.store)}const Nf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rf{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Rf(t,Rf.DEFAULT_COLLECTION_PERCENTILE,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Df(t,e,n){const r=t.store(Ld.store),i=t.store(Fd.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(l.next(()=>{rc(1===a)}));const c=[];for(const u of n.mutations){const t=Fd.key(e,u.key.path,n.batchId);s.push(i.delete(t)),c.push(u.key)}return Yd.waitFor(s).next(()=>c)}function Pf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nc();e=t.noDocument}return JSON.stringify(e).length}Rf.DEFAULT_COLLECTION_PERCENTILE=10,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rf.DEFAULT=new Rf(41943040,Rf.DEFAULT_COLLECTION_PERCENTILE,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rf.DISABLED=new Rf(-1,0,0);class Lf{constructor(t,e,n,r){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,n,r){rc(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new Lf(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mf(t).Kt({index:Ld.userMutationsIndex,range:n},(t,n,r)=>{e=!1,r.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const i=Uf(t),s=Mf(t);return s.add({}).next(o=>{rc("number"==typeof o);const a=new uf(o,e,n,r),l=function(t,e,n){const r=n.baseMutations.map(e=>dd(t.Wt,e)),i=n.mutations.map(e=>dd(t.Wt,e));return new Ld(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let u=new kh((t,e)=>yc(t.canonicalString(),e.canonicalString()));for(const t of r){const e=Fd.key(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(i.put(e,Fd.PLACEHOLDER))}return u.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Yd.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return Mf(t).get(e).next(t=>t?(rc(t.userId===this.userId),bf(this.N,t)):null)}Xt(t,e){return this.Jt[e]?Yd.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Mf(t).Kt({index:Ld.userMutationsIndex,range:r},(t,e,r)=>{e.userId===this.userId&&(rc(e.batchId>=n),i=bf(this.N,e)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Mf(t).Kt({index:Ld.userMutationsIndex,range:e,reverse:!0},(t,e,r)=>{n=e.batchId,r.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mf(t).Lt(Ld.userMutationsIndex,e).next(t=>t.map(t=>bf(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Fd.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return Uf(t).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,c=Nd(a);if(o===this.userId&&e.path.isEqual(c))return Mf(t).get(l).next(t=>{if(!t)throw nc();rc(t.userId===this.userId),i.push(bf(this.N,t))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new kh(yc);const r=[];return e.forEach(e=>{const i=Fd.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=Uf(t).Kt({range:s},(t,r,i)=>{const[s,o,a]=t,l=Nd(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Yd.waitFor(r).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=Fd.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new kh(yc);return Uf(t).Kt({range:s},(t,e,i)=>{const[s,a,l]=t,c=Nd(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],r=[];return e.forEach(e=>{r.push(Mf(t).get(e).next(t=>{if(null===t)throw nc();rc(t.userId===this.userId),n.push(bf(this.N,t))}))}),Yd.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return Df(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Yd.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Yd.resolve();const n=IDBKeyRange.lowerBound(Fd.prefixForUser(this.userId)),r=[];return Uf(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=Nd(t[1]);r.push(e)}else n.done()}).next(()=>{rc(0===r.length)})})}containsKey(t,e){return Ff(t,this.userId,e)}ee(t){return Vf(t).get(this.userId).next(t=>t||new Pd(this.userId,-1,""))}}function Ff(t,e,n){const r=Fd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Uf(t).Kt({range:s,qt:!0},(t,n,r)=>{const[s,a,l]=t;s===e&&a===i&&(o=!0),r.done()}).next(()=>o)}function Mf(t){return cf(t,Ld.store)}function Uf(t){return cf(t,Fd.store)}function Vf(t){return cf(t,Pd.store)}class jf{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new jf(0)}static ie(){return new jf(-1)}}class qf{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new jf(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>wc.fromTimestamp(new bc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ae(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Zf(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(rc(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let r=0;const i=[];return Zf(t).Kt((s,o)=>{const a=wf(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))}).next(()=>Yd.waitFor(i)).next(()=>r)}forEachTarget(t,e){return Zf(t).Kt((t,n)=>{const r=wf(n);e(r)})}re(t){return Bf(t).get(Bd.key).next(t=>(rc(null!==t),t))}oe(t,e){return Bf(t).put(Bd.key,e)}ce(t,e){return Zf(t).put(If(this.N,e))}ae(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=au(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Zf(t).Kt({range:r,index:qd.queryTargetsIndexName},(t,n,r)=>{const s=wf(n);lu(e,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(t,e,n){const r=[],i=zf(t);return e.forEach(e=>{const s=kd(e.path);r.push(i.put(new Zd(n,s))),r.push(this.referenceDelegate.addReference(t,n,e))}),Yd.waitFor(r)}removeMatchingKeys(t,e,n){const r=zf(t);return Yd.forEach(e,e=>{const i=kd(e.path);return Yd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=zf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zf(t);let i=Mh();return r.Kt({range:n,qt:!0},(t,e,n)=>{const r=Nd(t[1]),s=new qc(r);i=i.add(s)}).next(()=>i)}containsKey(t,e){const n=kd(e.path),r=IDBKeyRange.bound([n],[_c(n)],!1,!0);let i=0;return zf(t).Kt({index:Zd.documentTargetsIndex,qt:!0,range:r},([t,e],n,r)=>{0!==t&&(i++,r.done())}).next(()=>i>0)}Tt(t,e){return Zf(t).get(e).next(t=>t?wf(t):null)}}function Zf(t){return cf(t,qd.store)}function Bf(t){return cf(t,Bd.store)}function zf(t){return cf(t,Zd.store)}function $f(t){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,Pi.Z)(function*(t){if(t.code!==sc.FAILED_PRECONDITION||t.message!==Wd)throw t;Jl("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Gf([t,e],[n,r]){const i=yc(t,n);return 0===i?yc(e,r):i}class Kf{constructor(t){this.ue=t,this.buffer=new kh(Gf),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Gf(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Wf{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const n=this.de?3e5:6e4;Jl("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Pi.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(t){nf(t)?Jl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield $f(t)}yield e._e(t)}))}}class Qf{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Yd.resolve(pc.T);const n=new Kf(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Jl("LruGarbageCollector","Garbage collection skipped; disabled"),Yd.resolve(Nf)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Jl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nf):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Jl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),Ql()<=Mi.in.DEBUG&&Jl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Yd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})))}}class Yf{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Qf(t,e)}(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Te(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(t,n)=>e(n))}addReference(t,e,n){return Jf(t,n)}removeReference(t,e,n){return Jf(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Jf(t,e)}Ie(t,e){return function(t,e){let n=!1;return Vf(t).jt(r=>Ff(t,r,e).next(t=>(t&&(n=!0),Yd.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return i++,n.getEntry(t,s).next(()=>(n.removeEntry(s),zf(t).delete([0,kd(s.path)])))});r.push(e)}}).next(()=>Yd.waitFor(r)).next(()=>n.apply(t)).next(()=>i)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Jf(t,e)}Ee(t,e){const n=zf(t);let r,i=pc.T;return n.Kt({index:Zd.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(i!==pc.T&&e(new qc(Nd(r)),i),i=o,r=s):i=pc.T}).next(()=>{i!==pc.T&&e(new qc(Nd(r)),i)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Jf(t,e){return zf(t).put(function(t,e){return new Zd(0,kd(t.path),e)}(e,t.currentSequenceNumber))}class Xf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Ec(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return Tc(this.inner)}}class tp{constructor(){this.changes=new Xf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:wc.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:iu.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Yd.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ep{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return ip(t).put(sp(e),n)}removeEntry(t,e){const n=ip(t),r=sp(e);return n.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return ip(t).get(sp(e)).next(t=>this.Re(e,t))}be(t,e){return ip(t).get(sp(e)).next(t=>({document:this.Re(e,t),size:Pf(t)}))}getEntries(t,e){let n=Nh();return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r)}).next(()=>n)}ve(t,e){let n=Nh(),r=new Sh(qc.comparator);return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i),r=r.insert(t,Pf(e))}).next(()=>({documents:n,Ve:r}))}Pe(t,e,n){if(e.isEmpty())return Yd.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator();let s=i.getNext();return ip(t).Kt({range:r},(t,e,r)=>{const o=qc.fromSegments(t);for(;s&&qc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(t,e,n){let r=Nh();const i=e.path.length+1,s={};if(n.isEqual(wc.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),r=gf(n);s.range=IDBKeyRange.lowerBound([t,r],!0),s.index=Vd.collectionReadTimeIndex}return ip(t).Kt(s,(t,n,s)=>{if(t.length!==i)return;const o=pf(this.N,n);e.path.isPrefixOf(o.key.path)?Vu(e,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(t){return new np(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return rp(t).get(jd.key).next(t=>(rc(!!t),t))}Ae(t,e){return rp(t).put(jd.key,e)}Re(t,e){if(e){const t=pf(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(wc.min()))return t}return iu.newInvalidDocument(t)}}class np extends tp{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Xf(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,r=new kh((t,e)=>yc(t.canonicalString(),e.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=mf(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=Pf(a);n+=l-o,e.push(this.Se.addEntry(t,i,a))}else if(n-=o,this.trackRemovals){const n=mf(this.Se.N,iu.newNoDocument(i,wc.min()),this.getReadTime(i));e.push(this.Se.addEntry(t,i,n))}else e.push(this.Se.removeEntry(t,i))}),r.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),Yd.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function rp(t){return cf(t,jd.store)}function ip(t){return cf(t,Vd.store)}function sp(t){return t.path.toArray()}class op{constructor(t){this.N=t}Ct(t,e,n,r){rc(n<r&&n>=0&&r<=11);const i=new Jd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dd.store)}(t),function(t){t.createObjectStore(Pd.store,{keyPath:Pd.keyPath}),t.createObjectStore(Ld.store,{keyPath:Ld.keyPath,autoIncrement:!0}).createIndex(Ld.userMutationsIndex,Ld.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fd.store)}(t),ap(t),function(t){t.createObjectStore(Vd.store)}(t));let s=Yd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zd.store),t.deleteObjectStore(qd.store),t.deleteObjectStore(Bd.store)}(t),ap(t)),s=s.next(()=>function(t){const e=t.store(Bd.store),n=new Bd(0,0,wc.min().toTimestamp(),0);return e.put(Bd.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store(Ld.store).Lt().next(n=>{t.deleteObjectStore(Ld.store),t.createObjectStore(Ld.store,{keyPath:Ld.keyPath,autoIncrement:!0}).createIndex(Ld.userMutationsIndex,Ld.userMutationsKeyPath,{unique:!0});const r=e.store(Ld.store),i=n.map(t=>r.put(t));return Yd.waitFor(i)})}(t,i))),s=s.next(()=>{!function(t){t.createObjectStore($d.store,{keyPath:$d.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(t){t.createObjectStore(jd.store)}(t),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(t,i))),n<9&&r>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(Vd.store);e.createIndex(Vd.readTimeIndex,Vd.readTimeIndexPath,{unique:!1}),e.createIndex(Vd.collectionReadTimeIndex,Vd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(t){t.createObjectStore(Hd.store,{keyPath:Hd.keyPath})}(t),function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath})}(t)})),s}Ne(t){let e=0;return t.store(Vd.store).Kt((t,n)=>{e+=Pf(n)}).next(()=>{const n=new jd(e);return t.store(jd.store).put(jd.key,n)})}Ce(t){const e=t.store(Pd.store),n=t.store(Ld.store);return e.Lt().next(e=>Yd.forEach(e,e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(Ld.userMutationsIndex,r).next(n=>Yd.forEach(n,n=>{rc(n.userId===e.userId);const r=bf(this.N,n);return Df(t,e.userId,r).next(()=>{})}))}))}xe(t){const e=t.store(Zd.store),n=t.store(Vd.store);return t.store(Bd.store).get(Bd.key).next(t=>{const r=[];return n.Kt((n,i)=>{const s=new Cc(n),o=function(t){return[0,kd(t)]}(s);r.push(e.get(o).next(n=>n?Yd.resolve():(n=>e.put(new Zd(0,kd(n),t.highestListenSequenceNumber)))(s)))}).next(()=>Yd.waitFor(r))})}ke(t,e){t.createObjectStore(zd.store,{keyPath:zd.keyPath});const n=e.store(zd.store),r=new kf,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:kd(r)})}};return e.store(Vd.store).Kt({qt:!0},(t,e)=>{const n=new Cc(t);return i(n.popLast())}).next(()=>e.store(Fd.store).Kt({qt:!0},([t,e,n],r)=>{const s=Nd(e);return i(s.popLast())}))}$e(t){const e=t.store(qd.store);return e.Kt((t,n)=>{const r=wf(n),i=If(this.N,r);return e.put(i)})}}function ap(t){t.createObjectStore(Zd.store,{keyPath:Zd.keyPath}).createIndex(Zd.documentTargetsIndex,Zd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.queryTargetsIndexName,qd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bd.store)}const lp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cp{constructor(t,e,n,r,i,s,o,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!cp.bt())throw new oc(sc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yf(this,r),this.We=e+"main",this.N=new ff(a),this.Ge=new Xd(this.We,11,new op(this.N)),this.ze=new qf(this.referenceDelegate,this.N),this.Ht=new Af,this.He=function(t,e){return new ep(t,e)}(this.N,this.Ht),this.Je=new Tf,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Xl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oc(sc.FAILED_PRECONDITION,lp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new pc(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var n=(0,Pi.Z)(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,Pi.Z)(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,Pi.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>hp(t).put(new $d(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(nf(t))return Jl("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Jl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return up(t).get(Dd.key).next(t=>Yd.resolve(this.an(t)))}un(t){return hp(t).delete(this.clientId)}hn(){var t=this;return(0,Pi.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=cf(e,$d.store);return n.Lt().next(e=>{const r=t.fn(e,18e5),i=e.filter(t=>-1===r.indexOf(t));return Yd.forEach(i,t=>n.delete(t.clientId)).next(()=>i)})}).catch(()=>[]);if(t.Ye)for(const n of e)t.Ye.removeItem(t.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Yd.resolve(!0):up(t).get(Dd.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new oc(sc.FAILED_PRECONDITION,lp);return!1}}return!(!this.networkEnabled||!this.inForeground)||hp(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Jl("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return(0,Pi.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Dd.store,$d.store],e=>{const n=new lf(e,pc.T);return t.on(n).next(()=>t.un(n))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>hp(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return Lf.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let r;return Jl("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Kd,i=>(r=new lf(i,this.Le?this.Le.next():pc.T),"readwrite-primary"===e?this.sn(r).next(t=>!!t||this.rn(r)).next(e=>{if(!e)throw Xl(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new oc(sc.FAILED_PRECONDITION,Wd);return n(r)}).next(t=>this.cn(r).next(()=>t)):this.Tn(r).next(()=>n(r)))).then(t=>(r.raiseOnCommittedEvent(),t))}Tn(t){return up(t).get(Dd.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oc(sc.FAILED_PRECONDITION,lp)})}cn(t){const e=new Dd(this.clientId,this.allowTabSynchronization,Date.now());return up(t).put(Dd.key,e)}static bt(){return Xd.bt()}on(t){const e=up(t);return e.get(Dd.key).next(t=>this.an(t)?(Jl("IndexedDbPersistence","Releasing primary lease."),e.delete(Dd.key)):Yd.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(Xl(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ui.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Jl("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Xl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Ji){Xl("Failed to set zombie client id.",Ji)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Ji){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function up(t){return cf(t,Dd.store)}function hp(t){return cf(t,$d.store)}function dp(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class fp{constructor(t,e){this.progress=t,this.En=e}}class pp{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const r of e)r.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return function(t){return qc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):Ru(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new qc(e)).next(t=>{let e=Dh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const r=e.collectionGroup;let i=Dh();return this.Ht.getCollectionParents(t,r).next(s=>Yd.forEach(s,s=>{const o=function(t,e){return new Su(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}Dn(t,e,n){let r,i;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(i=e,this.Cn(t,i,r).next(t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=iu.newInvalidDocument(n),r=r.insert(n,i)),ch(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((t,n)=>{Vu(e,n)||(r=r.remove(t))}),r))}Cn(t,e,n){let r=Mh();for(const s of e)for(const t of s.mutations)t instanceof ph&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(t,r).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))}),i))}}class mp{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=Mh(),r=Mh();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new mp(t,e.fromCache,n,r)}}class gp{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(wc.min())?this.Fn(t,e):this.On.Pn(t,r).next(i=>{const s=this.Mn(e,i);return(ku(e)||Au(e))&&this.Ln(e.limitType,s,r,n)?this.Fn(t,e):(Ql()<=Mi.in.DEBUG&&Jl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Uu(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))})}Mn(t,e){let n=new kh(ju(t));return e.forEach((e,r)=>{Vu(t,r)&&(n=n.add(r))}),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return Ql()<=Mi.in.DEBUG&&Jl("QueryEngine","Using full collection scan to execute query:",Uu(e)),this.On.getDocumentsMatchingQuery(t,e,wc.min())}}class yp{constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new Sh(yc),this.qn=new Xf(t=>au(t),lu),this.Kn=wc.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new pp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function vp(t,e,n,r){return new yp(t,e,n,r)}function _p(t,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,Pi.Z)(function*(t,e){const n=ic(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,r=n.persistence.getMutationQueue(e),i=new pp(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let o=Mh();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function wp(t,e){const n=ic(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Yd.resolve();return s.forEach(t=>{o=o.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);rc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}function Ip(t){const e=ic(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Ep(t,e){const n=ic(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const l=e.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return rc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.ze.updateTargetData(t,c))}});let a=Nh();if(e.documentUpdates.forEach((r,i)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Tp(t,s,e.documentUpdates,r,void 0).next(t=>{a=t})),!r.isEqual(wc.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r));o.push(e)}return Yd.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=i,t))}function Tp(t,e,n,r,i){let s=Mh();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=Nh();return n.forEach((n,o)=>{const a=t.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(wc.min())?(e.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,l),s=s.insert(n,o)):Jl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Sp(t,e){const n=ic(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function Cp(t,e){const n=ic(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.ze.getTargetData(t,e).next(i=>i?(r=i,Yd.resolve(r)):n.ze.allocateTargetId(t).next(i=>(r=new df(e,i,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function xp(t,e,n){return kp.apply(this,arguments)}function kp(){return(kp=(0,Pi.Z)(function*(t,e,n){const r=ic(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!nf(t))throw t;Jl("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)})).apply(this,arguments)}function Ap(t,e,n){const r=ic(t);let i=wc.min(),s=Mh();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=ic(t),i=r.qn.get(n);return void 0!==i?Yd.resolve(r.Un.get(i)):r.ze.getTargetData(e,n)}(r,t,Pu(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.Bn.getDocumentsMatchingQuery(t,e,n?i:wc.min(),n?s:Mh())).next(t=>({documents:t,Gn:s})))}function Op(t,e){const n=ic(t),r=ic(n.ze),i=n.Un.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",t=>r.Tt(t,e).next(t=>t?t.target:null))}function Np(t){const e=ic(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const r=ic(t);let i=Nh(),s=gf(n);const o=ip(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Vd.readTimeIndex,range:a},(t,e)=>{const n=pf(r.N,e);i=i.insert(n.key,n),s=e.readTime}).next(()=>({En:i,readTime:yf(s)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:n})=>(e.Kn=n,t))}function Rp(){return(Rp=(0,Pi.Z)(function*(t){const e=ic(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=ip(t);let n=wc.min();return e.Kt({index:Vd.readTimeIndex,reverse:!0},(t,e,r)=>{e.readTime&&(n=yf(e.readTime)),r.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Dp(){return(Dp=(0,Pi.Z)(function*(t,e,n,r){const i=ic(t);let s=Mh(),o=Nh(),a=Lh();for(const u of n){const t=e.zn(u.metadata.name);u.document&&(s=s.add(t)),o=o.insert(t,e.Hn(u)),a=a.insert(t,e.Jn(u.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Cp(i,function(t){return Pu(xu(Cc.fromString(`__bundle__/docs/${t}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",t=>Tp(t,l,o,wc.min(),a).next(e=>(l.apply(t),e)).next(e=>i.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>i.ze.addMatchingKeys(t,s,c.targetId)).next(()=>i.Qn.vn(t,e)).next(()=>e)))})).apply(this,arguments)}function Pp(t,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,Pi.Z)(function*(t,e,n=Mh()){const r=yield Cp(t,Pu(Ef(e.bundledQuery))),i=ic(t);return i.persistence.runTransaction("Save named query","readwrite",t=>{const s=ed(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(t,e);const o=r.withResumeToken(Oc.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(t,o).next(()=>i.ze.removeMatchingKeysForTargetId(t,r.targetId)).next(()=>i.ze.addMatchingKeys(t,n,r.targetId)).next(()=>i.Je.saveNamedQuery(t,e))})})).apply(this,arguments)}class Fp{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Yd.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:ed(n.createTime)}),Yd.resolve()}getNamedQuery(t,e){return Yd.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:Ef(t.bundledQuery),readTime:ed(t.readTime)}}(e)),Yd.resolve()}}class Mp{constructor(){this.Zn=new kh(Up.ts),this.es=new kh(Up.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new Up(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new Up(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new qc(new Cc([])),n=new Up(e,t),r=new Up(e,t+1),i=[];return this.es.forEachInRange([n,r],t=>{this.rs(t),i.push(t.key)}),i}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new qc(new Cc([])),n=new Up(e,t),r=new Up(e,t+1);let i=Mh();return this.es.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new Up(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Up{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return qc.comparator(t.key,e.key)||yc(t.ls,e.ls)}static ns(t,e){return yc(t.ls,e.ls)||qc.comparator(t.key,e.key)}}class Vp{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new kh(Up.ts)}checkEmpty(t){return Yd.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++;const s=new uf(i,e,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Up(o.key,i)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return Yd.resolve(s)}lookupMutationBatch(t,e){return Yd.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),r=n<0?0:n;return Yd.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Yd.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Yd.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Up(e,0),r=new Up(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],t=>{const e=this.ws(t.ls);i.push(e)}),Yd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new kh(yc);return e.forEach(t=>{const e=new Up(t,0),r=new Up(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],t=>{n=n.add(t.ls)})}),Yd.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;qc.isDocumentKey(i)||(i=i.child(""));const s=new Up(new qc(i),0);let o=new kh(yc);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)},s),Yd.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){rc(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Yd.forEach(e.mutations,r=>{const i=new Up(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new Up(e,0),r=this.ds.firstAfterOrEqual(n);return Yd.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Yd.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class jp{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new Sh(qc.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Yd.resolve(n?n.document.clone():iu.newInvalidDocument(e))}getEntries(t,e){let n=Nh();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():iu.newInvalidDocument(t))}),Yd.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=Nh();const i=new qc(e.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||Vu(e,i)&&(r=r.insert(i.key,i.clone()))}return Yd.resolve(r)}Ts(t,e){return Yd.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new qp(this)}getSize(t){return Yd.resolve(this.size)}}class qp extends tp{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Yd.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class Zp{constructor(t){this.persistence=t,this.Es=new Xf(t=>au(t),lu),this.lastRemoteSnapshotVersion=wc.min(),this.highestTargetId=0,this.Is=0,this.As=new Mp,this.targetCount=0,this.Rs=jf.se()}forEachTarget(t,e){return this.Es.forEach((t,n)=>e(n)),Yd.resolve()}getLastRemoteSnapshotVersion(t){return Yd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yd.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Yd.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Yd.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new jf(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Yd.resolve()}updateTargetData(t,e){return this.ce(e),Yd.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Yd.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),Yd.waitFor(i).next(()=>r)}getTargetCount(t){return Yd.resolve(this.targetCount)}getTargetData(t,e){const n=this.Es.get(e)||null;return Yd.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Yd.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Yd.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Yd.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Yd.resolve(n)}containsKey(t,e){return Yd.resolve(this.As.containsKey(e))}}class Bp{constructor(t,e){this.bs={},this.Le=new pc(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new Zp(this),this.Ht=new xf,this.He=function(t,e){return new jp(t,e)}(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new ff(e),this.Je=new Fp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Vp(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){Jl("MemoryPersistence","Starting transaction:",t);const r=new zp(this.Le.next());return this.referenceDelegate.vs(),n(r).next(t=>this.referenceDelegate.Vs(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Ss(t,e){return Yd.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class zp extends Qd{constructor(t){super(),this.currentSequenceNumber=t}}class $p{constructor(t){this.persistence=t,this.Ds=new Mp,this.Cs=null}static Ns(t){return new $p(t)}get xs(){if(this.Cs)return this.Cs;throw nc()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Yd.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Yd.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Yd.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yd.forEach(this.xs,n=>{const r=qc.fromPath(n);return this.ks(t,r).next(t=>{t||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Yd.or([()=>Yd.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function Hp(t,e){return`firestore_clients_${t}_${e}`}function Gp(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Kp(t,e){return`firestore_targets_${t}_${e}`}class Wp{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static $s(t,e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new oc(r.error.code,r.error.message))),s?new Wp(t,e,r.state,i):(Xl("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Qp{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new oc(n.error.code,n.error.message))),i?new Qp(t,n.state,r):(Xl("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Yp{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Vh();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=jc(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Yp(t,i):(Xl("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Jp{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Jp(e.clientId,e.onlineState):(Xl("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Xp{constructor(){this.activeTargetIds=Vh()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tm{constructor(t,e,n,r,i){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Sh(yc),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Hp(this.persistenceKey,this.Ls),this.Qs=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Xp),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Pi.Z)(function*(){const e=yield t.syncEngine.pn();for(const r of e){if(r===t.Ls)continue;const e=t.getItem(Hp(t.persistenceKey,r));if(e){const n=Yp.$s(r,e);n&&(t.qs=t.qs.insert(n.clientId,n))}}t.Ys();const n=t.storage.getItem(t.Hs);if(n){const e=t.Xs(n);e&&t.Zs(e)}for(const r of t.Ks)t.Us(r);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Kp(this.persistenceKey,t));if(n){const r=Qp.$s(t,n);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Kp(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Jl("SharedClientState","READ",t,e),e}setItem(t,e){Jl("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Jl("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const n=t;if(n.storageArea===this.storage){if(Jl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Xl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Pi.Z)(function*(){if(e.started){if(null!==n.key)if(e.Ws.test(n.key)){if(null==n.newValue){const t=e.ci(n.key);return e.ai(t,null)}{const t=e.ui(n.key,n.newValue);if(t)return e.ai(t.clientId,t)}}else if(e.Gs.test(n.key)){if(null!==n.newValue){const t=e.hi(n.key,n.newValue);if(t)return e.li(t)}}else if(e.zs.test(n.key)){if(null!==n.newValue){const t=e.fi(n.key,n.newValue);if(t)return e.di(t)}}else if(n.key===e.Hs){if(null!==n.newValue){const t=e.Xs(n.newValue);if(t)return e.Zs(t)}}else if(n.key===e.Qs){const t=function(t){let e=pc.T;if(null!=t)try{const n=JSON.parse(t);rc("number"==typeof n),e=n}catch(t){Xl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue);t!==pc.T&&e.sequenceNumberHandler(t)}else if(n.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const r=new Wp(this.currentUser,t,e,n),i=Gp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Os())}ni(t){const e=Gp(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const r=Kp(this.persistenceKey,t),i=new Qp(t,e,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ci(t);return Yp.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),r=Number(n[1]);return Wp.$s(new Gl(void 0!==n[2]?n[2]:null),r,e)}fi(t,e){const n=this.zs.exec(t),r=Number(n[1]);return Qp.$s(r,e)}Xs(t){return Jp.$s(t)}li(t){var e=this;return(0,Pi.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Jl("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(t=>{r.has(t)||s.push(t)}),r.forEach(t=>{i.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=Vh();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class em{constructor(){this.yi=new Xp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new Xp,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class nm{Ti(t){}shutdown(){}}class rm{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Jl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Jl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const im={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sm{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class om extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);Jl("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(t,i,s,n).then(t=>(Jl("RestConnection","Received: ",t),t),e=>{throw tc("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e})}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Kl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${im[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise((i,s)=>{const o=new $l;o.listenOnce(jl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Vl.NO_ERROR:const e=o.getResponseJson();Jl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Vl.TIMEOUT:Jl("Connection",'RPC "'+t+'" timed out'),s(new oc(sc.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const n=o.getStatus();if(Jl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(sc).indexOf(e)>=0?e:sc.UNKNOWN}(t.status);s(new oc(e,t.message))}else s(new oc(sc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new oc(sc.UNAVAILABLE,"Connection failed."));break;default:nc()}}finally{Jl("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(r);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Ml(),i=Ul(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Bl({})),this.Ui(s.initMessageHeaders,e),(0,Ui.uI)()||(0,Ui.b$)()||(0,Ui.d)()||(0,Ui.w1)()||(0,Ui.Mn)()||(0,Ui.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Jl("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,c=!1;const u=new sm({vi:t=>{c?Jl("Connection","Not sending because WebChannel is closed:",t):(l||(Jl("Connection","Opening WebChannel transport."),a.open(),l=!0),Jl("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),h=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,zl.EventType.OPEN,()=>{c||Jl("Connection","WebChannel transport opened.")}),h(a,zl.EventType.CLOSE,()=>{c||(c=!0,Jl("Connection","WebChannel transport closed"),u.$i())}),h(a,zl.EventType.ERROR,t=>{c||(c=!0,tc("Connection","WebChannel transport errored:",t),u.$i(new oc(sc.UNAVAILABLE,"The operation could not be completed")))}),h(a,zl.EventType.MESSAGE,t=>{var e;if(!c){const n=t.data[0];rc(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Jl("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=wh[t];if(void 0!==e)return Th(e)}(t),n=i.message;void 0===e&&(e=sc.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),c=!0,u.$i(new oc(e,n)),a.close()}else Jl("Connection","WebChannel received:",n),u.Oi(n)}}),h(i,ql.STAT_EVENT,t=>{t.stat===Zl.PROXY?Jl("Connection","Detected buffering proxy"):t.stat===Zl.NOPROXY&&Jl("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function am(){return"undefined"!=typeof window?window:null}function lm(){return"undefined"!=typeof document?document:null}function cm(t){return new Yh(t,!0)}class um{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&Jl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class hm{constructor(t,e,n,r,i,s,o){this.Oe=t,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new um(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,Pi.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,Pi.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var n=this;return(0,Pi.Z)(function*(){n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==t?n.ar.reset():e&&e.code===sc.RESOURCE_EXHAUSTED?(Xl(e.toString()),Xl("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):e&&e.code===sc.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(t=>{this.ir===e&&this.Er(t)},e=>{t(()=>{const t=new oc(sc.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ir(t)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.Ir(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}lr(){var t=this;this.state=5,this.ar.Xi((0,Pi.Z)(function*(){t.state=0,t.start()}))}Ir(t){return Jl("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Jl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dm extends hm{constructor(t,e,n,r,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i),this.N=r}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(t,e){let n;if("targetChange"in e){const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:nc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.D?(rc(void 0===e||"string"==typeof e),Oc.fromBase64String(e||"")):(rc(void 0===e||e instanceof Uint8Array),Oc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?sc.UNKNOWN:Th(t.code);return new oc(e,t.message||"")}(o);n=new zh(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=sd(t,r.document.name),s=ed(r.document.updateTime),o=new nu({mapValue:{fields:r.document.fields}}),a=iu.newFoundDocument(i,s,o);n=new Zh(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=sd(t,r.document),s=r.readTime?ed(r.readTime):wc.min(),o=iu.newNoDocument(i,s);n=new Zh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=sd(t,r.document);n=new Zh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nc();{const t=e.filter,r=new bh(t.count||0);n=new Bh(t.targetId,r)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return wc.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?wc.min():e.readTime?ed(e.readTime):wc.min()}(t);return this.listener.Rr(e,n)}br(t){const e={};e.database=ld(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=cu(r)?{documents:pd(t,r)}:{query:md(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Xh(t,e.resumeToken):e.snapshotVersion.compareTo(wc.min())>0&&(n.readTime=Jh(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.mr(e)}Pr(t){const e={};e.database=ld(this.N),e.removeTarget=t,this.mr(e)}}class fm extends hm{constructor(t,e,n,r,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(rc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(t,e){return t&&t.length>0?(rc(void 0!==e),t.map(t=>function(t,e){let n=ed(t.updateTime?t.updateTime:e);return n.isEqual(wc.min())&&(n=ed(e)),new ih(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=ed(t.commitTime);return this.listener.Dr(n,e)}return rc(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=ld(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>dd(this.N,t))};this.mr(e)}}class pm extends class{}{constructor(t,e,n){super(),this.credentials=t,this.sr=e,this.N=n,this.kr=!1}$r(){if(this.kr)throw new oc(sc.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===sc.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new oc(sc.UNKNOWN,t.toString())})}Ki(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===sc.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new oc(sc.UNKNOWN,t.toString())})}terminate(){this.kr=!0}}class mm{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Xl(e),this.Mr=!1):Jl("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class gm{constructor(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(t=>{n.enqueueAndForget((0,Pi.Z)(function*(){var t;xm(s)&&(Jl("RemoteStore","Restarting streams for network reachability change."),yield(t=(0,Pi.Z)(function*(t){const e=ic(t);e.Wr.add(4),yield _m(e),e.Hr.set("Unknown"),e.Wr.delete(4),yield ym(e)}),function(e){return t.apply(this,arguments)})(s))}))}),this.Hr=new mm(n,r)}}function ym(t){return vm.apply(this,arguments)}function vm(){return(vm=(0,Pi.Z)(function*(t){if(xm(t))for(const e of t.Gr)yield e(!0)})).apply(this,arguments)}function _m(t){return bm.apply(this,arguments)}function bm(){return(bm=(0,Pi.Z)(function*(t){for(const e of t.Gr)yield e(!1)})).apply(this,arguments)}function wm(t,e){const n=ic(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),Cm(n)?Sm(n):tg(n).hr()&&Em(n,e))}function Im(t,e){const n=ic(t),r=tg(n);n.Qr.delete(e),r.hr()&&Tm(n,e),0===n.Qr.size&&(r.hr()?r.wr():xm(n)&&n.Hr.set("Unknown"))}function Em(t,e){t.Jr.Y(e.targetId),tg(t).br(e)}function Tm(t,e){t.Jr.Y(e),tg(t).Pr(e)}function Sm(t){t.Jr=new Hh({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),tg(t).start(),t.Hr.Lr()}function Cm(t){return xm(t)&&!tg(t).ur()&&t.Qr.size>0}function xm(t){return 0===ic(t).Wr.size}function km(t){t.Jr=void 0}function Am(t){return Om.apply(this,arguments)}function Om(){return(Om=(0,Pi.Z)(function*(t){t.Qr.forEach((e,n)=>{Em(t,e)})})).apply(this,arguments)}function Nm(t,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Pi.Z)(function*(t,e){km(t),Cm(t)?(t.Hr.qr(e),Sm(t)):t.Hr.set("Unknown")})).apply(this,arguments)}function Dm(t,e,n){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Pi.Z)(function*(t,e,n){if(t.Hr.set("Online"),e instanceof zh&&2===e.state&&e.cause)try{yield(r=(0,Pi.Z)(function*(t,e){const n=e.cause;for(const r of e.targetIds)t.Qr.has(r)&&(yield t.remoteSyncer.rejectListen(r,n),t.Qr.delete(r),t.Jr.removeTarget(r))}),function(t,e){return r.apply(this,arguments)})(t,e)}catch(n){Jl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield Lm(t,n)}else if(e instanceof Zh?t.Jr.rt(e):e instanceof Bh?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(wc.min()))try{const e=yield Ip(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.Jr._t(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Qr.get(r);i&&t.Qr.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.Qr.get(e);if(!n)return;t.Qr.set(e,n.withResumeToken(Oc.EMPTY_BYTE_STRING,n.snapshotVersion)),Tm(t,e);const r=new df(n.target,e,1,n.sequenceNumber);Em(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(e){Jl("RemoteStore","Failed to raise snapshot:",e),yield Lm(t,e)}var r})).apply(this,arguments)}function Lm(t,e,n){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Pi.Z)(function*(t,e,n){if(!nf(e))throw e;t.Wr.add(1),yield _m(t),t.Hr.set("Offline"),n||(n=()=>Ip(t.localStore)),t.asyncQueue.enqueueRetryable((0,Pi.Z)(function*(){Jl("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield ym(t)}))})).apply(this,arguments)}function Mm(t,e){return e().catch(n=>Lm(t,n,e))}function Um(t){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,Pi.Z)(function*(t){const e=ic(t),n=eg(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;jm(e);)try{const t=yield Sp(e.localStore,r);if(null===t){0===e.jr.length&&n.wr();break}r=t.batchId,qm(e,t)}catch(t){yield Lm(e,t)}Zm(e)&&Bm(e)})).apply(this,arguments)}function jm(t){return xm(t)&&t.jr.length<10}function qm(t,e){t.jr.push(e);const n=eg(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function Zm(t){return xm(t)&&!eg(t).ur()&&t.jr.length>0}function Bm(t){eg(t).start()}function zm(t){return $m.apply(this,arguments)}function $m(){return($m=(0,Pi.Z)(function*(t){eg(t).Nr()})).apply(this,arguments)}function Hm(t){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Pi.Z)(function*(t){const e=eg(t);for(const n of t.jr)e.Sr(n.mutations)})).apply(this,arguments)}function Km(t,e,n){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Pi.Z)(function*(t,e,n){const r=t.jr.shift(),i=hf.from(r,e,n);yield Mm(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Um(t)})).apply(this,arguments)}function Qm(t,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,Pi.Z)(function*(t,e){var n;e&&eg(t).Vr&&(yield(n=(0,Pi.Z)(function*(t,e){if(Eh(n=e.code)&&n!==sc.ABORTED){const n=t.jr.shift();eg(t).dr(),yield Mm(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield Um(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),Zm(t)&&Bm(t)})).apply(this,arguments)}function Jm(t,e){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,Pi.Z)(function*(t,e){const n=ic(t);e?(n.Wr.delete(2),yield ym(n)):e||(n.Wr.add(2),yield _m(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function tg(t){return t.Yr||(t.Yr=function(t,e,n){const r=ic(t);return r.$r(),new dm(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Am.bind(null,t),Ci:Nm.bind(null,t),Rr:Dm.bind(null,t)}),t.Gr.push(function(){var e=(0,Pi.Z)(function*(e){e?(t.Yr.dr(),Cm(t)?Sm(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),km(t))});return function(t){return e.apply(this,arguments)}}())),t.Yr}function eg(t){return t.Xr||(t.Xr=function(t,e,n){const r=ic(t);return r.$r(),new fm(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:zm.bind(null,t),Ci:Qm.bind(null,t),Cr:Hm.bind(null,t),Dr:Km.bind(null,t)}),t.Gr.push(function(){var e=(0,Pi.Z)(function*(e){e?(t.Xr.dr(),yield Um(t)):(yield t.Xr.stop(),t.jr.length>0&&(Jl("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))});return function(t){return e.apply(this,arguments)}}())),t.Xr}class ng{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new ng(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oc(sc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(t,e){if(Xl("AsyncQueue",`${e}: ${t}`),nf(t))return new oc(sc.UNAVAILABLE,`${e}: ${t}`);throw t}class ig{constructor(t){this.comparator=t?(e,n)=>t(e,n)||qc.comparator(e.key,n.key):(t,e)=>qc.comparator(t.key,e.key),this.keyedMap=Dh(),this.sortedSet=new Sh(this.comparator)}static emptySet(t){return new ig(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ig))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new ig;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class sg{constructor(){this.Zr=new Sh(qc.comparator)}track(t){const e=t.doc.key,n=this.Zr.get(e);n?0!==t.type&&3===n.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==n.type?this.Zr=this.Zr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Zr=this.Zr.remove(e):1===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):nc():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,n)=>{t.push(n)}),t}}class og{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new og(t,e,ig.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class ag{constructor(){this.no=void 0,this.listeners=[]}}class lg{constructor(){this.queries=new Xf(t=>Mu(t),Fu),this.onlineState="Unknown",this.so=new Set}}function cg(t,e){return ug.apply(this,arguments)}function ug(){return(ug=(0,Pi.Z)(function*(t,e){const n=ic(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ag),i)try{s.no=yield n.onListen(r)}catch(t){const n=rg(t,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&mg(n)})).apply(this,arguments)}function hg(t,e){return dg.apply(this,arguments)}function dg(){return(dg=(0,Pi.Z)(function*(t,e){const n=ic(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function fg(t,e){const n=ic(t);let r=!1;for(const i of e){const t=n.queries.get(i.query);if(t){for(const e of t.listeners)e.ro(i)&&(r=!0);t.no=i}}r&&mg(n)}function pg(t,e,n){const r=ic(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function mg(t){t.so.forEach(t=>{t.next()})}class gg{constructor(t,e,n){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new og(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=og.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class yg{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class vg{constructor(t){this.N=t}zn(t){return sd(this.N,t)}Hn(t){return t.metadata.exists?hd(this.N,t.document,!1):iu.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return ed(t)}}class _g{constructor(t,e,n){this._o=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=bg(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,n=new vg(this.N);for(const r of t)if(r.metadata.queries){const t=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||Mh()).add(t);e.set(n,r)}}return e}complete(){var t=this;return(0,Pi.Z)(function*(){const e=yield function(t,e,n,r){return Dp.apply(this,arguments)}(t.localStore,new vg(t.N),t.documents,t._o.id),n=t.yo(t.documents);for(const r of t.queries)yield Pp(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",new fp(Object.assign({},t.progress),e)})()}}function bg(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class wg{constructor(t){this.key=t}}class Ig{constructor(t){this.key=t}}class Eg{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=Mh(),this.mutatedKeys=Mh(),this.Io=ju(t),this.Ao=new ig(this.Io)}get Ro(){return this.po}bo(t,e){const n=e?e.Po:new sg,r=e?e.Ao:this.Ao;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=ku(this.query)&&r.size===this.query.limit?r.last():null,l=Au(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),u=Vu(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.vo(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Io(u,a)>0||l&&this.Io(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),ku(this.query)||Au(this.query))for(;s.size>this.query.limit;){const t=ku(this.query)?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const i=t.Po.eo();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nc()}};return n(t)-n(e)}(t.type,e.type)||this.Io(t.doc,e.doc)),this.Vo(n);const s=e?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new og(this.query,t.Ao,r,i,t.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new sg,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(t=>this.po=this.po.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=Mh(),this.Ao.forEach(t=>{this.Co(t.key)&&(this.Eo=this.Eo.add(t.key))});const e=[];return t.forEach(t=>{this.Eo.has(t)||e.push(new Ig(t))}),this.Eo.forEach(n=>{t.has(n)||e.push(new wg(n))}),e}No(t){this.po=t.Gn,this.Eo=Mh();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return og.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Tg{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Sg{constructor(t){this.key=t,this.ko=!1}}class Cg{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new Xf(t=>Mu(t),Fu),this.Fo=new Map,this.Mo=new Set,this.Lo=new Sh(qc.comparator),this.Bo=new Map,this.Uo=new Mp,this.qo={},this.Ko=new Map,this.jo=jf.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function xg(t,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,Pi.Z)(function*(t,e){const n=yy(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const t=yield Cp(n.localStore,Pu(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=yield Ag(n,e,r,"current"===s),n.isPrimaryClient&&wm(n.remoteStore,t)}return i})).apply(this,arguments)}function Ag(t,e,n,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,Pi.Z)(function*(t,e,n,r){t.Wo=(e,n,r)=>{return(i=(0,Pi.Z)(function*(t,e,n,r){let i=e.view.bo(n);i.Ln&&(i=yield Ap(t.localStore,e.query,!1).then(({documents:t})=>e.view.bo(t,i)));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return Kg(t,e.targetId,o.Do),o.snapshot}),function(t,e,n,r){return i.apply(this,arguments)})(t,e,n,r);var i};const i=yield Ap(t.localStore,e,!0),s=new Eg(e,i.Gn),o=s.bo(i.documents),a=qh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);Kg(t,n,l.Do);const c=new Tg(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),l.snapshot})).apply(this,arguments)}function Ng(t,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,Pi.Z)(function*(t,e){const n=ic(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(t=>!Fu(t,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Im(n.remoteStore,r.targetId),Hg(n,r.targetId)}).catch($f))):(Hg(n,r.targetId),yield xp(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Dg(){return(Dg=(0,Pi.Z)(function*(t,e,n){const r=vy(t);try{const t=yield function(t,e){const n=ic(t),r=bc.now(),i=e.reduce((t,e)=>t.add(e.key),Mh());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,i).next(i=>{s=i;const o=[];for(const t of e){const e=uh(t,s.get(t.key));null!=e&&o.push(new ph(t.key,e,ru(e.value.mapValue),sh.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qo[t.currentUser.toKey()];r||(r=new Sh(yc)),r=r.insert(e,n),t.qo[t.currentUser.toKey()]=r}(r,t.batchId,n),yield Yg(r,t.changes),yield Um(r.remoteStore)}catch(t){const e=rg(t,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function Pg(t,e){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Pi.Z)(function*(t,e){const n=ic(t);try{const t=yield Ep(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Bo.get(e);r&&(rc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.ko=!0:t.modifiedDocuments.size>0?rc(r.ko):t.removedDocuments.size>0&&(rc(r.ko),r.ko=!1))}),yield Yg(n,t,e)}catch(t){yield $f(t)}})).apply(this,arguments)}function Fg(t,e,n){const r=ic(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Oo.forEach((n,r)=>{const i=r.view.io(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=ic(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.listeners)i.io(e)&&(r=!0)}),r&&mg(n)}(r.eventManager,e),t.length&&r.$o.Rr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mg(t,e,n){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,Pi.Z)(function*(t,e,n){const r=ic(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let t=new Sh(qc.comparator);t=t.insert(s,iu.newNoDocument(s,wc.min()));const n=Mh().add(s),i=new jh(wc.min(),new Map,new kh(yc),t,n);yield Pg(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(e),Qg(r)}else yield xp(r.localStore,e,!1).then(()=>Hg(r,e,n)).catch($f)})).apply(this,arguments)}function Vg(t,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,Pi.Z)(function*(t,e){const n=ic(t),r=e.batch.batchId;try{const t=yield wp(n.localStore,e);$g(n,r,null),zg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yg(n,t)}catch(t){yield $f(t)}})).apply(this,arguments)}function qg(t,e,n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Pi.Z)(function*(t,e,n){const r=ic(t);try{const t=yield function(t,e){const n=ic(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.In.lookupMutationBatch(t,e).next(e=>(rc(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}(r.localStore,e);$g(r,e,n),zg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yg(r,t)}catch(n){yield $f(n)}})).apply(this,arguments)}function Bg(){return(Bg=(0,Pi.Z)(function*(t,e){const n=ic(t);xm(n.remoteStore)||Jl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=ic(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Ko.get(t)||[];r.push(e),n.Ko.set(t,r)}catch(t){const n=rg(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}})).apply(this,arguments)}function zg(t,e){(t.Ko.get(e)||[]).forEach(t=>{t.resolve()}),t.Ko.delete(e)}function $g(t,e,n){const r=ic(t);let i=r.qo[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function Hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(e=>{t.Uo.containsKey(e)||Gg(t,e)})}function Gg(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(Im(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),Qg(t))}function Kg(t,e,n){for(const r of n)r instanceof wg?(t.Uo.addReference(r.key,e),Wg(t,r)):r instanceof Ig?(Jl("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||Gg(t,r.key)):nc()}function Wg(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(Jl("SyncEngine","New document in limbo: "+n),t.Mo.add(r),Qg(t))}function Qg(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new qc(Cc.fromString(e)),r=t.jo.next();t.Bo.set(r,new Sg(n)),t.Lo=t.Lo.insert(n,r),wm(t.remoteStore,new df(Pu(xu(n.path)),r,2,pc.T))}}function Yg(t,e,n){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,Pi.Z)(function*(t,e,n){const r=ic(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((t,a)=>{o.push(r.Wo(a,e,n).then(t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=mp.kn(a.targetId,t);s.push(e)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=(0,Pi.Z)(function*(t,e){const n=ic(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Yd.forEach(e,e=>Yd.forEach(e.Nn,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Yd.forEach(e.xn,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(t){if(!nf(t))throw t;Jl("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Un.get(t),r=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,r)}}}),function(t,e){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Xg(t,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,Pi.Z)(function*(t,e){const n=ic(t);if(!n.currentUser.isEqual(e)){Jl("SyncEngine","User change. New user:",e.toKey());const t=yield _p(n.localStore,e);n.currentUser=e,function(t,e){t.Ko.forEach(t=>{t.forEach(t=>{t.reject(new oc(sc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ko.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Yg(n,t.Wn)}})).apply(this,arguments)}function ey(t,e){const n=ic(t),r=n.Bo.get(e);if(r&&r.ko)return Mh().add(r.key);{let t=Mh();const r=n.Fo.get(e);if(!r)return t;for(const e of r){const r=n.Oo.get(e);t=t.unionWith(r.view.Ro)}return t}}function ny(t,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,Pi.Z)(function*(t,e){const n=ic(t),r=yield Ap(n.localStore,e.query,!0),i=e.view.No(r);return n.isPrimaryClient&&Kg(n,e.targetId,i.Do),i})).apply(this,arguments)}function iy(t){return sy.apply(this,arguments)}function sy(){return(sy=(0,Pi.Z)(function*(t){const e=ic(t);return Np(e.localStore).then(t=>Yg(e,t))})).apply(this,arguments)}function oy(t,e,n,r){return ay.apply(this,arguments)}function ay(){return(ay=(0,Pi.Z)(function*(t,e,n,r){const i=ic(t),s=yield function(t,e){const n=ic(t),r=ic(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>r.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):Yd.resolve(null)))}(i.localStore,e);null!==s?("pending"===n?yield Um(i.remoteStore):"acknowledged"===n||"rejected"===n?($g(i,e,r||null),zg(i,e),function(t,e){ic(ic(t).In).te(e)}(i.localStore,e)):nc(),yield Yg(i,s)):Jl("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ly(){return(ly=(0,Pi.Z)(function*(t,e){const n=ic(t);if(yy(n),vy(n),!0===e&&!0!==n.Qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield cy(n,t.toArray());n.Qo=!0,yield Jm(n.remoteStore,!0);for(const r of e)wm(n.remoteStore,r)}else if(!1===e&&!1!==n.Qo){const t=[];let e=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then(()=>(Hg(n,i),xp(n.localStore,i,!0))),Im(n.remoteStore,i)}),yield e,yield cy(n,t),function(t){const e=ic(t);e.Bo.forEach((t,n)=>{Im(e.remoteStore,n)}),e.Uo.us(),e.Bo=new Map,e.Lo=new Sh(qc.comparator)}(n),n.Qo=!1,yield Jm(n.remoteStore,!1)}})).apply(this,arguments)}function cy(t,e,n){return uy.apply(this,arguments)}function uy(){return(uy=(0,Pi.Z)(function*(t,e,n){const r=ic(t),i=[],s=[];for(const o of e){let t;const e=r.Fo.get(o);if(e&&0!==e.length){t=yield Cp(r.localStore,Pu(e[0]));for(const t of e){const e=r.Oo.get(t),n=yield ny(r,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield Op(r.localStore,o);t=yield Cp(r.localStore,e),yield Ag(r,hy(e),o,!1)}i.push(t)}return r.$o.Rr(s),i})).apply(this,arguments)}function hy(t){return Cu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function dy(t){const e=ic(t);return ic(ic(e.localStore).persistence).pn()}function fy(t,e,n,r){return py.apply(this,arguments)}function py(){return(py=(0,Pi.Z)(function*(t,e,n,r){const i=ic(t);if(i.Qo)Jl("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(n){case"current":case"not-current":{const t=yield Np(i.localStore),r=jh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Yg(i,t,r);break}case"rejected":yield xp(i.localStore,e,!0),Hg(i,e,r);break;default:nc()}})).apply(this,arguments)}function my(t,e,n){return gy.apply(this,arguments)}function gy(){return(gy=(0,Pi.Z)(function*(t,e,n){const r=yy(t);if(r.Qo){for(const t of e){if(r.Fo.has(t)){Jl("SyncEngine","Adding an already active target "+t);continue}const e=yield Op(r.localStore,t),n=yield Cp(r.localStore,e);yield Ag(r,hy(e),n.targetId,!1),wm(r.remoteStore,n)}for(const t of n)r.Fo.has(t)&&(yield xp(r.localStore,t,!1).then(()=>{Im(r.remoteStore,t),Hg(r,t)}).catch($f))}})).apply(this,arguments)}function yy(t){const e=ic(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mg.bind(null,e),e.$o.Rr=fg.bind(null,e.eventManager),e.$o.Go=pg.bind(null,e.eventManager),e}function vy(t){const e=ic(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qg.bind(null,e),e}class _y{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Pi.Z)(function*(){e.N=cm(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return vp(this.persistence,new gp,t.initialUser,this.N)}Jo(t){return new Bp($p.Ns,this.N)}Ho(t){return new em}terminate(){var t=this;return(0,Pi.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class by extends _y{constructor(t,e,n){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,Pi.Z)(function*(){yield e().call(n,t),yield function(t){return Rp.apply(this,arguments)}(n.localStore),yield n.Zo.initialize(n,t),yield vy(n.Zo.syncEngine),yield Um(n.Zo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Xo(t){return vp(this.persistence,new gp,t.initialUser,this.N)}Yo(t){return new Wf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=dp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rf.withCacheSize(this.cacheSizeBytes):Rf.DEFAULT;return new cp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,am(),lm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new em}}class wy extends by{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,Pi.Z)(function*(){yield e().call(n,t);const r=n.Zo.syncEngine;n.sharedClientState instanceof tm&&(n.sharedClientState.syncEngine={_i:oy.bind(null,r),mi:fy.bind(null,r),gi:my.bind(null,r),pn:dy.bind(null,r),wi:iy.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var t=(0,Pi.Z)(function*(t){yield function(t,e){return ly.apply(this,arguments)}(n.Zo.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):t||n.gcScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}Ho(t){const e=am();if(!tm.bt(e))throw new oc(sc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=dp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new tm(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Iy{initialize(t,e){var n=this;return(0,Pi.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>Fg(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=Xg.bind(null,n.syncEngine),yield Jm(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new lg}createDatastore(t){const e=cm(t.databaseInfo.databaseId),n=new om(t.databaseInfo);return function(t,e,n){return new pm(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>Fg(this.syncEngine,t,0),s=rm.bt()?new rm:new nm,new gm(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Cg(t,e,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Pi.Z)(function*(t){const e=ic(t);Jl("RemoteStore","RemoteStore shutting down."),e.Wr.add(5),yield _m(e),e.zr.shutdown(),e.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Ey(t,e=10240){let n=0;return{read:()=>(0,Pi.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Pi.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ty{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Sy{constructor(t,e){this.nc=t,this.N=e,this.metadata=new ac,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(t=>{t&&t.wo()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,Pi.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,Pi.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,Pi.Z)(function*(){const e=yield t.rc();if(null===e)return null;const n=t.sc.decode(e),r=Number(n);isNaN(r)&&t.oc(`length string (${n}) is not valid number`);const i=yield t.cc(r);return new yg(JSON.parse(i),e.length+r)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,Pi.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}cc(t){var e=this;return(0,Pi.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const n=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,Pi.Z)(function*(){const e=yield t.nc.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class Cy{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Pi.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new oc(sc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Pi.Z)(function*(t,e){const n=ic(t),r=ld(n.N)+"/documents",i={documents:e.map(t=>id(n.N,t))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){rc(!!e.found);const n=sd(t,e.found.name),r=ed(e.found.updateTime),i=new nu({mapValue:{fields:e.found.fields}});return iu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){rc(!!e.missing),rc(!!e.readTime);const n=sd(t,e.missing),r=ed(e.readTime);return iu.newNoDocument(n,r)}(t,e):nc()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());rc(!!e),a.push(e)}),a}),function(t,e){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new vh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Pi.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const r=qc.fromPath(n);t.mutations.push(new _h(r,t.precondition(r)))}),yield(n=(0,Pi.Z)(function*(t,e){const n=ic(t),r=ld(n.N)+"/documents",i={writes:e.map(t=>dd(n.N,t))};yield n.Li("Commit",r,i)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw nc();e=wc.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new oc(sc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?sh.updateTime(e):sh.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(wc.min()))throw new oc(sc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sh.updateTime(e)}return sh.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class xy{constructor(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new um(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,Pi.Z)(function*(){const e=new Cy(t.datastore),n=t.fc(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.dc(e)}))}).catch(e=>{t.dc(e)})}))}fc(t){try{const e=this.updateFunction(t);return!Uc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Eh(e)}return!1}}class ky{constructor(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Gl.UNAUTHENTICATED,this.clientId=gc.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var t=(0,Pi.Z)(function*(t){Jl("FirestoreClient","Received user=",t.uid),yield r.credentialListener(t),r.user=t});return function(e){return t.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,Pi.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oc(sc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pi.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(n){const t=rg(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function Ay(t,e){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,Pi.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Jl("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var t=(0,Pi.Z)(function*(t){r.isEqual(t)||(yield _p(e.localStore,t),r=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function Ny(t,e){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,Pi.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Dy(t);Jl("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(t=>{return(n=(0,Pi.Z)(function*(t,e){const n=ic(t);n.asyncQueue.verifyOperationInProgress(),Jl("RemoteStore","RemoteStore received new credentials");const r=xm(n);n.Wr.add(3),yield _m(n),r&&n.Hr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Wr.delete(3),yield ym(n)}),function(t,e){return n.apply(this,arguments)})(e.remoteStore,t);var n}),t.onlineComponents=e})).apply(this,arguments)}function Dy(t){return Py.apply(this,arguments)}function Py(){return(Py=(0,Pi.Z)(function*(t){return t.offlineComponents||(Jl("FirestoreClient","Using default OfflineComponentProvider"),yield Ay(t,new _y)),t.offlineComponents})).apply(this,arguments)}function Ly(t){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,Pi.Z)(function*(t){return t.onlineComponents||(Jl("FirestoreClient","Using default OnlineComponentProvider"),yield Ny(t,new Iy)),t.onlineComponents})).apply(this,arguments)}function My(t){return Dy(t).then(t=>t.persistence)}function Uy(t){return Dy(t).then(t=>t.localStore)}function Vy(t){return Ly(t).then(t=>t.remoteStore)}function jy(t){return Ly(t).then(t=>t.syncEngine)}function qy(t){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,Pi.Z)(function*(t){const e=yield Ly(t),n=e.eventManager;return n.onListen=xg.bind(null,e.syncEngine),n.onUnlisten=Ng.bind(null,e.syncEngine),n})).apply(this,arguments)}function By(t,e,n={}){const r=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e,n,r,i){const s=new Ty({next:s=>{e.enqueueAndForget(()=>hg(t,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new oc(sc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new oc(sc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new gg(xu(n.path),s,{includeMetadataChanges:!0,fo:!0});return cg(t,o)}(yield qy(t),t.asyncQueue,e,n,r)})),r.promise}function zy(t,e,n={}){const r=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e,n,r,i){const s=new Ty({next:n=>{e.enqueueAndForget(()=>hg(t,o)),n.fromCache&&"server"===r.source?i.reject(new oc(sc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new gg(n,s,{includeMetadataChanges:!0,fo:!0});return cg(t,o)}(yield qy(t),t.asyncQueue,e,n,r)})),r.promise}class $y{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Hy{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hy&&t.projectId===this.projectId&&t.database===this.database}}const Gy=new Map;function Ky(t,e,n){if(!n)throw new oc(sc.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wy(t,e,n,r){if(!0===e&&!0===r)throw new oc(sc.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qy(t){if(!qc.isDocumentKey(t))throw new oc(sc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(qc.isDocumentKey(t))throw new oc(sc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":nc()}function Xy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oc(sc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jy(t);throw new oc(sc.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tv(t,e){if(e<=0)throw new oc(sc.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class ev{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new oc(sc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new oc(sc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Wy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nv{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,t instanceof Hy?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new oc(sc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hy(t.options.projectId)}(t))}get app(){if(!this._app)throw new oc(sc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new oc(sc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cc;switch(t.type){case"gapi":const e=t.client;return rc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fc(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new oc(sc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Gy.get(t);e&&(Jl("ComponentProvider","Removing Datastore"),Gy.delete(t),e.terminate())}(this),Promise.resolve()}}function rv(t,e,n,r={}){var i;const s=(t=Xy(t,nv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&tc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Gl.MOCK_USER;else{e=(0,Ui.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new oc(sc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gl(s)}t._credentials=new uc(new lc(e,n))}}class iv{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ov(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new iv(this.firestore,t,this._key)}}class sv{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new sv(this.firestore,t,this._query)}}class ov extends sv{constructor(t,e,n){super(t,e,xu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new iv(this.firestore,null,new qc(t))}withConverter(t){return new ov(this.firestore,t,this._path)}}function av(t,e,...n){if(t=(0,Ui.m9)(t),Ky("collection","path",e),t instanceof nv){const r=Cc.fromString(e,...n);return Yy(r),new ov(t,null,r)}{if(!(t instanceof iv||t instanceof ov))throw new oc(sc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cc.fromString(e,...n));return Yy(r),new ov(t.firestore,null,r)}}function lv(t,e){if(t=Xy(t,nv),Ky("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oc(sc.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sv(t,null,function(t){return new Su(Cc.emptyPath(),t)}(e))}function cv(t,e,...n){if(t=(0,Ui.m9)(t),1===arguments.length&&(e=gc.I()),Ky("doc","path",e),t instanceof nv){const r=Cc.fromString(e,...n);return Qy(r),new iv(t,null,new qc(r))}{if(!(t instanceof iv||t instanceof ov))throw new oc(sc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cc.fromString(e,...n));return Qy(r),new iv(t.firestore,t instanceof ov?t.converter:null,new qc(r))}}function uv(t,e){return t=(0,Ui.m9)(t),e=(0,Ui.m9)(e),(t instanceof iv||t instanceof ov)&&(e instanceof iv||e instanceof ov)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hv(t,e){return t=(0,Ui.m9)(t),e=(0,Ui.m9)(e),t instanceof sv&&e instanceof sv&&t.firestore===e.firestore&&Fu(t._query,e._query)&&t.converter===e.converter}class dv{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new um(this,"async_queue_retry"),this.Rc=()=>{const t=lm();t&&Jl("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const t=lm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=lm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new ac;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,Pi.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(Ji){if(!nf(Ji))throw Ji;Jl("AsyncQueue","Operation failed with retryable error: "+Ji)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(t=>{throw this.Tc=t,this.Ec=!1,Xl("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.Ec=!1,t))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const r=ng.createAndSchedule(this,t,e,n,t=>this.Vc(t));return this.yc.push(r),r}bc(){this.Tc&&nc()}verifyOperationInProgress(){}Sc(){var t=this;return(0,Pi.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function fv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class pv{constructor(){this._progressObserver={},this._taskCompletionResolver=new ac,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class mv extends nv{constructor(t,e){super(t,e),this.type="firestore",this._queue=new dv,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yv(this),this._firestoreClient.terminate()}}function gv(t){return t._firestoreClient||yv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yv(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new $y(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ky(t._credentials,t._queue,r)}function vv(t,e){xv(t=Xy(t,mv));const n=gv(t),r=t._freezeSettings(),i=new Iy;return bv(n,i,new by(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function _v(t){xv(t=Xy(t,mv));const e=gv(t),n=t._freezeSettings(),r=new Iy;return bv(e,r,new wy(r,n.cacheSizeBytes))}function bv(t,e,n){const r=new ac;return t.asyncQueue.enqueue((0,Pi.Z)(function*(){try{yield Ay(t,n),yield Ny(t,e),r.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===sc.FAILED_PRECONDITION||t.code===sc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.reject(t)}})).then(()=>r.promise)}function wv(t){if(t._initialized&&!t._terminated)throw new oc(sc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ac;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Pi.Z)(function*(){try{yield(n=(0,Pi.Z)(function*(t){if(!Xd.bt())return Promise.resolve();const e=t+"main";yield Xd.delete(e)}),function(t){return n.apply(this,arguments)})(dp(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var n})),e.promise}function Iv(t){return function(t){const e=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e){return Bg.apply(this,arguments)}(yield jy(t),e)})),e.promise}(gv(t=Xy(t,mv)))}function Ev(t){return function(t){return t.asyncQueue.enqueue((0,Pi.Z)(function*(){const e=yield My(t),n=yield Vy(t);return e.setNetworkEnabled(!0),function(t){const e=ic(t);return e.Wr.delete(0),ym(e)}(n)}))}(gv(t=Xy(t,mv)))}function Tv(t){return function(t){return t.asyncQueue.enqueue((0,Pi.Z)(function*(){const e=yield My(t),n=yield Vy(t);return e.setNetworkEnabled(!1),(r=(0,Pi.Z)(function*(t){const e=ic(t);e.Wr.add(0),yield _m(e),e.Hr.set("Offline")}),function(t){return r.apply(this,arguments)})(n);var r}))}(gv(t=Xy(t,mv)))}function Sv(t,e){const n=gv(t=Xy(t,mv)),r=new pv;return function(t,e,n,r){const i=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new Sy(t,e)}(function(t,e){if(t instanceof Uint8Array)return Ey(t,e);if(t instanceof ArrayBuffer)return Ey(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,cm(e));t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){!function(t,e,n){const r=ic(t);var i;(i=(0,Pi.Z)(function*(t,e,n){try{const r=yield e.getMetadata();if(yield function(t,e){const n=ic(t),r=ed(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(r)>=0)}(t.localStore,r))return yield e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r));n._updateProgress(bg(r));const i=new _g(r,t.localStore,e.N);let s=yield e.zo();for(;s;){const t=yield i.mo(s);t&&n._updateProgress(t),s=yield e.zo()}const o=yield i.complete();yield Yg(t,o.En,void 0),yield function(t,e){const n=ic(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,r),n._completeWith(o.progress)}catch(t){tc("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}}),function(t,e,n){return i.apply(this,arguments)})(r,e,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield jy(t),i,r)}))}(n,t._databaseId,e,r),r}function Cv(t,e){return function(t,e){return t.asyncQueue.enqueue((0,Pi.Z)(function*(){return function(t,e){const n=ic(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(yield Uy(t),e)}))}(gv(t=Xy(t,mv)),e).then(e=>e?new sv(t,null,e.query):null)}function xv(t){if(t._initialized||t._terminated)throw new oc(sc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kv{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new oc(sc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function Av(){return new kv("__name__")}class Ov{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ov(Oc.fromBase64String(t))}catch(t){throw new oc(sc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ov(Oc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Nv{constructor(t){this._methodName=t}}class Rv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new oc(sc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new oc(sc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return yc(this._lat,t._lat)||yc(this._long,t._long)}}const Dv=/^__.*__$/;class Pv{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ph(t,this.data,this.fieldMask,e,this.fieldTransforms):new fh(t,this.data,e,this.fieldTransforms)}}class Lv{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new ph(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Fv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nc()}}class Mv{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new Mv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.Mc(t),r}Lc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return r_(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Fv(this.kc)&&Dv.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class Uv{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||cm(t)}jc(t,e,n,r=!1){return new Mv({kc:t,methodName:e,Kc:n,path:kc.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new Uv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jv(t,e,n,r,i,s={}){const o=t.jc(s.merge||s.mergeFields?2:0,e,n,i);Xv("Data must be an object, but it was:",o,r);const a=Yv(r,o);let l,c;if(s.merge)l=new Ac(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=t_(e,r,n);if(!o.contains(i))throw new oc(sc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);i_(t,i)||t.push(i)}l=new Ac(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new Pv(new nu(a),l,c)}class qv extends Nv{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qv}}function Zv(t,e,n){return new Mv({kc:3,Kc:e.settings.Kc,methodName:t._methodName,Fc:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Bv extends Nv{_toFieldTransform(t){return new rh(t.path,new Wu)}isEqual(t){return t instanceof Bv}}class zv extends Nv{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=Zv(this,t,!0),n=this.Qc.map(t=>Qv(t,e)),r=new Qu(n);return new rh(t.path,r)}isEqual(t){return this===t}}class $v extends Nv{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=Zv(this,t,!0),n=this.Qc.map(t=>Qv(t,e)),r=new Ju(n);return new rh(t.path,r)}isEqual(t){return this===t}}class Hv extends Nv{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new th(t.N,zu(t.N,this.Wc));return new rh(t.path,e)}isEqual(t){return this===t}}function Gv(t,e,n,r){const i=t.jc(1,e,n);Xv("Data must be an object, but it was:",i,r);const s=[],o=nu.empty();Ec(r,(t,r)=>{const a=n_(e,t,n);r=(0,Ui.m9)(r);const l=i.Lc(a);if(r instanceof qv)s.push(a);else{const t=Qv(r,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new Ac(s);return new Lv(o,a,i.fieldTransforms)}function Kv(t,e,n,r,i,s){const o=t.jc(1,e,n),a=[t_(e,r,n)],l=[i];if(s.length%2!=0)throw new oc(sc.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(t_(e,s[d])),l.push(s[d+1]);const c=[],u=nu.empty();for(let d=a.length-1;d>=0;--d)if(!i_(c,a[d])){const t=a[d];let e=l[d];e=(0,Ui.m9)(e);const n=o.Lc(t);if(e instanceof qv)c.push(t);else{const r=Qv(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new Ac(c);return new Lv(u,h,o.fieldTransforms)}function Wv(t,e,n,r=!1){return Qv(n,t.jc(r?4:3,e))}function Qv(t,e){if(Jv(t=(0,Ui.m9)(t)))return Xv("Unsupported field value:",e,t),Yv(t,e);if(t instanceof Nv)return function(t,e){if(!Fv(e.kc))throw e.Uc(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Uc(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Qv(i,e.Bc(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Ui.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zu(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=bc.fromDate(t);return{timestampValue:Jh(e.N,n)}}if(t instanceof bc){const n=new bc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jh(e.N,n)}}if(t instanceof Rv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ov)return{bytesValue:Xh(e.N,t._byteString)};if(t instanceof iv){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:nd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc(`Unsupported field value: ${Jy(t)}`)}(t,e)}function Yv(t,e){const n={};return Tc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ec(t,(t,r)=>{const i=Qv(r,e.Oc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Jv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bc||t instanceof Rv||t instanceof Ov||t instanceof iv||t instanceof Nv)}function Xv(t,e,n){if(!Jv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Jy(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function t_(t,e,n){if((e=(0,Ui.m9)(e))instanceof kv)return e._internalPath;if("string"==typeof e)return n_(t,e);throw r_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const e_=new RegExp("[~\\*/\\[\\]]");function n_(t,e,n){if(e.search(e_)>=0)throw r_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kv(...e.split("."))._internalPath}catch(r){throw r_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function r_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oc(sc.INVALID_ARGUMENT,a+t+l)}function i_(t,e){return t.some(t=>t.isEqual(e))}class s_{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new iv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new o_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(a_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class o_ extends s_{data(){return super.data()}}function a_(t,e){return"string"==typeof e?n_(t,e):e instanceof kv?e._internalPath:e._delegate._internalPath}class l_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class c_ extends s_{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new u_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(a_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class u_ extends c_{data(t={}){return super.data(t)}}class h_{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new l_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new u_(this._firestore,this._userDataWriter,n.key,n,new l_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new oc(sc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new u_(t._firestore,t._userDataWriter,n.doc.key,n.doc,new l_(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new u_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new l_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:d_(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function d_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nc()}}function f_(t,e){return t instanceof c_&&e instanceof c_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof h_&&e instanceof h_&&t._firestore===e._firestore&&hv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function p_(t){if(Au(t)&&0===t.explicitOrderBy.length)throw new oc(sc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m_{}function g_(t,...e){for(const n of e)t=n._apply(t);return t}class y_ extends m_{constructor(t,e,n){super(),this.Gc=t,this.zc=e,this.Hc=n,this.type="where"}_apply(t){const e=Vv(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new oc(sc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){R_(o,s);const e=[];for(const n of o)e.push(N_(r,t,n));a={arrayValue:{values:e}}}else a=N_(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||R_(o,s),a=Wv(n,"where",o,"in"===s||"not-in"===s);const l=uu.create(i,s,a);return function(t,e){if(e.v()){const n=Nu(t);if(null!==n&&!n.isEqual(e.field))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=Ou(t);null!==r&&D_(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new oc(sc.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,l),l}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new sv(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function v_(t,e,n){const r=e,i=a_("where",t);return new y_(i,r,n)}class __ extends m_{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new oc(sc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new oc(sc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new wu(e,n);return function(t,e){if(null===Ou(t)){const n=Nu(t);null!==n&&D_(0,n,e.field)}}(t,r),r}(t._query,this.Gc,this.Jc);return new sv(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Su(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function b_(t,e="asc"){const n=e,r=a_("orderBy",t);return new __(r,n)}class w_ extends m_{constructor(t,e,n){super(),this.type=t,this.Yc=e,this.Xc=n}_apply(t){return new sv(t.firestore,t.converter,Lu(t._query,this.Yc,this.Xc))}}function I_(t){return tv("limit",t),new w_("limit",t,"F")}function E_(t){return tv("limitToLast",t),new w_("limitToLast",t,"L")}class T_ extends m_{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=O_(t,this.type,this.Zc,this.ta);return new sv(t.firestore,t.converter,function(t,e){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function S_(...t){return new T_("startAt",t,!0)}function C_(...t){return new T_("startAfter",t,!1)}class x_ extends m_{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=O_(t,this.type,this.Zc,this.ta);return new sv(t.firestore,t.converter,function(t,e){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function k_(...t){return new x_("endBefore",t,!0)}function A_(...t){return new x_("endAt",t,!1)}function O_(t,e,n,r){if(n[0]=(0,Ui.m9)(n[0]),n[0]instanceof s_)return function(t,e,n,r,i){if(!r)throw new oc(sc.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Du(t))if(o.field.isKeyField())s.push(Wc(e,r.key));else{const t=r.data.field(o.field);if(Lc(t))throw new oc(sc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new oc(sc.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new _u(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Vv(t.firestore);return function(t,e,n,r,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new oc(sc.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new oc(sc.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Ru(t)&&-1!==s.indexOf("/"))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(Cc.fromString(s));if(!qc.isDocumentKey(n))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new qc(n);a.push(Wc(e,i))}else{const t=Wv(n,r,s);a.push(t)}}return new _u(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}}function N_(t,e,n){if("string"==typeof(n=(0,Ui.m9)(n))){if(""===n)throw new oc(sc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ru(e)&&-1!==n.indexOf("/"))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Cc.fromString(n));if(!qc.isDocumentKey(r))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wc(t,new qc(r))}if(n instanceof iv)return Wc(t,n._key);throw new oc(sc.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(n)}.`)}function R_(t,e){if(!Array.isArray(t)||0===t.length)throw new oc(sc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new oc(sc.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function D_(t,e,n){if(!n.isEqual(e))throw new oc(sc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class P_{convertValue(t,e="none"){switch(Zc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Pc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw nc()}}convertObject(t,e){const n={};return Ec(t.fields,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new Rv(Dc(t.latitude),Dc(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Fc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Mc(t));default:return null}}convertTimestamp(t){const e=Rc(t);return new bc(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Cc.fromString(t);rc(xd(n));const r=new Hy(n.get(1),n.get(3)),i=new qc(n.popFirst(5));return r.isEqual(e)||Xl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function L_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class F_ extends P_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ov(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new iv(this.firestore,null,e)}}class M_{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vv(t)}set(t,e,n){this._verifyNotCommitted();const r=U_(t,this._firestore),i=L_(r.converter,e,n),s=jv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,sh.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=U_(t,this._firestore);let s;return s="string"==typeof(e=(0,Ui.m9)(e))||e instanceof kv?Kv(this._dataReader,"WriteBatch.update",i._key,e,n,r):Gv(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,sh.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=U_(t,this._firestore);return this._mutations=this._mutations.concat(new vh(e._key,sh.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oc(sc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function U_(t,e){if((t=(0,Ui.m9)(t)).firestore!==e)throw new oc(sc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function V_(t){t=Xy(t,iv);const e=Xy(t.firestore,mv);return By(gv(e),t._key).then(n=>X_(e,t,n))}class j_ extends P_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ov(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new iv(this.firestore,null,e)}}function q_(t){t=Xy(t,iv);const e=Xy(t.firestore,mv),n=gv(e),r=new j_(e);return function(t,e){const n=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return(r=(0,Pi.Z)(function*(t,e,n){try{const r=yield function(t,e){const n=ic(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new oc(sc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const r=rg(t,`Failed to get document '${e} from cache`);n.reject(r)}}),function(t,e,n){return r.apply(this,arguments)})(yield Uy(t),e,n);var r})),n.promise}(n,t._key).then(n=>new c_(e,r,t._key,n,new l_(null!==n&&n.hasLocalMutations,!0),t.converter))}function Z_(t){t=Xy(t,iv);const e=Xy(t.firestore,mv);return By(gv(e),t._key,{source:"server"}).then(n=>X_(e,t,n))}function B_(t){t=Xy(t,sv);const e=Xy(t.firestore,mv),n=gv(e),r=new j_(e);return p_(t._query),zy(n,t._query).then(n=>new h_(e,r,t,n))}function z_(t){t=Xy(t,sv);const e=Xy(t.firestore,mv),n=gv(e),r=new j_(e);return function(t,e){const n=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return(r=(0,Pi.Z)(function*(t,e,n){try{const r=yield Ap(t,e,!0),i=new Eg(e,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const r=rg(t,`Failed to execute query '${e} against cache`);n.reject(r)}}),function(t,e,n){return r.apply(this,arguments)})(yield Uy(t),e,n);var r})),n.promise}(n,t._query).then(n=>new h_(e,r,t,n))}function $_(t){t=Xy(t,sv);const e=Xy(t.firestore,mv),n=gv(e),r=new j_(e);return zy(n,t._query,{source:"server"}).then(n=>new h_(e,r,t,n))}function H_(t,e,n){t=Xy(t,iv);const r=Xy(t.firestore,mv),i=L_(t.converter,e,n);return J_(r,[jv(Vv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,sh.none())])}function G_(t,e,n,...r){t=Xy(t,iv);const i=Xy(t.firestore,mv),s=Vv(i);let o;return o="string"==typeof(e=(0,Ui.m9)(e))||e instanceof kv?Kv(s,"updateDoc",t._key,e,n,r):Gv(s,"updateDoc",t._key,e),J_(i,[o.toMutation(t._key,sh.exists(!0))])}function K_(t){return J_(Xy(t.firestore,mv),[new vh(t._key,sh.none())])}function W_(t,e){const n=Xy(t.firestore,mv),r=cv(t),i=L_(t.converter,e);return J_(n,[jv(Vv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,sh.exists(!1))]).then(()=>r)}function Q_(t,...e){var n,r,i;t=(0,Ui.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||fv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(fv(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let l,c,u;if(t instanceof iv)c=Xy(t.firestore,mv),u=xu(t._key.path),l={next:n=>{e[o]&&e[o](X_(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=Xy(t,sv);c=Xy(n.firestore,mv),u=n._query;const r=new j_(c);l={next:t=>{e[o]&&e[o](new h_(c,r,n,t))},error:e[o+1],complete:e[o+2]},p_(t._query)}return function(t,e,n,r){const i=new Ty(r),s=new gg(e,i,n);return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return cg(yield qy(t),s)})),()=>{i.ec(),t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return hg(yield qy(t),s)}))}}(gv(c),u,a,l)}function Y_(t,e){return function(t,e){const n=new Ty(e);return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e){ic(t).so.add(e),e.next()}(yield qy(t),n)})),()=>{n.ec(),t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e){ic(t).so.delete(e)}(yield qy(t),n)}))}}(gv(t=Xy(t,mv)),fv(e)?e:{next:e})}function J_(t,e){return function(t,e){const n=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){return function(t,e,n){return Dg.apply(this,arguments)}(yield jy(t),e,n)})),n.promise}(gv(t),e)}function X_(t,e,n){const r=n.docs.get(e._key),i=new j_(t);return new c_(t,i,e._key,r,new l_(n.hasPendingWrites,n.fromCache),e.converter)}class tb extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vv(t)}get(t){const e=U_(t,this._firestore),n=new F_(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return nc();const r=t[0];if(r.isFoundDocument())return new s_(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new s_(this._firestore,n,e._key,null,e.converter);throw nc()})}set(t,e,n){const r=U_(t,this._firestore),i=L_(r.converter,e,n),s=jv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(t,e,n,...r){const i=U_(t,this._firestore);let s;return s="string"==typeof(e=(0,Ui.m9)(e))||e instanceof kv?Kv(this._dataReader,"Transaction.update",i._key,e,n,r):Gv(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=U_(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=U_(t,this._firestore),n=new j_(this._firestore);return super.get(t).then(t=>new c_(this._firestore,n,e._key,t._document,new l_(!1,!1),e.converter))}}function eb(t,e){return function(t,e){const n=new ac;return t.asyncQueue.enqueueAndForget((0,Pi.Z)(function*(){const r=yield function(t){return Ly(t).then(t=>t.datastore)}(t);new xy(t.asyncQueue,r,e,n).run()})),n.promise}(gv(t=Xy(t,mv)),n=>e(new tb(t,n)))}function nb(){return new qv("deleteField")}function rb(){return new Bv("serverTimestamp")}function ib(...t){return new zv("arrayUnion",t)}function sb(...t){return new $v("arrayRemove",t)}function ob(t){return new Hv("increment",t)}!function(t,e=!0){!function(t){Kl=t}(Li.SDK_VERSION),(0,Li._registerComponent)(new Fi.wA("firestore",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new mv(r,new hc(t.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i},"PUBLIC")),(0,Li.registerVersion)(Hl,"3.3.1",t),(0,Li.registerVersion)(Hl,"3.3.1","esm2017")}();var ab=n(7462),lb=n(7979),cb=n(9517),ub=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},hb=n(2314);function db(t){return(0,hb.m)(null==t?void 0:t.then)}var fb=n(4157);function pb(t){return(0,hb.m)(t[fb.L])}function mb(t){return Symbol.asyncIterator&&(0,hb.m)(null==t?void 0:t[Symbol.asyncIterator])}function gb(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var yb="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function vb(t){return(0,hb.m)(null==t?void 0:t[yb])}function _b(t){return(0,cb.FC)(this,arguments,function(){var e,n,r;return(0,cb.Jh)(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,cb.qq)(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,(0,cb.qq)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,cb.qq)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function bb(t){return(0,hb.m)(null==t?void 0:t.getReader)}var wb=n(4608);function Ib(t){if(t instanceof lb.y)return t;if(null!=t){if(pb(t))return i=t,new lb.y(function(t){var e=i[fb.L]();if((0,hb.m)(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(ub(t))return r=t,new lb.y(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()});if(db(t))return n=t,new lb.y(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,wb.h)});if(mb(t))return Eb(t);if(vb(t))return e=t,new lb.y(function(t){var n,r;try{for(var i=(0,cb.XA)(e),s=i.next();!s.done;s=i.next())if(t.next(s.value),t.closed)return}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()});if(bb(t))return Eb(_b(t))}var e,n,r,i;throw gb(t)}function Eb(t){return new lb.y(function(e){(function(t,e){var n,r,i,s;return(0,cb.mG)(this,void 0,void 0,function(){var o;return(0,cb.Jh)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,cb.KL)(t),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(e.next(r.value),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=a.sent(),i={error:o},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}var Tb=n(1034),Sb=n(3073),Cb=n(2548);function xb(t,e){if(!t)throw new Error("Iterable cannot be null");return new lb.y(function(n){(0,Cb.f)(n,e,function(){var r=t[Symbol.asyncIterator]();(0,Cb.f)(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}function kb(t,e){return e?function(t,e){if(null!=t){if(pb(t))return function(t,e){return Ib(t).pipe((0,Sb.R)(e),(0,Tb.Q)(e))}(t,e);if(ub(t))return function(t,e){return new lb.y(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(db(t))return function(t,e){return Ib(t).pipe((0,Sb.R)(e),(0,Tb.Q)(e))}(t,e);if(mb(t))return xb(t,e);if(vb(t))return function(t,e){return new lb.y(function(n){var r;return(0,Cb.f)(n,e,function(){r=t[yb](),(0,Cb.f)(n,e,function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(s){return void n.error(s)}i?n.complete():n.next(e)},0,!0)}),function(){return(0,hb.m)(null==r?void 0:r.return)&&r.return()}})}(t,e);if(bb(t))return function(t,e){return xb(_b(t),e)}(t,e)}throw gb(t)}(t,e):Ib(t)}function Ab(t){return t&&(0,hb.m)(t.schedule)}function Ob(t){return t[t.length-1]}function Nb(t){return Ab(Ob(t))?t.pop():void 0}function Rb(t,e){return"number"==typeof Ob(t)?t.pop():e}function Db(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nb(t);return kb(t,n)}var Pb=n(2100),Lb=n(1989),Fb=n(7038);function Mb(t,e){return(0,Lb.e)(function(n,r){var i=0;n.subscribe(new Fb.Q(r,function(n){r.next(t.call(e,n,i++))}))})}function Ub(t,e,n){return void 0===n&&(n=1/0),(0,hb.m)(e)?Ub(function(n,r){return Mb(function(t,i){return e(n,t,r,i)})(Ib(t(n,r)))},n):("number"==typeof e&&(n=e),(0,Lb.e)(function(e,r){return function(t,e,n,r,i,s,o,a){var l=[],c=0,u=0,h=!1,d=function(){!h||l.length||c||e.complete()},f=function(t){c++;var i=!1;Ib(n(t,u++)).subscribe(new Fb.Q(e,function(t){e.next(t)},function(){i=!0},void 0,function(){if(i)try{for(c--;l.length&&c<r;)void 0,t=l.shift(),f(t);d()}catch(n){e.error(n)}var t}))};return t.subscribe(new Fb.Q(e,function(t){return c<r?f(t):l.push(t)},function(){h=!0,d()})),function(){}}(e,r,t,n)}))}var Vb=n(9879);function jb(t){return void 0===t&&(t=1/0),Ub(Vb.y,t)}function qb(){return jb(1)}function Zb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qb()(kb(t,Nb(t)))}function Bb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nb(t);return(0,Lb.e)(function(e,r){(n?Zb(t,e,n):Zb(t,e)).subscribe(r)})}function zb(){return(0,Lb.e)(function(t,e){var n,r=!1;t.subscribe(new Fb.Q(e,function(t){var i=n;n=t,r&&e.next([i,t]),r=!0}))})}function $b(t,e,n,r,i){return function(s,o){var a=n,l=e,c=0;s.subscribe(new Fb.Q(o,function(e){var n=c++;l=a?t(l,e,n):(a=!0,e),r&&o.next(l)},i&&function(){a&&o.next(l),o.complete()}))}}function Hb(t,e){return(0,Lb.e)($b(t,e,arguments.length>=2,!0))}function Gb(t,e){return t===e}function Kb(t,e){return(0,Lb.e)(function(n,r){var i=0;n.subscribe(new Fb.Q(r,function(n){return t.call(e,n,i++)&&r.next(n)}))})}var Wb=n(9748),Qb=(n(3121),n(6986));function Yb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new oc("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function Jb(){if("undefined"==typeof Uint8Array)throw new oc("unimplemented","Uint8Arrays are not available in this environment.")}function Xb(){if("undefined"==typeof atob)throw new oc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class tw{constructor(t){this._delegate=t}static fromBase64String(t){return Xb(),new tw(Ov.fromBase64String(t))}static fromUint8Array(t){return Jb(),new tw(Ov.fromUint8Array(t))}toBase64(){return Xb(),this._delegate.toBase64()}toUint8Array(){return Jb(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ew(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class nw{enableIndexedDbPersistence(t,e){return vv(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return _v(t._delegate)}clearIndexedDbPersistence(t){return wv(t._delegate)}}class rw{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Hy||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||tc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){rv(this._delegate,t,e,n)}enableNetwork(){return Ev(this._delegate)}disableNetwork(){return Tv(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Wy("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Iv(this._delegate)}onSnapshotsInSync(t){return Y_(this._delegate,t)}get app(){if(!this._appCompat)throw new oc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new yw(this,av(this._delegate,t))}catch(e){throw cw(e,"collection()","Firestore.collection()")}}doc(t){try{return new lw(this,cv(this._delegate,t))}catch(e){throw cw(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new pw(this,lv(this._delegate,t))}catch(e){throw cw(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return eb(this._delegate,e=>t(new sw(this,e)))}batch(){return gv(this._delegate),new ow(new M_(this._delegate,t=>J_(this._delegate,t)))}loadBundle(t){return Sv(this._delegate,t)}namedQuery(t){return Cv(this._delegate,t).then(t=>t?new pw(this,t):null)}}class iw extends P_{constructor(t){super(),this.firestore=t}convertBytes(t){return new tw(new Ov(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return lw.forKey(e,this.firestore,null)}}class sw{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}get(t){const e=vw(t);return this._delegate.get(e).then(t=>new dw(this._firestore,new c_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const r=vw(t);return n?(Yb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=vw(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=vw(t);return this._delegate.delete(e),this}}class ow{constructor(t){this._delegate=t}set(t,e,n){const r=vw(t);return n?(Yb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=vw(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=vw(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}let aw=(()=>{class t{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new u_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fw(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(e,n){const r=t.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new iw(e),n),i.set(n,s)),s}}return t.INSTANCES=new WeakMap,t})();class lw{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}static forPath(t,e,n){if(t.length%2!=0)throw new oc("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new lw(e,new iv(e._delegate,n,new qc(t)))}static forKey(t,e,n){return new lw(e,new iv(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new yw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new yw(this.firestore,av(this._delegate,t))}catch(e){throw cw(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ui.m9)(t))instanceof iv&&uv(this._delegate,t)}set(t,e){e=Yb("DocumentReference.set",e);try{return e?H_(this._delegate,t,e):H_(this._delegate,t)}catch(n){throw cw(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?G_(this._delegate,t):G_(this._delegate,t,e,...n)}catch(r){throw cw(r,"updateDoc()","DocumentReference.update()")}}delete(){return K_(this._delegate)}onSnapshot(...t){const e=uw(t),n=hw(t,t=>new dw(this.firestore,new c_(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return Q_(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?q_(this._delegate):"server"===(null==t?void 0:t.source)?Z_(this._delegate):V_(this._delegate),e.then(t=>new dw(this.firestore,new c_(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new lw(this.firestore,this._delegate.withConverter(t?aw.getInstance(this.firestore,t):null))}}function cw(t,e,n){return t.message=t.message.replace(e,n),t}function uw(t){for(const e of t)if("object"==typeof e&&!ew(e))return e;return{}}function hw(t,e){var n,r;let i;return i=ew(t[0])?t[0]:ew(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class dw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new lw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return f_(this._delegate,t._delegate)}}class fw extends dw{data(t){const e=this._delegate.data(t);return function(t,e){t||nc()}(void 0!==e),e}}class pw{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}where(t,e,n){try{return new pw(this.firestore,g_(this._delegate,v_(t,e,n)))}catch(r){throw cw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new pw(this.firestore,g_(this._delegate,b_(t,e)))}catch(n){throw cw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new pw(this.firestore,g_(this._delegate,I_(t)))}catch(e){throw cw(e,"limit()","Query.limit()")}}limitToLast(t){try{return new pw(this.firestore,g_(this._delegate,E_(t)))}catch(e){throw cw(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new pw(this.firestore,g_(this._delegate,S_(...t)))}catch(e){throw cw(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new pw(this.firestore,g_(this._delegate,C_(...t)))}catch(e){throw cw(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new pw(this.firestore,g_(this._delegate,k_(...t)))}catch(e){throw cw(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new pw(this.firestore,g_(this._delegate,A_(...t)))}catch(e){throw cw(e,"endAt()","Query.endAt()")}}isEqual(t){return hv(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?z_(this._delegate):"server"===(null==t?void 0:t.source)?$_(this._delegate):B_(this._delegate),e.then(t=>new gw(this.firestore,new h_(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=uw(t),n=hw(t,t=>new gw(this.firestore,new h_(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return Q_(this._delegate,e,n)}withConverter(t){return new pw(this.firestore,this._delegate.withConverter(t?aw.getInstance(this.firestore,t):null))}}class mw{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gw{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new pw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new fw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new mw(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new fw(this._firestore,n))})}isEqual(t){return f_(this._delegate,t._delegate)}}class yw extends pw{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new lw(this.firestore,t):null}doc(t){try{return new lw(this.firestore,void 0===t?cv(this._delegate):cv(this._delegate,t))}catch(e){throw cw(e,"doc()","CollectionReference.doc()")}}add(t){return W_(this._delegate,t).then(t=>new lw(this.firestore,t))}isEqual(t){return uv(this._delegate,t._delegate)}withConverter(t){return new yw(this.firestore,this._delegate.withConverter(t?aw.getInstance(this.firestore,t):null))}}function vw(t){return Xy(t,iv)}class _w{constructor(...t){this._delegate=new kv(...t)}static documentId(){return new _w(kc.keyField().canonicalString())}isEqual(t){return(t=(0,Ui.m9)(t))instanceof kv&&this._delegate._internalPath.isEqual(t._internalPath)}}class bw{constructor(t){this._delegate=t}static serverTimestamp(){const t=rb();return t._methodName="FieldValue.serverTimestamp",new bw(t)}static delete(){const t=nb();return t._methodName="FieldValue.delete",new bw(t)}static arrayUnion(...t){const e=ib(...t);return e._methodName="FieldValue.arrayUnion",new bw(e)}static arrayRemove(...t){const e=sb(...t);return e._methodName="FieldValue.arrayRemove",new bw(e)}static increment(t){const e=ob(t);return e._methodName="FieldValue.increment",new bw(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ww={Firestore:rw,GeoPoint:Rv,Timestamp:bc,Blob:tw,Transaction:sw,WriteBatch:ow,DocumentReference:lw,DocumentSnapshot:dw,Query:pw,QueryDocumentSnapshot:fw,QuerySnapshot:gw,CollectionReference:yw,FieldPath:_w,FieldValue:bw,setLogLevel:function(t){Yl(t)},CACHE_SIZE_UNLIMITED:-1};var Iw,Ew;Ew=(t,e)=>new rw(t,e,new nw),(Iw=Qb.Z).INTERNAL.registerComponent(new Fi.wA("firestore-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return Ew(e,n)},"PUBLIC").setServiceProps(Object.assign({},ww))),Iw.registerVersion("@firebase/firestore-compat","0.1.8");var Tw=n(9089),Sw=n(3095),Cw=(0,Sw.d)(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xw=n(5697),kw=n(471),Aw=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,cb.ZT)(e,t),e.prototype.lift=function(t){var e=new Ow(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Cw},e.prototype.next=function(t){var e=this;(0,kw.x)(function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var i=e.observers.slice();try{for(var s=(0,cb.XA)(i),o=s.next();!o.done;o=s.next())o.value.next(t)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;(0,kw.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;(0,kw.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.observers;return e.hasError||e.isStopped?Tw.Lc:(n.push(t),new Tw.w0(function(){return(0,xw.P)(n,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.isStopped;e.hasError?t.error(e.thrownError):n&&t.complete()},e.prototype.asObservable=function(){var t=new lb.y;return t.source=this,t},e.create=function(t,e){return new Ow(t,e)},e}(lb.y),Ow=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return(0,cb.ZT)(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Tw.Lc},e}(Aw),Nw=new lb.y(function(t){return t.complete()});function Rw(t,e){return(0,Lb.e)(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(new Fb.Q(r,function(n){null==i||i.unsubscribe();var o=0,l=s++;Ib(t(n,l)).subscribe(i=new Fb.Q(r,function(t){return r.next(e?e(n,t,l,o++):t)},function(){i=null,a()}))},function(){o=!0,a()}))})}var Dw=n(8890),Pw=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=Dw.l);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,n),i}return(0,cb.ZT)(e,t),e.prototype.next=function(e){var n=this,r=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,o=n._windowTime;n.isStopped||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!t.closed;i+=n?1:2)t.next(r[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,r=t._buffer,i=t._infiniteTimeWindow,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){for(var o=n.now(),a=0,l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}},e}(Aw);function Lw(t){return t<=0?function(){return Nw}:(0,Lb.e)(function(e,n){var r=0;e.subscribe(new Fb.Q(n,function(e){++r<=t&&(n.next(e),t<=r&&n.complete())}))})}var Fw=n(575);function Mw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===e?(t(),null):!1===e?null:e.apply(void 0,(0,cb.ev)([],(0,cb.CR)(n))).pipe(Lw(1)).subscribe(function(){return t()})}function Uw(t,e,n){var r,i,s,o=!1;return t&&"object"==typeof t?(s=null!==(r=t.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=t.windowTime)&&void 0!==i?i:1/0,o=!!t.refCount,n=t.scheduler):s=null!=t?t:1/0,function(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new Aw}:e,r=t.resetOnError,i=void 0===r||r,s=t.resetOnComplete,o=void 0===s||s,a=t.resetOnRefCountZero,l=void 0===a||a;return function(t){var e=null,r=null,s=null,a=0,c=!1,u=!1,h=function(){null==r||r.unsubscribe(),r=null},d=function(){h(),e=s=null,c=u=!1},f=function(){var t=e;d(),null==t||t.unsubscribe()};return(0,Lb.e)(function(t,p){a++,u||c||h();var m=s=null!=s?s:n();p.add(function(){0!=--a||u||c||(r=Mw(f,l))}),m.subscribe(p),e||(e=new Fw.Hp({next:function(t){return m.next(t)},error:function(t){u=!0,h(),r=Mw(d,i,t),m.error(t)},complete:function(){c=!0,h(),r=Mw(d,o),m.complete()}}),kb(t).subscribe(e))})(t)}}({connector:function(){return new Pw(s,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var Vw=(0,Sw.d)(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function jw(t){return(0,Lb.e)(function(e,n){var r=!1;e.subscribe(new Fb.Q(n,function(t){r=!0,n.next(t)},function(){r||n.next(t),n.complete()}))})}function qw(t){return void 0===t&&(t=Zw),(0,Lb.e)(function(e,n){var r=!1;e.subscribe(new Fb.Q(n,function(t){r=!0,n.next(t)},function(){return r?n.complete():n.error(t())}))})}function Zw(){return new Vw}function Bw(t,e){return(0,hb.m)(e)?Rw(function(){return t},e):Rw(function(){return t})}function zw(t,e,n){void 0===t&&(t=0),void 0===n&&(n=ab.P);var r=-1;return null!=e&&(Ab(e)?n=e:r=e),new lb.y(function(e){var i,s=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;s<0&&(s=0);var o=0;return n.schedule(function(){e.closed||(e.next(o++),0<=r?this.schedule(void 0,r):e.complete())},s)})}function $w(t,e){return(0,hb.m)(e)?Ub(t,e,1):Ub(t,1)}var Hw=n(4953);function Gw(t,e){return(0,Lb.e)(function(n,r){var i=new Set;n.subscribe(new Fb.Q(r,function(e){var n=t?t(e):e;i.has(n)||(i.add(n),r.next(e))})),null==e||e.subscribe(new Fb.Q(r,function(){return i.clear()},Hw.Z))})}var Kw=n(1858);class Ww{constructor(){return(0,Kw.C6)()}}zw(0,300).pipe($w(()=>kb((0,Kw.C6)())),Gw()),new r.OlP("angularfire2._apps"),new r.FiY,new r.FiY,(0,Pb.u3)(Kw.P2,!0),(0,Pb.u3)(Kw.Mq,!0),(0,Pb.u3)(Kw.C6,!0),(0,Pb.u3)(Kw.ZF,!0),(0,Pb.u3)(Kw.TP,!0),(0,Pb.u3)(Kw.KN,!0),(0,Pb.u3)(Kw.Ub,!0);const Qw=new Map,Yw={activated:!1,tokenObservers:[]},Jw={initialized:!1,enabled:!1};function Xw(t){return Qw.get(t)||Yw}function tI(t,e){Qw.set(t,e)}function eI(){return Jw}class nI{constructor(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Pi.Z)(function*(){e.stop();try{e.pending=new Ui.BH,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ui.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const rI=new Ui.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iI(t){if(!Xw(t).activated)throw rI.create("use-before-activation",{appName:t.name})}function sI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function oI(t,e){return aI.apply(this,arguments)}function aI(){return(aI=(0,Pi.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(h){throw rI.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw rI.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw rI.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw rI.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function lI(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cI="firebase-app-check-store",uI="debug-token";let hI=null;function dI(){return hI||(hI=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(rI.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(cI,{keyPath:"compositeKey"})}}}catch(n){e(rI.create("storage-open",{originalErrorMessage:n.message}))}}),hI)}function fI(t){return vI(bI(t))}function pI(t){return gI(uI,t)}function mI(){return vI(uI)}function gI(t,e){return yI.apply(this,arguments)}function yI(){return(yI=(0,Pi.Z)(function*(t,e){const n=(yield dI()).transaction(cI,"readwrite"),r=n.objectStore(cI).put({compositeKey:t,value:e});return new Promise((t,e)=>{r.onsuccess=e=>{t()},n.onerror=t=>{var n;e(rI.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function vI(t){return _I.apply(this,arguments)}function _I(){return(_I=(0,Pi.Z)(function*(t){const e=(yield dI()).transaction(cI,"readonly"),n=e.objectStore(cI).get(t);return new Promise((t,r)=>{n.onsuccess=e=>{const n=e.target.result;t(n?n.value:void 0)},e.onerror=t=>{var e;r(rI.create("storage-get",{originalErrorMessage:null===(e=t.target.error)||void 0===e?void 0:e.message}))}})})).apply(this,arguments)}function bI(t){return`${t.options.appId}-${t.name}`}const wI=new Mi.Yd("@firebase/app-check");function II(){return(II=(0,Pi.Z)(function*(t){if((0,Ui.hl)()){let n;try{n=yield fI(t)}catch(e){wI.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return n}})).apply(this,arguments)}function EI(t,e){return(0,Ui.hl)()?function(t,e){return gI(bI(t),e)}(t,e).catch(t=>{wI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TI(){return(TI=(0,Pi.Z)(function*(){let t;try{t=yield mI()}catch(ku){}if(t)return t;{const t=sI();return pI(t).catch(t=>wI.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),t}})).apply(this,arguments)}function SI(){return eI().enabled}function CI(){return xI.apply(this,arguments)}function xI(){return(xI=(0,Pi.Z)(function*(){const t=eI();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kI={error:"UNKNOWN_ERROR"};function AI(t){return OI.apply(this,arguments)}function OI(){return(OI=(0,Pi.Z)(function*(t,e=!1){const n=t.app;iI(n);const r=Xw(n);let i,s=r.token;if(!s){const t=yield r.cachedTokenPromise;t&&LI(t)&&(s=t)}if(!e&&s&&LI(s))return{token:s.token};let o,a=!1;if(SI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=oI(lI(n,yield CI()),t.platformLoggerProvider).then(t=>(r.exchangeTokenPromise=void 0,t)),a=!0);const e=yield r.exchangeTokenPromise;return yield EI(n,e),tI(n,Object.assign(Object.assign({},r),{token:e})),{token:e.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(t=>(r.exchangeTokenPromise=void 0,t)),a=!0),s=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?wI.warn(l.message):wI.error(l),i=l}return s?(o={token:s.token},tI(n,Object.assign(Object.assign({},r),{token:s})),yield EI(n,s)):o=FI(i),a&&PI(n,o),o})).apply(this,arguments)}function NI(t,e,n,r){const{app:i}=t,s=Xw(i),o={next:n,error:r,type:e};if(tI(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&LI(s.token)){const e=s.token;Promise.resolve().then(()=>{n({token:e.token}),DI(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>DI(t))}function RI(t,e){const n=Xw(t),r=n.tokenObservers.filter(t=>t.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),tI(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function DI(t){const{app:e}=t,n=Xw(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new nI((0,Pi.Z)(function*(){let n;if(n=Xw(e).token?yield AI(t,!0):yield AI(t),n.error)throw n.error}),()=>!0,()=>{const t=Xw(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t),tI(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function PI(t,e){const n=Xw(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function LI(t){return t.expireTimeMillis-Date.now()>0}function FI(t){return{token:(e=kI,Ui.US.encodeString(JSON.stringify(e),!1)),error:t};var e}class MI{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Xw(this.app);for(const e of t)RI(this.app,e.next);return Promise.resolve()}}function UI(){return(UI=(0,Pi.Z)(function*(t,e){const n=yield AI(t,e);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}const VI="app-check-internal";(0,Li._registerComponent)(new Fi.wA("app-check",t=>{return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),new MI(e,n);var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(VI).initialize()})),(0,Li._registerComponent)(new Fi.wA(VI,t=>{return e=t.getProvider("app-check").getImmediate(),{getToken:t=>AI(e,t),addTokenListener:t=>NI(e,"INTERNAL",t),removeTokenListener:t=>RI(e.app,t)};var e},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Li.registerVersion)("@firebase/app-check","0.5.2");const jI="app-check";class qI{constructor(){return(0,Pb.vb)(jI)}}zw(0,300).pipe($w(()=>kb((0,Pb.vb)(jI))),Gw()),new r.OlP("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new r.FiY,new r.FiY,(0,Pb.u3)(function(t,e){return UI.apply(this,arguments)},!0),(0,Pb.u3)(function(t=(0,Li.getApp)(),e){t=(0,Ui.m9)(t);const n=(0,Li._getProvider)(t,"app-check");if(eI().initialized||function(){const t=(0,Ui.Rd)(),e=eI();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Ui.BH;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return TI.apply(this,arguments)}())}(),SI()&&CI().then(t=>console.log(`App Check debug token: ${t}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&i.provider.isEqual(e.provider))return r;throw rI.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function(t,e,n){const r=Xw(t),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=e,i.cachedTokenPromise=function(t){return II.apply(this,arguments)}(t).then(e=>(e&&LI(e)&&(tI(t,Object.assign(Object.assign({},Xw(t)),{token:e})),PI(t,{token:e.token})),e)),i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,tI(t,i),i.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Xw(t).isTokenAutoRefreshEnabled&&NI(r,"INTERNAL",()=>{}),r},!0),(0,Pb.u3)(function(t,e,n,r){let i=()=>{},s=()=>{};return i=null!=e.next?e.next.bind(e):e,null!=e.error?s=e.error.bind(e):n&&(s=n),NI(t,"EXTERNAL",i,s),()=>RI(t.app,i)},!0),(0,Pb.u3)(function(t,e){const n=t.app,r=Xw(n);r.tokenRefresher&&(!0===e?r.tokenRefresher.start():r.tokenRefresher.stop()),tI(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:e}))},!0),n(9001);const ZI=new r.OlP("angularfire2.auth.use-emulator"),BI=new r.OlP("angularfire2.auth.settings"),zI=new r.OlP("angularfire2.auth.tenant-id"),$I=new r.OlP("angularfire2.auth.langugage-code"),HI=new r.OlP("angularfire2.auth.use-device-language"),GI=new r.OlP("angularfire.auth.persistence"),KI=(t,e,n,r,i,s,o,a)=>(0,Wb.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))l.settings[t]=e;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let WI=(()=>{class t{constructor(t,e,r,i,s,o,a,l,c,u,h,d){const f=new Aw,p=Db(void 0).pipe((0,Tb.Q)(s.outsideAngular),Rw(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,3121)))),Mb(()=>(0,Wb.on)(t,i,e)),Mb(t=>KI(t,i,o,l,c,u,a,h)),Uw({bufferSize:1,refCount:!1}));if(U(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Db(null);else{p.pipe(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Kb(function(e,n){return t(e,n,r)}):Vb.y,Lw(1),n?jw(e):qw(function(){return new Vw}))}}()).subscribe();const t=p.pipe(Rw(t=>t.getRedirectResult().then(t=>t,()=>null)),Pb.iC,Uw({bufferSize:1,refCount:!1})),e=p.pipe(Rw(t=>new lb.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=p.pipe(Rw(t=>new lb.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe(Bw(e),(0,Sb.R)(s.outsideAngular),(0,Tb.Q)(s.insideAngular)),this.user=t.pipe(Bw(n),(0,Sb.R)(s.outsideAngular),(0,Tb.Q)(s.insideAngular)),this.idToken=this.user.pipe(Rw(t=>t?kb(t.getIdToken()):Db(null))),this.idTokenResult=this.user.pipe(Rw(t=>t?kb(t.getIdTokenResult()):Db(null))),this.credential=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nb(t),r=Rb(t,1/0),i=t;return i.length?1===i.length?Ib(i[0]):jb(r)(kb(i,n)):Nw}(t,f,this.authState.pipe(Kb(t=>!t))).pipe(Mb(t=>(null==t?void 0:t.user)?t:null),(0,Sb.R)(s.outsideAngular),(0,Tb.Q)(s.insideAngular))}return(0,Wb.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Wb.Dh),r.LFG(Wb.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Pb.HU),r.LFG(ZI,8),r.LFG(BI,8),r.LFG(zI,8),r.LFG($I,8),r.LFG(HI,8),r.LFG(GI,8),r.LFG(qI,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function QI(t,e){return function(t,e=ab.z){return new lb.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function YI(t,e){return QI(t,e).pipe(Mb(t=>({payload:t,type:"query"})))}function JI(t,e){return YI(t,e).pipe(Bb(void 0),zb(),Mb(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function XI(t,e,n){return JI(t,n).pipe(Hb((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return tE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return tE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tE(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),(void 0===i&&(i=Vb.y),r=null!=r?r:Gb,(0,Lb.e)(function(t,e){var n,s=!0;t.subscribe(new Fb.Q(e,function(t){var o=i(t);!s&&r(n,o)||(s=!1,n=o,e.next(t))}))})),Mb(t=>t.map(t=>({type:t.type,payload:t}))));var r,i}function tE(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function eE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,Wb.GT)(WI,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class nE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=JI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Mb(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Bb(void 0),zb(),Kb(([t,e])=>e.length>0||!t),Mb(([t,e])=>e),Pb.iC)}auditTrail(t){return this.stateChanges(t).pipe(Hb((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eE(t);return XI(this.query,e,this.afs.schedulers.outsideAngular).pipe(Pb.iC)}valueChanges(t={}){return YI(this.query,this.afs.schedulers.outsideAngular).pipe(Mb(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),Pb.iC)}get(t){return kb(this.query.get(t)).pipe(Pb.iC)}add(t){return this.ref.add(t)}doc(t){return new rE(this.ref.doc(t),this.afs)}}class rE{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=cE(n,e);return new nE(r,i,this.afs)}snapshotChanges(){return QI(this.ref,this.afs.schedulers.outsideAngular).pipe(Bb(void 0),zb(),Mb(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(Pb.iC)}valueChanges(t={}){return this.snapshotChanges().pipe(Mb(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return kb(this.ref.get(t)).pipe(Pb.iC)}}class iE{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?JI(this.query,this.afs.schedulers.outsideAngular).pipe(Mb(e=>e.filter(e=>t.indexOf(e.type)>-1)),Kb(t=>t.length>0),Pb.iC):JI(this.query,this.afs.schedulers.outsideAngular).pipe(Pb.iC)}auditTrail(t){return this.stateChanges(t).pipe(Hb((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eE(t);return XI(this.query,e,this.afs.schedulers.outsideAngular).pipe(Pb.iC)}valueChanges(t={}){return YI(this.query,this.afs.schedulers.outsideAngular).pipe(Mb(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),Pb.iC)}get(t){return kb(this.query.get(t)).pipe(Pb.iC)}}const sE=new r.OlP("angularfire2.enableFirestorePersistence"),oE=new r.OlP("angularfire2.firestore.persistenceSettings"),aE=new r.OlP("angularfire2.firestore.settings"),lE=new r.OlP("angularfire2.firestore.use-emulator");function cE(t,e=(t=>t)){return{query:e(t),ref:t}}let uE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){this.schedulers=o;const y=(0,Wb.on)(t,s,e),v=l;c&&KI(y,s,u,d,f,p,h,m),[this.firestore,this.persistenceEnabled$]=(0,Wb.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const t=s.runOutsideAngular(()=>y.firestore());if(r&&t.settings(r),v&&t.useEmulator(...v),n&&!U(i)){const e=()=>{try{return kb(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Db(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Db(!1)]},[r,v,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=cE(n,e),s=this.schedulers.ngZone.run(()=>r);return new nE(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new iE(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new rE(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Wb.Dh),r.LFG(Wb.xv,8),r.LFG(sE,8),r.LFG(aE,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Pb.HU),r.LFG(oE,8),r.LFG(lE,8),r.LFG(WI,8),r.LFG(ZI,8),r.LFG(BI,8),r.LFG(zI,8),r.LFG($I,8),r.LFG(HI,8),r.LFG(GI,8),r.LFG(qI,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),hE=(()=>{class t{constructor(t){this.afs=t}getRecentGuides(){return this.afs.collection("Guides",t=>t.orderBy("PublishDate","desc").limit(5)).valueChanges({idField:"ID"})}getRecentPosts(){return this.afs.collection("Posts",t=>t.orderBy("PublishDate","desc")).valueChanges({idField:"ID"})}getCategories(){return this.afs.collection("GuidesCategories").valueChanges({idField:"ID"})}getGuidesByCategory(t){return this.afs.collection("Guides",e=>e.where("CategoryName","==",t)).valueChanges({idField:"ID"})}getGuideByID(t){return this.afs.collection("Guides",e=>e.where(Av(),"==",t).limit(1)).valueChanges({idField:"ID"})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(uE))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class dE{}const fE="*";function pE(t,e){return{type:7,name:t,definitions:e,options:{}}}function mE(t,e=null){return{type:4,styles:e,timings:t}}function gE(t,e=null){return{type:2,steps:t,options:e}}function yE(t){return{type:6,styles:t,offset:null}}function vE(t,e,n){return{type:0,name:t,styles:e,options:n}}function _E(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function bE(t){Promise.resolve(null).then(t)}class wE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class IE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?bE(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function EE(){return"undefined"!=typeof window&&void 0!==window.document}function TE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function SE(t){switch(t.length){case 0:return new wE;case 1:return t[0];default:return new IE(t)}}function CE(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case fE:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function xE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&kE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&kE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&kE(n,"destroy",t)))}}function kE(t,e,n){const r=n.totalTime,i=AE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function AE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function OE(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function NE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let RE=(t,e)=>!1,DE=(t,e)=>!1,PE=(t,e,n)=>[];const LE=TE();(LE||"undefined"!=typeof Element)&&(RE=EE()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),DE=(()=>{if(LE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):DE}})(),PE=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let FE=null,ME=!1;function UE(t){FE||(FE=("undefined"!=typeof document?document.body:null)||{},ME=!!FE.style&&"WebkitAppearance"in FE.style);let e=!0;return FE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in FE.style,!e&&ME)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in FE.style),e}const VE=DE,jE=RE,qE=PE;function ZE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let BE=(()=>{class t{validateStyleProperty(t){return UE(t)}matchesElement(t,e){return VE(t,e)}containsElement(t,e){return jE(t,e)}query(t,e,n){return qE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new wE(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),zE=(()=>{class t{}return t.NOOP=new BE,t})();const $E="ng-enter",HE="ng-leave",GE="ng-trigger",KE=".ng-trigger",WE="ng-animating",QE=".ng-animating";function YE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:JE(parseFloat(e[1]),e[2])}function JE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function XE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=JE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=JE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function tT(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function eT(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else tT(t,n);return n}function nT(t,e,n){return n?e+":"+n+";":""}function rT(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=nT(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=nT(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function iT(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=dT(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),TE()&&rT(t))}function sT(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=dT(e);t.style[n]=""}),TE()&&rT(t))}function oT(t){return Array.isArray(t)?1==t.length?t[0]:gE(t):t}const aT=new RegExp("{{\\s*(.+?)\\s*}}","g");function lT(t){let e=[];if("string"==typeof t){let n;for(;n=aT.exec(t);)e.push(n[1]);aT.lastIndex=0}return e}function cT(t,e,n){const r=t.toString(),i=r.replace(aT,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function uT(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hT=/-+([a-z0-9])/g;function dT(t){return t.replace(hT,(...t)=>t[1].toUpperCase())}function fT(t,e){return 0===t||0===e}function pT(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=gT(t,e)})}}return e}function mT(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function gT(t,e){return window.getComputedStyle(t)[e]}const yT="*";function vT(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(wT(i,o)),"<"!=s[0]||i==yT&&o==yT||e.push(wT(o,i))}(t,n,e)):n.push(t),n}const _T=new Set(["true","1"]),bT=new Set(["false","0"]);function wT(t,e){const n=_T.has(t)||bT.has(t),r=_T.has(e)||bT.has(e);return(i,s)=>{let o=t==yT||t==i,a=e==yT||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?_T.has(t):bT.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?_T.has(e):bT.has(e)),o&&a}}const IT=new RegExp("s*:selfs*,?","g");function ET(t,e,n){return new TT(t).build(e,n)}class TT{constructor(t){this._driver=t}build(t,e){const n=new ST(e);return this._resetContextStyleTimingState(n),mT(this,oT(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(CT(t)){const e=t;Object.keys(e).forEach(t=>{lT(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=uT(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=mT(this,oT(t.animation),e);return{type:1,matchers:vT(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>mT(this,t,e)),options:xT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=mT(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return kT(XE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=kT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||XE(r,e),kT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:yE({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=yE(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==fE?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(CT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=lT(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(CT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(CT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:mT(this,oT(t.animation),e),options:xT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(IT,"")),[t=t.replace(/@\*/g,KE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,QE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,OE(e.collectedStyles,e.currentQuerySelector,{});const o=mT(this,oT(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:XE(t.timings,e.errors,!0);return{type:12,animation:mT(this,oT(t.animation),e),timings:n,options:null}}}class ST{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function CT(t){return!Array.isArray(t)&&"object"==typeof t}function xT(t){var e;return t?(t=tT(t)).params&&(t.params=(e=t.params)?tT(e):null):t={},t}function kT(t,e,n){return{duration:t,delay:e,easing:n}}function AT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class OT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const NT=new RegExp(":enter","g"),RT=new RegExp(":leave","g");function DT(t,e,n,r,i,s={},o={},a,l,c=[]){return(new PT).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class PT{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new OT;const u=new FT(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),mT(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[AT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?YE(n.duration):null,s=null!=n.delay?YE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),mT(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=LT);const t=YE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>mT(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?YE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),mT(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return XE(e.params?cT(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?YE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=LT);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),mT(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;mT(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const LT={};class FT{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new MT(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=YE(n.duration)),null!=n.delay&&(r.delay=YE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=cT(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new FT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=LT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new UT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(NT,"."+this._enterClassName)).replace(RT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class MT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new MT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fE,this._currentKeyframe[t]=fE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=fE})):eT(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=cT(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:fE),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=eT(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==fE&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?uT(t.values()):[],s=e.size?uT(e.values()):[];if(n){const t=r[0],e=tT(t);t.offset=0,e.offset=1,r=[t,e]}return AT(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class UT extends MT{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=eT(t[0],!1);a.offset=0,i.push(a);const l=eT(t[0],!1);l.offset=VT(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=eT(t[r],!1);o.offset=VT((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return AT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function VT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class jT{}class qT extends jT{normalizePropertyName(t,e){return dT(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ZT[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ZT=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function BT(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const zT={};class $T{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||zT,d=this.buildStyles(n,o&&o.params||zT,u),f=a&&a.params||zT,p=this.buildStyles(r,f,u),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},b=c?[]:DT(t,e,this.ast.animation,i,s,d,p,_,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return BT(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,r=OE(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=OE(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const I=uT(m.values());return BT(e,this._triggerName,n,r,v,d,p,b,I,g,y,w)}}class HT{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=tT(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=cT(s,r,e)),n[t]=s})}}),n}}class GT{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new HT(t.style,t.options&&t.options.params||{})}),KT(this.states,"true","1"),KT(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $T(t,e,this.states))}),this.fallbackTransition=new $T(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function KT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const WT=new OT;class QT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ET(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=CE(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=DT(this._driver,e,i,$E,HE,{},{},n,WT,r),s.forEach(t=>{const e=OE(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,fE)})});const a=SE(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=AE(e,"","","");return xE(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const YT="ng-animate-queued",JT="ng-animate-disabled",XT=".ng-animate-disabled",tS=[],eS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class rS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=tT(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const iS="void",sS=new rS(iS);class oS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=OE(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=OE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(fS(t,GE),fS(t,"ng-trigger-"+e),a[e]=sS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new lS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(fS(t,GE),fS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new rS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=sS),l.value!==iS&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{sT(t,n),iT(t,r)})}return}const c=OE(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(fS(t,YT),s.onStart(()=>{pS(t,YT)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,KE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,iS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&SE(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||sS,a=new rS(iS),l=new lS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==eS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){fS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=AE(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,xE(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class aS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new oS(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(cS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fS(t,JT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pS(t,JT))}removeNode(t,e,n,r){if(cS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return cS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,KE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,QE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return SE(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=eS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,XT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,XT,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)fS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?SE(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new OT,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=dS(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=$E+p++;f.set(e,n),t.forEach(t=>fS(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=dS(h,Array.from(g));_.forEach((t,e)=>{const n=HE+p++;v.set(e,n),t.forEach(t=>fS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>pS(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>pS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>sT(i,p.fromStyles)),e.onDestroy(()=>iT(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>sT(i,p.fromStyles)),e.onDestroy(()=>iT(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>OE(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const I=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{OE(I,e,[]).push(t),t.destroy()})});const T=m.filter(t=>yS(t,a,l)),S=new Map;hS(S,this.driver,y,l,fE).forEach(t=>{yS(t,a,l)&&T.push(t)});const C=new Map;d.forEach((t,e)=>{hS(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=S.get(t),n=C.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>iT(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,I,i,C,S);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=SE(e)),r.push(s)}}else sT(e,o.fromStyles),s.onDestroy(()=>iT(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=SE(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(pS(t,HE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,QE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?mS(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==iS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=OE(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}sT(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new wE(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return gS(t,e),e}((n.get(h)||tS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=CE(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&u.add(h),f){const e=new lS(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{OE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>fS(t,WE));const d=SE(h);return d.onDestroy(()=>{c.forEach(t=>pS(t,WE)),iT(a,e.toStyles)}),u.forEach(t=>{OE(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wE(t.duration,t.delay)}}class lS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new wE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>xE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){OE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cS(t){return t&&1===t.nodeType}function uS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(uS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=nS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>uS(t,s[a++])),o}function dS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function fS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function pS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function mS(t,e,n){SE(n).onDone(()=>t.processLeaveNode(e))}function gS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof IE?gS(r.players,e):e.push(r)}}function yS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class vS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new aS(t,e,n),this._timelineEngine=new QT(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ET(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new GT(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=NE(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=NE(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function _S(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wS(e[0]),e.length>1&&(r=wS(e[e.length-1]))):e&&(n=wS(e)),n||r?new bS(t,n,r):null}let bS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&iT(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(iT(this._element,this._initialStyles),this._endStyles&&(iT(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(sT(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sT(this._element,this._endStyles),this._endStyles=null),iT(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function wS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];IS(i)&&(e=e||{},e[i]=t[i])}return e}function IS(t){return"display"===t||"position"===t}const ES="animation",TS="animationend";class SS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=NS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),OS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){CS(this._element,this._name,"paused")}resume(){CS(this._element,this._name,"running")}setPosition(t){const e=xS(this._element,this._name);this._position=t*this._duration,OS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=NS(t,"").split(","),r=kS(n,e);r>=0&&(n.splice(r,1),OS(t,"",n.join(",")))}(this._element,this._name))}}function CS(t,e,n){OS(t,"PlayState",n,xS(t,e))}function xS(t,e){const n=NS(t,"");return n.indexOf(",")>0?kS(n.split(","),e):kS([n],e)}function kS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function AS(t,e,n){n?t.removeEventListener(TS,e):t.addEventListener(TS,e)}function OS(t,e,n,r){const i=ES+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function NS(t,e){return t.style[ES+e]||""}class RS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new SS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:gT(this.element,n))})}this.currentSnapshot=t}}class DS extends wE{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ZE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class PS{constructor(){this._count=0}validateStyleProperty(t){return UE(t)}matchesElement(t,e){return VE(t,e)}containsElement(t,e){return jE(t,e)}query(t,e,n){return qE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ZE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof RS),l={};fT(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=pT(t,e,l));if(0==n)return new DS(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=_S(t,e),f=new RS(t,e,u,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class LS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:gT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class FS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MS().toString()),this._cssKeyframesDriver=new PS}validateStyleProperty(t){return UE(t)}matchesElement(t,e){return VE(t,e)}containsElement(t,e){return jE(t,e)}query(t,e,n){return qE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof LS);fT(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=_S(t,e=pT(t,e=e.map(t=>eT(t,!1)),l));return new LS(t,e,a,u)}}function MS(){return EE()&&Element.prototype.animate||{}}let US=(()=>{class t extends dE{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?gE(t):t;return qS(this._renderer,null,e,"register",[n]),new VS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class VS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new jS(this._id,t,e||{},this._renderer)}}class jS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function qS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ZS="@",BS="@.disabled";let zS=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new $S("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new HS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(vS),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class $S{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ZS&&e==BS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class HS extends $S{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ZS?"."==e.charAt(1)&&e==BS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ZS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=ZS&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let GS=(()=>{class t extends vS{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(zE),r.LFG(jT))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const KS=new r.OlP("AnimationModuleType"),WS=[{provide:dE,useClass:US},{provide:jT,useFactory:function(){return new qT}},{provide:vS,useClass:GS},{provide:r.FYo,useFactory:function(t,e,n){return new zS(t,e,n)},deps:[st,vS,r.R0b]}],QS=[{provide:zE,useFactory:function(){return"function"==typeof MS()?new FS:new PS}},{provide:KS,useValue:"BrowserAnimations"},...WS],YS=[{provide:zE,useClass:BE},{provide:KS,useValue:"NoopAnimations"},...WS];let JS=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?YS:QS}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:QS,imports:[bt]}),t})();class XS extends Ne.w{constructor(t,e){super()}schedule(t,e=0){return this}}class tC extends XS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let eC=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class nC extends eC{constructor(t,e=eC.now){super(t,()=>nC.delegate&&nC.delegate!==this?nC.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return nC.delegate&&nC.delegate!==this?nC.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const rC=new nC(tC);class iC{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new sC(t,this.dueTime,this.scheduler))}}class sC extends Ot.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oC,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function oC(t){t.debouncedNext()}class aC{constructor(t){this.total=t}call(t,e){return e.subscribe(new lC(t,this.total))}}class lC extends Ot.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function cC(t,e){return n=>n.lift(new uC(t,e))}class uC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new hC(t,this.compare,this.keySelector))}}class hC extends Ot.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function dC(t){return e=>e.lift(new fC(t))}class fC{constructor(t){this.notifier=t}call(t,e){const n=new pC(t),r=(0,Gt.ft)(this.notifier,new Gt.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class pC extends Gt.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function mC(t){return null!=t&&"false"!=`${t}`}function gC(t){return t instanceof r.SBq?t.nativeElement:t}let yC;try{yC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Yy){yC=!1}let vC,_C=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})(),bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const wC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IC(){if(vC)return vC;if("object"!=typeof document||!document)return vC=new Set(wC),vC;let t=document.createElement("input");return vC=new Set(wC.filter(e=>(t.setAttribute("type",e),t.type===e))),vC}let EC,TC;function SC(t){return function(){if(null==EC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>EC=!0}))}finally{EC=EC||!1}return EC}()?t:!!t.capture}function CC(t){return t.composedPath?t.composedPath()[0]:t.target}let xC=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),kC=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=gC(t);return new Pt.y(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Ct.xQ,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(xC))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(xC))},token:t,providedIn:"root"}),t})(),AC=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mC(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=rC){return n=>n.lift(new iC(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kC),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),OC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[xC]}),t})();function NC(t){return 0===t.offsetX&&0===t.offsetY}function RC(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const DC=new r.OlP("cdk-input-modality-detector-options"),PC={ignoreKeys:[18,17,224,91,16]},LC=SC({passive:!0,capture:!0});let FC=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new kt(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=CC(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NC(t)?"keyboard":"mouse"),this._mostRecentTarget=CC(t))},this._onTouchstart=t=>{RC(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=CC(t))},this._options=Object.assign(Object.assign({},PC),r),this.modalityDetected=this._modality.pipe(t=>t.lift(new aC(1))),this.modalityChanged=this.modalityDetected.pipe(cC()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,LC),n.addEventListener("mousedown",this._onMousedown,LC),n.addEventListener("touchstart",this._onTouchstart,LC)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,LC),document.removeEventListener("mousedown",this._onMousedown,LC),document.removeEventListener("touchstart",this._onTouchstart,LC))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_C),r.LFG(r.R0b),r.LFG(o),r.LFG(DC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_C),r.LFG(r.R0b),r.LFG(o),r.LFG(DC,8))},token:t,providedIn:"root"}),t})();const MC=new r.OlP("cdk-focus-monitor-default-options"),UC=SC({passive:!0,capture:!0});let VC=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=CC(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=gC(t);if(!this._platform.isBrowser||1!==n.nodeType)return St(null);const r=function(t){if(function(){if(null==TC){const t="undefined"!=typeof document?document.head:null;TC=!(!t||!t.createShadowRoot&&!t.attachShadow)}return TC}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Ct.xQ,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=gC(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=gC(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=CC(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,UC),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,UC)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dC(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,UC),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,UC),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(_C),r.LFG(FC),r.LFG(o,8),r.LFG(MC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(_C),r.LFG(FC),r.LFG(o,8),r.LFG(MC,8))},token:t,providedIn:"root"}),t})();const jC="cdk-high-contrast-black-on-white",qC="cdk-high-contrast-white-on-black",ZC="cdk-high-contrast-active";let BC=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ZC),t.remove(jC),t.remove(qC),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(ZC),t.add(jC)):2===e&&(t.add(ZC),t.add(qC))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_C),r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_C),r.LFG(o))},token:t,providedIn:"root"}),t})();const zC=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let $C=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(zC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(zC,8))},token:t,providedIn:"root"}),t})(),HC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const GC=new r.GfV("12.2.13"),KC=new r.GfV("12.2.13"),WC=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let QC,YC=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,r.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&KC.full!==GC.full&&console.warn("The Angular Material version ("+KC.full+") does not match the Angular CDK version ("+GC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(BC),r.LFG(WC,8),r.LFG(o))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[HC],HC]}),t})();function JC(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mC(t)}}}function XC(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function tx(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mC(t)}}}function ex(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new Ct.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{QC="undefined"!=typeof Intl}catch(Yy){QC=!1}let nx=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function ix(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let sx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC],YC]}),t})();class ox{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ax={enterDuration:225,exitDuration:150},lx=SC({passive:!0}),cx=["mousedown","touchstart"],ux=["mouseup","mouseleave","touchend","touchcancel"];class hx{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gC(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},ax),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new ox(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},ax),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=gC(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(cx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ux),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=NC(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!RC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,lx)})})}_removeTriggerEvents(){this._triggerElement&&(cx.forEach(t=>{this._triggerElement.removeEventListener(t,this,lx)}),this._pointerUpEventsRegistered&&ux.forEach(t=>{this._triggerElement.removeEventListener(t,this,lx)}))}}const dx=new r.OlP("mat-ripple-global-options");let fx=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new hx(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(_C),r.Y36(dx,8),r.Y36(KS,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),px=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC,bC],YC]}),t})(),mx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC]]}),t})();const gx=["*",[["mat-card-footer"]]],yx=["*","mat-card-footer"],vx=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_x=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let bx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),wx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Ix=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),Ex=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(KS,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:yx,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(gx),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),Tx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:_x,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.F$t(vx),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})(),Sx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC],YC]}),t})();function Cx(t,e){if(1&t&&(r.TgZ(0,"mat-card",5),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"mat-card-content"),r._uU(7),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(3),r.Oqu(t.Title),r.xp6(2),r.Oqu(t.PublishDate.toDate()),r.xp6(2),r.hij(" ",t.Content," ")}}function xx(t,e){if(1&t&&(r.TgZ(0,"div",3),r.YNc(1,Cx,8,3,"mat-card",4),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.guides)}}function kx(t,e){if(1&t&&(r.TgZ(0,"mat-card",5),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"mat-card-content"),r._uU(7),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(3),r.Oqu(t.Title),r.xp6(2),r.Oqu(t.PublishDate.toDate()),r.xp6(2),r.hij(" ",t.Content," ")}}function Ax(t,e){if(1&t&&(r.TgZ(0,"div",6),r.YNc(1,kx,8,3,"mat-card",4),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.recentposts)}}let Ox=(()=>{class t{constructor(t){this.posts=t,this.guides=null,this.recentposts=null,this.posts.getRecentGuides().subscribe(t=>{this.guides=t}),this.posts.getRecentPosts().subscribe(t=>{this.recentposts=t})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(hE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container"],["class","recentGuides",4,"ngIf"],["class","recentPosts",4,"ngIf"],[1,"recentGuides"],["class","new-card",4,"ngFor","ngForOf"],[1,"new-card"],[1,"recentPosts"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,xx,2,1,"div",1),r.YNc(2,Ax,2,1,"div",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",null!=e.guides),r.xp6(1),r.Q6J("ngIf",null!=e.recentposts))},directives:[N,A,Ex,Tx,wx,Ix,bx],styles:[".container[_ngcontent-%COMP%]{width:100%}.new-card[_ngcontent-%COMP%]{width:50%;margin:5% auto auto;padding:30px}"]}),t})();const Nx=["*",[["mat-toolbar-row"]]],Rx=["*","mat-toolbar-row"],Dx=XC(class{constructor(t){this._elementRef=t}});let Px=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),Lx=(()=>{class t extends Dx{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(_C),r.Y36(o))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,Px,5),2&t){let t;r.iGM(t=r.CRH())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.ekj("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:Rx,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(Nx),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Fx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC],YC]}),t})();const Mx=["mat-button",""],Ux=["*"],Vx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],jx=XC(JC(tx(class{constructor(t){this._elementRef=t}})));let qx=(()=>{class t extends jx{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Vx)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(VC),r.Y36(KS,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Gf(fx,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.uIk("disabled",e.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Mx,ngContentSelectors:Ux,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&t&&(r.xp6(2),r.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[fx],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Zx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[px,YC],YC]}),t})();var Bx=n(2056);function zx(...t){if(1===t.length){const e=t[0];if((0,At.k)(e))return $x(e,null);if((0,Bx.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $x(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return $x(t=1===t.length&&(0,At.k)(t[0])?t[0]:t,null).pipe((0,Ht.U)(t=>e(...t)))}return $x(t,null)}function $x(t,e){return new Pt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,wt.D)(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var Hx=n(1055);class Gx{}class Kx{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Kx?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Kx;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Kx?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Wx{encodeKey(t){return Qx(t)}encodeValue(t){return Qx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qx(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Yx(t){return`${t}`}class Jx{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wx,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jx({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Yx(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Yx(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Xx{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function tk(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ek(t){return"undefined"!=typeof Blob&&t instanceof Blob}function nk(t){return"undefined"!=typeof FormData&&t instanceof FormData}class rk{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Kx),this.context||(this.context=new Xx),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Jx,this.urlWithParams=e}serializeBody(){return null===this.body?null:tk(this.body)||ek(this.body)||nk(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jx?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nk(this.body)?null:ek(this.body)?this.body.type||null:tk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jx?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new rk(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var ik=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class sk extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Kx,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ik.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sk({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function ok(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ak=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof rk)r=t;else{let i,s;i=n.headers instanceof Kx?n.headers:new Kx(n.headers),n.params&&(s=n.params instanceof Jx?n.params:new Jx({fromObject:n.params})),r=new rk(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=St(r).pipe(de(t=>this.handler.handle(t)));if(t instanceof rk||"events"===n.observe)return i;const s=i.pipe(se(t=>t instanceof sk));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,Ht.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Jx).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ok(n,e))}post(t,e,n={}){return this.request("POST",t,ok(n,e))}put(t,e,n={}){return this.request("PUT",t,ok(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gx))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lk=["*"];function ck(t){return Error(`Unable to find icon with the name "${t}"`)}function uk(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function hk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class dk{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let fk=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new dk(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw hk(n);return this._addSvgIconConfig(t,e,new dk("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new dk(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.q3G.HTML,e);if(!i)throw hk(e);return this._addSvgIconSetConfig(t,new dk("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!e)throw uk(t);const n=this._cachedIconsByUrl.get(e);return n?St(pk(n)):this._loadSvgIconFromConfig(new dk(t,null)).pipe(xe(t=>this._cachedIconsByUrl.set(e,t)),(0,Ht.U)(t=>pk(t)))}getNamedSvgIcon(t,e=""){const n=mk(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(s=ck(n),new Pt.y(t=>t.error(s)));var s}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?St(pk(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Ht.U)(t=>pk(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?St(n):zx(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(le(e=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),St(null)})))).pipe((0,Ht.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw ck(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(xe(e=>t.svgText=e),(0,Ht.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?St(null):this._fetchIcon(t).pipe(xe(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw uk(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Re(()=>this._inProgressUrlFetches.delete(o)),(0,Hx.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(mk(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new dk(i.url,null,i.options):new dk(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ak,8),r.LFG(mt),r.LFG(o,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ak,8),r.LFG(mt),r.LFG(o,8),r.LFG(r.qLn))},token:t,providedIn:"root"}),t})();function pk(t){return t.cloneNode(!0)}function mk(t,e){return t+":"+e}const gk=XC(class{constructor(t){this._elementRef=t}}),yk=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,r.f3M)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),vk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_k=vk.map(t=>`[${t}]`).join(", "),bk=/^url\(['"]?#(.*?)['"]?\)$/;let wk=(()=>{class t extends gk{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ne.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=mC(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(_k),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)vk.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(bk):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Jt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(fk),r.$8M("aria-hidden"),r.Y36(yk),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:lk,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Ik=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC],YC]}),t})();function Ek(t,e){1&t&&(r.TgZ(0,"p",13),r._uU(1,"Log In!"),r.qZA())}function Tk(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",14),r.NdJ("click",function(){return r.CHM(t),r.oxw().userButton()}),r.TgZ(1,"mat-icon"),r._uU(2,"account_circle"),r.qZA(),r.qZA()}}function Sk(t,e){if(1&t&&(r.TgZ(0,"p",13),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij("Welcome, ",t.getUser().Username,"")}}function Ck(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",14),r.NdJ("click",function(){return r.CHM(t),r.oxw().logOut()}),r.TgZ(1,"mat-icon"),r._uU(2,"exit_to_app"),r.qZA(),r.qZA()}}let xk=(()=>{class t{constructor(e,n){this.login=e,this.router=n,this.title="PIA",this.loggedIn=!1,t.user=kk.user}userButton(){null==kk.user&&this.router.navigate(["/Login"])}getUsername(){return t.user.Username}getUser(){return kk.user}logOut(){kk.user=null}}return t.user=null,t.\u0275fac=function(e){return new(e||t)(r.Y36(kk),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:22,vars:4,consts:[[2,"background-color","#206955","height","20%"],[2,"flex","1","flex-basis","70%"],["src","../assets/Logo.png",2,"height","100%"],[1,"example-spacer"],["style","color: white; margin: auto;",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[2,"background-color","#223f5d","flex","1","flex-basis","30%"],[2,"flex","1"],["mat-flat-button","","color","primary","routerLink","/",1,"navButton"],["mat-flat-button","","color","primary","routerLink","/Guides",1,"navButton"],["mat-flat-button","","color","primary","routerLink","/Forums",1,"navButton"],["mat-flat-button","","color","primary","routerLink","/Chatrooms",1,"navButton"],["mat-flat-button","","color","primary","routerLink","/AboutUs",1,"navButton"],[2,"color","white","margin","auto"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-toolbar",0),r.TgZ(1,"mat-toolbar-row",1),r._UZ(2,"img",2),r._UZ(3,"span",3),r.YNc(4,Ek,2,0,"p",4),r.YNc(5,Tk,3,0,"button",5),r.YNc(6,Sk,2,1,"p",4),r.YNc(7,Ck,3,0,"button",5),r.qZA(),r.TgZ(8,"mat-toolbar-row",6),r._UZ(9,"span",7),r.TgZ(10,"button",8),r._uU(11,"Home"),r.qZA(),r.TgZ(12,"button",9),r._uU(13,"Guides"),r.qZA(),r.TgZ(14,"button",10),r._uU(15,"Forums"),r.qZA(),r.TgZ(16,"button",11),r._uU(17,"Chatrooms"),r.qZA(),r.TgZ(18,"button",12),r._uU(19,"About Us"),r.qZA(),r._UZ(20,"span",7),r.qZA(),r.qZA(),r._UZ(21,"router-outlet")),2&t&&(r.xp6(4),r.Q6J("ngIf",null==e.getUser()),r.xp6(1),r.Q6J("ngIf",null==e.getUser()),r.xp6(1),r.Q6J("ngIf",null!=e.getUser()),r.xp6(1),r.Q6J("ngIf",null!=e.getUser()))},directives:[Lx,Px,N,qx,di,pi,wk],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navButton[_ngcontent-%COMP%]{height:100%;border-radius:0;background-color:#223f5d}"]}),t})(),kk=(()=>{class t{constructor(e,n){this.afs=e,this.router=n,t.user=null}login(e,n){let r=this.afs.collection("Users",t=>t.where("Username","==",e).where("password","==",n));return t.userObservable=r.valueChanges(),r.valueChanges().subscribe(e=>e.length>0?(t.user=e[0],xk.user=e[0],this.router.navigate(["/"]),xO.incorrectPassword=!1,!0):(xO.incorrectPassword=!0,!1)),!1}createUser(t,e){return this.afs.collection("Users",e=>e.where("Username","==",t)).valueChanges().subscribe(n=>n.length>0?(xO.userAlreadyExists=!0,!0):(this.afs.collection("Users").doc().set({Username:t,password:e}),xO.userAlreadyExists=!1,xO.creatingUser=!1,xO.userWasCreated=!0,!1)),!0}}return t.user=null,t.userObservable=null,t.\u0275fac=function(e){return new(e||t)(r.LFG(uE),r.LFG(hi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ak=n(1906);function Ok(t,e,n,r){return(0,Ce.m)(n)&&(r=n,n=void 0),r?Ok(t,e,n).pipe((0,Ht.U)(t=>(0,At.k)(t)?r(...t):r(t))):new Pt.y(r=>{Nk(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Nk(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Nk(t[s],e,n,r,i)}r.add(s)}const Rk=["underline"],Dk=["connectionContainer"],Pk=["inputContainer"],Lk=["label"];function Fk(t,e){1&t&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function Mk(t,e){1&t&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function Uk(t,e){if(1&t&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&t){const t=r.oxw(2);r.xp6(3),r.Oqu(t._control.placeholder)}}function Vk(t,e){1&t&&r.Hsn(0,3,["*ngSwitchCase","true"])}function jk(t,e){1&t&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function qk(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(t),r.oxw().updateOutlineGap()}),r.YNc(2,Uk,4,1,"ng-container",12),r.YNc(3,Vk,1,0,"ng-content",12),r.YNc(4,jk,2,0,"span",22),r.qZA()}if(2&t){const t=r.oxw();r.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.uIk("for",t._control.id)("aria-owns",t._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Zk(t,e){1&t&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function Bk(t,e){if(1&t&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function zk(t,e){if(1&t&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState)}}function $k(t,e){if(1&t&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.Q6J("id",t._hintLabelId),r.xp6(1),r.Oqu(t.hintLabel)}}function Hk(t,e){if(1&t&&(r.TgZ(0,"div",28),r.YNc(1,$k,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",t.hintLabel)}}const Gk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kk=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Wk=new r.OlP("MatError"),Qk={transitionMessages:pE("transitionMessages",[vE("enter",yE({opacity:1,transform:"translateY(0%)"})),_E("void => enter",[yE({opacity:0,transform:"translateY(-5px)"}),mE("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})();const Jk=new r.OlP("MatHint");let Xk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-label"]]}),t})(),tA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const eA=new r.OlP("MatPrefix"),nA=new r.OlP("MatSuffix");let rA=0;const iA=XC(class{constructor(t){this._elementRef=t}},"primary"),sA=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),oA=new r.OlP("MatFormField");let aA=(()=>{class t extends iA{constructor(t,e,n,r,i,s,o,a){super(t),this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ct.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rA++,this._labelId="mat-form-field-label-"+rA++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mC(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ee(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(dC(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(dC(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ak.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ee(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ee(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(dC(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ok(this._label.nativeElement,"transitionend").pipe(Jt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let t=0;t<o.length;t++)l+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36($C,8),r.Y36(sA,8),r.Y36(_C),r.Y36(r.R0b),r.Y36(KS,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,Yk,5),r.Suo(n,Yk,7),r.Suo(n,Xk,5),r.Suo(n,Xk,7),r.Suo(n,tA,5),r.Suo(n,Wk,5),r.Suo(n,Jk,5),r.Suo(n,eA,5),r.Suo(n,nA,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._controlNonStatic=t.first),r.iGM(t=r.CRH())&&(e._controlStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildNonStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildStatic=t.first),r.iGM(t=r.CRH())&&(e._placeholderChild=t.first),r.iGM(t=r.CRH())&&(e._errorChildren=t),r.iGM(t=r.CRH())&&(e._hintChildren=t),r.iGM(t=r.CRH())&&(e._prefixChildren=t),r.iGM(t=r.CRH())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Gf(Rk,5),r.Gf(Dk,7),r.Gf(Pk,5),r.Gf(Lk,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.underlineRef=t.first),r.iGM(t=r.CRH())&&(e._connectionContainerRef=t.first),r.iGM(t=r.CRH())&&(e._inputContainerRef=t.first),r.iGM(t=r.CRH())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:oA,useExisting:t}]),r.qOj],ngContentSelectors:Kk,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.F$t(Gk),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.YNc(3,Fk,9,0,"ng-container",3),r.YNc(4,Mk,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,qk,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,Zk,2,0,"div",9),r.qZA(),r.YNc(11,Bk,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,zk,2,1,"div",12),r.YNc(14,Hk,5,2,"div",13),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("ngIf","outline"==e.appearance),r.xp6(1),r.Q6J("ngIf",e._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",e._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",e._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=e.appearance),r.xp6(1),r.Q6J("ngSwitch",e._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[N,L,F,AC],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Qk.transitionMessages]},changeDetection:0}),t})(),lA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[M,YC,OC],YC]}),t})();const cA=SC({passive:!0});let uA=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Zt;const e=gC(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Ct.xQ,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,cA),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,cA)}}),r}stopMonitoring(t){const e=gC(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_C),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_C),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),hA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[bC]]}),t})(),dA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),fA=(()=>{class t extends dA{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const pA=new r.OlP("NgValueAccessor"),mA={provide:pA,useExisting:(0,r.Gpc)(()=>yA),multi:!0},gA=new r.OlP("CompositionEventMode");let yA=(()=>{class t extends dA{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(gA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([mA]),r.qOj]}),t})();const vA=new r.OlP("NgValidators"),_A=new r.OlP("NgAsyncValidators");function bA(t){return null!=t}function wA(t){const e=(0,r.QGY)(t)?(0,wt.D)(t):t;return(0,r.CqO)(e),e}function IA(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function EA(t,e){return e.map(e=>e(t))}function TA(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function SA(t){return null!=t?function(t){if(!t)return null;const e=t.filter(bA);return 0==e.length?null:function(t){return IA(EA(t,e))}}(TA(t)):null}function CA(t){return null!=t?function(t){if(!t)return null;const e=t.filter(bA);return 0==e.length?null:function(t){return zx(EA(t,e).map(wA)).pipe((0,Ht.U)(IA))}}(TA(t)):null}function xA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function kA(t){return t._rawValidators}function AA(t){return t._rawAsyncValidators}let OA=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),NA=(()=>{class t extends OA{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class RA extends OA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let DA=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(RA,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function PA(t,e){MA(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&VA(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&VA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function LA(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),UA(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function FA(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function MA(t,e){const n=kA(t);null!==e.validator?t.setValidators(xA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=AA(t);null!==e.asyncValidator?t.setAsyncValidators(xA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();FA(e._rawValidators,i),FA(e._rawAsyncValidators,i)}function UA(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=kA(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=AA(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return FA(e._rawValidators,r),FA(e._rawAsyncValidators,r),n}function VA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jA(t,e){MA(t,e)}function qA(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ZA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const BA="VALID",zA="INVALID",$A="PENDING",HA="DISABLED";function GA(t){return(YA(t)?t.validators:t)||null}function KA(t){return Array.isArray(t)?SA(t):t||null}function WA(t,e){return(YA(e)?e.asyncValidators:t)||null}function QA(t){return Array.isArray(t)?CA(t):t||null}function YA(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class JA{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=KA(this._rawValidators),this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===BA}get invalid(){return this.status===zA}get pending(){return this.status==$A}get disabled(){return this.status===HA}get enabled(){return this.status!==HA}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=KA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=QA(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$A,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=HA,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=BA,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==BA&&this.status!==$A||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?HA:BA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$A,this._hasOwnPendingAsyncValidator=!0;const e=wA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof tO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof eO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?HA:this.errors?zA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($A)?$A:this._anyControlsHaveStatus(zA)?zA:BA}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){YA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class XA extends JA{constructor(t=null,e,n){super(GA(e),WA(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class tO extends JA{constructor(t,e,n){super(GA(e),WA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof XA?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class eO extends JA{constructor(t,e,n){super(GA(e),WA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof XA?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const nO={provide:NA,useExisting:(0,r.Gpc)(()=>iO)},rO=(()=>Promise.resolve(null))();let iO=(()=>{class t extends NA{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new tO({},SA(t),CA(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rO.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),PA(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ZA(this._directives,t)})}addFormGroup(t){rO.then(()=>{const e=this._findContainer(t.path),n=new tO({});jA(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){rO.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,qA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(vA,10),r.Y36(_A,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([nO]),r.qOj]}),t})();const sO={provide:RA,useExisting:(0,r.Gpc)(()=>aO)},oO=(()=>Promise.resolve(null))();let aO=(()=>{class t extends RA{constructor(t,e,n,i){super(),this.control=new XA,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===yA?n=t:Object.getPrototypeOf(t.constructor)===fA?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){PA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){oO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;oO.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(NA,9),r.Y36(vA,10),r.Y36(_A,10),r.Y36(pA,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([sO]),r.qOj,r.TTD]}),t})(),lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const cO={provide:NA,useExisting:(0,r.Gpc)(()=>uO)};let uO=(()=>{class t extends NA{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return PA(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){LA(t.control||null,t,!1),ZA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,qA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(LA(e||null,t),n instanceof XA&&(PA(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);jA(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return UA(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MA(this.form,this),this._oldForm&&UA(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(vA,10),r.Y36(_A,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([cO]),r.qOj,r.TTD]}),t})(),hO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[lO]]}),t})(),dO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[hO]}),t})();const fO=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),pO=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let mO=0;const gO=ex(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});let yO=(()=>{class t extends gO{constructor(t,e,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+mO++,this.focused=!1,this.stateChanges=new Ct.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>IC().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mC(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=mC(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&IC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mC(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){pO.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(_C),r.Y36(RA,10),r.Y36(iO,8),r.Y36(uO,8),r.Y36(nx),r.Y36(fO,10),r.Y36(uA),r.Y36(r.R0b),r.Y36(oA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,e){1&t&&r.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Ikx("disabled",e.disabled)("required",e.required),r.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),r.ekj("mat-input-server",e._isServer)("mat-native-select-inline",e._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:Yk,useExisting:t}]),r.qOj,r.TTD]}),t})(),vO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[nx],imports:[[hA,lA,YC],hA,lA]}),t})();function _O(t,e){1&t&&(r.TgZ(0,"mat-card-title",3),r._uU(1,"Log In"),r.qZA())}function bO(t,e){1&t&&(r.TgZ(0,"mat-card-title",3),r._uU(1,"Create Account"),r.qZA())}function wO(t,e){1&t&&(r.TgZ(0,"p",12),r._uU(1,"User has been created!"),r.qZA())}function IO(t,e){1&t&&(r.TgZ(0,"p",13),r._uU(1,"Incorrect username or password!"),r.qZA())}function EO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-card-content",4),r.YNc(1,wO,2,0,"p",5),r.YNc(2,IO,2,0,"p",6),r.TgZ(3,"div",7),r.TgZ(4,"mat-form-field",8),r.TgZ(5,"mat-label"),r._uU(6,"Username"),r.qZA(),r.TgZ(7,"input",9),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().username=e}),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",8),r.TgZ(9,"mat-label"),r._uU(10,"Password"),r.qZA(),r.TgZ(11,"input",10),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().password=e}),r.qZA(),r.qZA(),r.TgZ(12,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().login()}),r._uU(13,"Login"),r.qZA(),r.TgZ(14,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().setCreatingUser(!0)}),r._uU(15,"Don't have a user? Create One!"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",1==t.userWasCreated()),r.xp6(1),r.Q6J("ngIf",1==t.isPasswordIncorrect()),r.xp6(5),r.Q6J("ngModel",t.username),r.xp6(4),r.Q6J("ngModel",t.password)}}function TO(t,e){1&t&&(r.TgZ(0,"p",13),r._uU(1,"That username is not available, choose another username!"),r.qZA())}function SO(t,e){1&t&&(r.TgZ(0,"p",13),r._uU(1,"Invalid username or password"),r.qZA())}function CO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-card-content",4),r.YNc(1,TO,2,0,"p",6),r.YNc(2,SO,2,0,"p",6),r.TgZ(3,"div",7),r.TgZ(4,"mat-form-field",8),r.TgZ(5,"mat-label"),r._uU(6,"Username"),r.qZA(),r.TgZ(7,"input",9),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().newUser=e}),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",8),r.TgZ(9,"mat-label"),r._uU(10,"Password"),r.qZA(),r.TgZ(11,"input",10),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().newPassword=e}),r.qZA(),r.qZA(),r.TgZ(12,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().createUser()}),r._uU(13,"Create Account"),r.qZA(),r.TgZ(14,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().setCreatingUser(!1)}),r._uU(15,"Already registered? Log in!"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",1==t.didUserExist()),r.xp6(1),r.Q6J("ngIf",1==t.invalidUserOrPassword),r.xp6(5),r.Q6J("ngModel",t.newUser),r.xp6(4),r.Q6J("ngModel",t.newPassword)}}let xO=(()=>{class t{constructor(e,n,r){this.afs=e,this.loginService=n,this.router=r,this.username="",this.password="",this.newUser="",this.newPassword="",this.invalidUserOrPassword=!1,t.creatingUser=!1,t.userWasCreated=!1,t.incorrectPassword=!1,t.userAlreadyExists=!1,this.invalidUserOrPassword=!1}ngOnInit(){}login(){t.userWasCreated=!1,this.loginService.login(this.username,this.password)}createUser(){t.userAlreadyExists=!1,this.isEmptyOrSpaces(this.newUser)||this.isEmptyOrSpaces(this.newPassword)?this.invalidUserOrPassword=!0:(this.loginService.createUser(this.newUser,this.newPassword),this.invalidUserOrPassword=!1)}isPasswordIncorrect(){return t.incorrectPassword}didUserExist(){return t.userAlreadyExists}creatingUser(){return t.creatingUser}userWasCreated(){return t.userWasCreated}setCreatingUser(e){this.invalidUserOrPassword=!1,t.creatingUser=e,t.incorrectPassword=!1}isEmptyOrSpaces(t){return null===t||null!==t.match(/^ *$/)||t.indexOf(" ")>=0}}return t.creatingUser=!1,t.userWasCreated=!1,t.incorrectPassword=!1,t.userAlreadyExists=!1,t.\u0275fac=function(e){return new(e||t)(r.Y36(uE),r.Y36(kk),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:5,vars:4,consts:[[1,"loginCard",2,"padding-top","20px"],["style","margin-bottom: 50px;",4,"ngIf"],["class","cardContent",4,"ngIf"],[2,"margin-bottom","50px"],[1,"cardContent"],["style","text-align: center;",4,"ngIf"],["style","text-align: center; color: orange;",4,"ngIf"],[1,"loginForm"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Username",3,"ngModel","ngModelChange"],["matInput","","placeholder","Password","type","password",3,"ngModel","ngModelChange"],["mat-flat-button","",1,"loginButton",3,"click"],[2,"text-align","center"],[2,"text-align","center","color","orange"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-card",0),r.YNc(1,_O,2,0,"mat-card-title",1),r.YNc(2,bO,2,0,"mat-card-title",1),r.YNc(3,EO,16,4,"mat-card-content",2),r.YNc(4,CO,16,4,"mat-card-content",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",0==e.creatingUser()),r.xp6(1),r.Q6J("ngIf",1==e.creatingUser()),r.xp6(1),r.Q6J("ngIf",0==e.creatingUser()),r.xp6(1),r.Q6J("ngIf",1==e.creatingUser()))},directives:[Ex,N,wx,bx,aA,Xk,yO,yA,DA,aO,qx],styles:[".loginCard[_ngcontent-%COMP%]{width:50%;min-height:50%;margin:10% auto auto;justify-content:center;align-content:center}.loginForm[_ngcontent-%COMP%]{width:50%;margin:auto}.full-width[_ngcontent-%COMP%]{width:100%}.loginButton[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.loginContainer[_ngcontent-%COMP%]{width:100vh;height:100vh}.cardContent[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex:1;justify-content:center;align-content:center}"]}),t})(),kO=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=mC(t)}get inset(){return this._inset}set inset(t){this._inset=mC(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-orientation",e.vertical?"vertical":"horizontal"),r.ekj("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),AO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[YC],YC]}),t})();const OO=["*"],NO=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],RO=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],DO=JC(tx(class{})),PO=tx(class{}),LO=new r.OlP("MatList"),FO=new r.OlP("MatNavList");let MO=(()=>{class t extends DO{constructor(t){super(),this._elementRef=t,this._stateChanges=new Ct.xQ,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r._Bn([{provide:LO,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:OO,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),UO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),VO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),jO=(()=>{class t extends PO{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Ct.xQ,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(dC(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=mC(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(ee(t)).subscribe(({length:t})=>{ix(e,`${n}-2-line`,!1),ix(e,`${n}-3-line`,!1),ix(e,`${n}-multi-line`,!1),2===t||3===t?ix(e,`${n}-${t}-line`,!0):t>3&&ix(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(FO,8),r.Y36(LO,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,UO,5),r.Suo(n,VO,5),r.Suo(n,rx,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._avatar=t.first),r.iGM(t=r.CRH())&&(e._icon=t.first),r.iGM(t=r.CRH())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&r.ekj("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.qOj],ngContentSelectors:RO,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(r.F$t(NO),r.TgZ(0,"div",0),r._UZ(1,"div",1),r.Hsn(2),r.TgZ(3,"div",2),r.Hsn(4,1),r.qZA(),r.Hsn(5,2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[fx],encapsulation:2,changeDetection:0}),t})(),qO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[sx,px,YC,mx,M],sx,YC,mx,AO]}),t})();function ZO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",3),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().openCategory(e.Category)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t.Category)}}let BO=(()=>{class t{constructor(t,e){this.posts=t,this.router=e,this.posts.getCategories().subscribe(t=>{this.categories=t,console.log(t)})}ngOnInit(){}openCategory(t){this.router.navigate(["Category",{category:t}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(hE),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-guides"]],decls:8,vars:1,consts:[[1,"container"],[1,"guidesCard"],["class","categoryItem",3,"click",4,"ngFor","ngForOf"],[1,"categoryItem",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4,"Categories"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-content"),r.TgZ(6,"mat-list"),r.YNc(7,ZO,2,1,"li",2),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("ngForOf",e.categories))},directives:[Ex,Tx,wx,bx,MO,A],styles:[".categoryItem[_ngcontent-%COMP%]:hover{background-color:#6d58a3;cursor:pointer}.categoryItem[_ngcontent-%COMP%]{padding:10px}.guidesCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})(),zO=(()=>{class t{constructor(t){this.afs=t}getForums(){return this.afs.collection("Forums").valueChanges({idField:"ID"})}getThreadsByForum(t){return this.afs.collection("Threads",e=>e.where("ForumName","==",t)).valueChanges({idField:"ID"})}getThreadByID(t){return this.afs.collection("Threads",e=>e.where(Av(),"==",t)).valueChanges({idField:"ID"})}getPostsByThreadId(t){return this.afs.collection("ForumPosts",e=>e.where("ThreadID","==",t).orderBy("Date","asc")).valueChanges({idField:"ID"})}createPost(t,e){this.afs.collection("ForumPosts").doc().set({Content:t,Author:kk.user.Username,ThreadID:e,Date:new Date})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(uE))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $O(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",3),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().openForum(e.ForumName)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t.ForumName)}}let HO=(()=>{class t{constructor(t,e){this.forumsService=t,this.router=e,this.forums=null,this.forumsService.getForums().subscribe(t=>{this.forums=t})}ngOnInit(){}openForum(t){this.router.navigate(["Forum",{forum:t}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(zO),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-forums"]],decls:8,vars:1,consts:[[1,"container"],[1,"forumCard"],["class","forumItem",3,"click",4,"ngFor","ngForOf"],[1,"forumItem",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4,"Forums"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-content"),r.TgZ(6,"mat-list"),r.YNc(7,$O,2,1,"li",2),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("ngForOf",e.forums))},directives:[Ex,Tx,wx,bx,MO,A],styles:[".forumItem[_ngcontent-%COMP%]:hover{background-color:#6d58a3;cursor:pointer}.forumItem[_ngcontent-%COMP%]{padding:10px}.forumCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})(),GO=(()=>{class t{constructor(t){this.afs=t}getRecentMessages(){return this.afs.collection("Chatroom",t=>t.orderBy("Date","asc")).valueChanges({idField:"ID"})}updateMessages(t){return this.afs.collection("Chatroom",e=>e.where("Date",">",t)).valueChanges({idField:"ID"})}sendMessage(t){this.afs.collection("Chatroom").doc().set({Message:t,Author:kk.user.Username,Date:new Date})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(uE))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function KO(t,e){if(1&t&&(r.TgZ(0,"div",9),r.TgZ(1,"div",10),r._uU(2),r.qZA(),r.TgZ(3,"p",11),r._uU(4),r.qZA(),r.TgZ(5,"p",12),r._uU(6),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(2),r.hij("By: ",t.Author,""),r.xp6(2),r.Oqu(t.Message),r.xp6(2),r.Oqu(t.Date.toDate())}}function WO(t,e){if(1&t&&(r.TgZ(0,"div",13),r.TgZ(1,"div",10),r._uU(2),r.qZA(),r.TgZ(3,"p",11),r._uU(4),r.qZA(),r.TgZ(5,"p",12),r._uU(6),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(2),r.hij("By: ",t.Author,""),r.xp6(2),r.Oqu(t.Message),r.xp6(2),r.Oqu(t.Date.toDate())}}function QO(t,e){if(1&t&&(r.TgZ(0,"div",6),r.YNc(1,KO,7,3,"div",7),r.YNc(2,WO,7,3,"div",8),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=n.user&&n.user.Username==t.Author),r.xp6(1),r.Q6J("ngIf",null==n.user||n.user.Username!=t.Author)}}function YO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",14),r.TgZ(1,"textarea",15),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().newMessage=e}),r.qZA(),r.TgZ(2,"button",16),r.NdJ("click",function(){return r.CHM(t),r.oxw().sendMessage()}),r._uU(3,"Send"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngModel",t.newMessage)}}function JO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",6),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).openGuide(e.ID)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t.Title)}}function XO(t,e){1&t&&(r.TgZ(0,"p",7),r._uU(1,"Currently there are no guides for this category."),r.qZA())}function tN(t,e){if(1&t&&(r.TgZ(0,"div",1),r.TgZ(1,"mat-card",2),r.TgZ(2,"button",3),r.TgZ(3,"mat-icon"),r._uU(4,"keyboard_backspace"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-header"),r._UZ(6,"mat-card-title"),r.qZA(),r.TgZ(7,"mat-card-content"),r.TgZ(8,"mat-list"),r.YNc(9,JO,2,1,"li",4),r.qZA(),r.YNc(10,XO,2,0,"p",5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(9),r.Q6J("ngForOf",t.guides),r.xp6(1),r.Q6J("ngIf",t.guides.length<1)}}function eN(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"mat-card",2),r.TgZ(2,"button",3),r.NdJ("click",function(){return r.CHM(t),r.oxw().goToCategory()}),r.TgZ(3,"mat-icon"),r._uU(4,"keyboard_backspace"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-header"),r.TgZ(6,"mat-card-title"),r._uU(7),r.qZA(),r.TgZ(8,"mat-card-subtitle"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-content"),r._uU(11),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.Oqu(t.guide.Title),r.xp6(2),r.Oqu(t.guide.PublishDate.toDate()),r.xp6(2),r.hij(" ",t.guide.Content," ")}}function nN(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().openThread(e.ID)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t.Title)}}function rN(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"mat-list-item"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r._UZ(4,"span",6),r.TgZ(5,"div"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"mat-divider"),r.qZA()),2&t){const t=e.$implicit;r.xp6(3),r.hij("Author: ",t.Author,""),r.xp6(3),r.Oqu(t.Content)}}function iN(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"textarea",8),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw(2).newPost=e}),r.qZA(),r.TgZ(2,"button",9),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).createPost()}),r._uU(3,"Send"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngModel",t.newPost)}}function sN(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-card",2),r.TgZ(1,"button",3),r.NdJ("click",function(){return r.CHM(t),r.oxw().goToForum()}),r.TgZ(2,"mat-icon"),r._uU(3,"keyboard_backspace"),r.qZA(),r.qZA(),r.TgZ(4,"mat-card-header"),r.TgZ(5,"mat-card-title"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"mat-card-content"),r.TgZ(8,"mat-list"),r.YNc(9,rN,8,2,"div",4),r.qZA(),r.YNc(10,iN,4,1,"div",5),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(6),r.Oqu(t.thread.Title),r.xp6(3),r.Q6J("ngForOf",t.posts),r.xp6(1),r.Q6J("ngIf",null!=t.user&&null!=t.user.Username)}}const oN=[{path:"",component:Ox},{path:"Login",component:xO},{path:"Guides",component:BO},{path:"Forums",component:HO},{path:"Chatrooms",component:(()=>{class t{constructor(t,e){this.chatroomService=t,this.loginService=e,this.user=null,this.newMessage="",this.user=kk.user,this.sub=this.chatroomService.getRecentMessages().subscribe(t=>{this.messages=t})}ngOnInit(){}ngOnDestroy(){this.sub.unsubscribe()}sendMessage(){""!=this.newMessage&&(this.chatroomService.sendMessage(this.newMessage),this.newMessage="")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GO),r.Y36(kk))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-chatrooms"]],decls:9,vars:2,consts:[[1,"container"],[1,"chatroomCard",2,"max-height","70%"],[2,"background-color","#7591adF0"],[2,"max-height","500px","overflow-y","scroll","padding","5px"],["style","width: 100%;",4,"ngFor","ngForOf"],["style","width: 100%; margin: auto; display: flex; justify-content: center; align-items: center; height: 20%;",4,"ngIf"],[2,"width","100%"],["style","background-color: #223f5d; width: 50%; max-width: 50%; float: right; clear: both; margin-bottom: 15px; border-radius: 10px; padding: 5px;",4,"ngIf"],["style","background-color: #6d58a3; width: 50%; max-width: 50%; float: left; clear: both; margin-bottom: 15px; border-radius: 10px; padding: 5px;",4,"ngIf"],[2,"background-color","#223f5d","width","50%","max-width","50%","float","right","clear","both","margin-bottom","15px","border-radius","10px","padding","5px"],[2,"text-align","left","color","white","font-size","x-small","margin-bottom","1px"],[2,"text-align","left","width","100%"],[2,"text-align","right","color","white","font-size","x-small","margin-bottom","1px"],[2,"background-color","#6d58a3","width","50%","max-width","50%","float","left","clear","both","margin-bottom","15px","border-radius","10px","padding","5px"],[2,"width","100%","margin","auto","display","flex","justify-content","center","align-items","center","height","20%"],[2,"margin-top","10px","width","100%","display","inline-block","resize","none","height","100%","background-color","#223f5dAA","color","white",3,"ngModel","ngModelChange"],["mat-flat-button","",2,"margin-top","10px","width","100%","height","100%","display","inline-block","flex","1 1 20%","background-color","#6d58a3",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4,"Chatroom"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-content",2),r.TgZ(6,"div",3),r.YNc(7,QO,3,2,"div",4),r.qZA(),r.YNc(8,YO,4,1,"div",5),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("ngForOf",e.messages),r.xp6(1),r.Q6J("ngIf",null!=e.user&&null!=e.user.Username))},directives:[Ex,Tx,wx,bx,A,N,yA,DA,aO,qx],styles:[".chatroomCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:8% auto auto;padding:40px}"]}),t})()},{path:"AboutUs",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-about-us"]],decls:30,vars:0,consts:[[1,"container",2,"width","100%"],[1,"aboutUsCard"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4,"About Us"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-content"),r.TgZ(6,"p"),r._uU(7," BrokenThorn Entertainment, Co. is a software company that specializes in game development and system software. We understand the importance of learning and spreading knowledge. We are commited to providing the best resources available for developers and community members. "),r.qZA(),r.TgZ(8,"p"),r._uU(9," BrokenThorn Entertainment was first created under the domain name "),r.TgZ(10,"b"),r._uU(11,"http://mt2002.sitesled.com"),r.qZA(),r._uU(12,". This was to be a basic hosting ground for our in house game engines and software applications. "),r.qZA(),r.TgZ(13,"p"),r._uU(14," BrokenThorn Entertainment Co. begun as a hosting website for our franchise OS Development Series of tutorials and resources. We have recieved great support and positive feedback on our tutorials and resources. Through great support, we wanted to provide better support and resources to the tutorials, and help bring this community closer together. "),r.qZA(),r.TgZ(15,"p"),r._uU(16," In this process of doing so, we have brought a new domain name: "),r.TgZ(17,"b"),r._uU(18,"http://www.brokenthorn.com"),r.qZA(),r._uU(19,", and redesigned the company web site. The new design was originally created by Greg Jarzab (\xa9 2007). It was remodeled a little to help support the sites visitors. "),r.qZA(),r.TgZ(20,"p"),r._uU(21," BrokenThorn Entertainment is a "),r.TgZ(22,"b"),r._uU(23,"Partnership Company"),r.qZA(),r._uU(24," under two primary owners. "),r.qZA(),r.TgZ(25,"p"),r._uU(26," BrokenThorn Entertainment values learning and spreading knowledge and information. Because of this, we provide alot of resources for free. We also provide commercial products and services for company and cooperate uses, such as "),r.TgZ(27,"b"),r._uU(28,"EvolutionEngine"),r.qZA(),r._uU(29,". "),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[Ex,Tx,wx,bx],styles:[".aboutUsCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})()},{path:"Category",component:(()=>{class t{constructor(t,e,n){this.route=t,this.posts=e,this.router=n,this.category=this.route.snapshot.paramMap.get("category"),this.posts.getGuidesByCategory(this.category).subscribe(t=>{this.guides=t})}ngOnInit(){}openGuide(t){this.router.navigate(["Guide",{guide:t}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Bn),r.Y36(hE),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-category"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"guidesCard"],["mat-icon-button","","routerLink","/Guides",2,"margin-bottom","10px"],["class","guideItem",3,"click",4,"ngFor","ngForOf"],["style","text-align: center; color: orange;",4,"ngIf"],[1,"guideItem",3,"click"],[2,"text-align","center","color","orange"]],template:function(t,e){1&t&&r.YNc(0,tN,11,2,"div",0),2&t&&r.Q6J("ngIf",e.guides)},directives:[N,Ex,qx,di,wk,Tx,wx,bx,MO,A],styles:[".guideItem[_ngcontent-%COMP%]:hover{background-color:#6d58a3;cursor:pointer}.guideItem[_ngcontent-%COMP%]{padding:10px}.guidesCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})()},{path:"Guide",component:(()=>{class t{constructor(t,e,n){this.posts=t,this.route=e,this.router=n,this.guide=this.route.snapshot.paramMap.get("guide"),this.posts.getGuideByID(this.guide).subscribe(t=>{this.guide=t[0]})}ngOnInit(){}goToCategory(){this.router.navigate(["Category",{category:this.guide.CategoryName}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(hE),r.Y36(Bn),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-guide"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"guidesCard"],["mat-icon-button","",2,"margin-bottom","10px",3,"click"]],template:function(t,e){1&t&&r.YNc(0,eN,12,3,"div",0),2&t&&r.Q6J("ngIf",null!=e.guide)},directives:[N,Ex,qx,wk,Tx,wx,Ix,bx],styles:[".guidesCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})()},{path:"Forum",component:(()=>{class t{constructor(t,e,n){this.route=t,this.forumsService=e,this.router=n,this.forum=this.route.snapshot.paramMap.get("forum"),this.forumsService.getThreadsByForum(this.forum).subscribe(t=>{this.threads=t,console.log(t)})}ngOnInit(){}openThread(t){this.router.navigate(["Thread",{thread:t}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Bn),r.Y36(zO),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-forum"]],decls:11,vars:1,consts:[[1,"container"],[1,"forumCard"],["mat-icon-button","","routerLink","/Forums",2,"margin-bottom","10px"],["class","threadItem",3,"click",4,"ngFor","ngForOf"],[1,"threadItem",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"button",2),r.TgZ(3,"mat-icon"),r._uU(4,"keyboard_backspace"),r.qZA(),r.qZA(),r.TgZ(5,"mat-card-header"),r.TgZ(6,"mat-card-title"),r._uU(7,"Threads"),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-content"),r.TgZ(9,"mat-list"),r.YNc(10,nN,2,1,"li",3),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(10),r.Q6J("ngForOf",e.threads))},directives:[Ex,qx,di,wk,Tx,wx,bx,MO,A],styles:[".threadItem[_ngcontent-%COMP%]:hover{background-color:#6d58a3;cursor:pointer}.threadItem[_ngcontent-%COMP%]{padding:10px}.forumCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})()},{path:"Thread",component:(()=>{class t{constructor(t,e,n){this.route=t,this.forumsService=e,this.router=n,this.newPost="",this.user=kk.user,this.threadID=this.route.snapshot.paramMap.get("thread"),this.forumsService.getThreadByID(this.threadID).subscribe(t=>{this.thread=t[0]}),this.forumsService.getPostsByThreadId(this.threadID).subscribe(t=>{this.posts=t})}ngOnInit(){}createPost(){""!=this.newPost&&this.forumsService.createPost(this.newPost,this.threadID)}goToForum(){this.router.navigate(["Forum",{forum:this.thread.ForumName}])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Bn),r.Y36(zO),r.Y36(hi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-thread"]],decls:2,vars:1,consts:[[1,"container"],["class","threadCard",4,"ngIf"],[1,"threadCard"],["mat-icon-button","",2,"margin-bottom","10px",3,"click"],[4,"ngFor","ngForOf"],["style","width: 100%; margin: auto; display: flex; justify-content: center; align-items: center; height: 20%;",4,"ngIf"],[2,"flex","1"],[2,"width","100%","margin","auto","display","flex","justify-content","center","align-items","center","height","20%"],[2,"margin-top","10px","width","100%","display","inline-block","resize","none","height","100%","background-color","#223f5dAA","color","white",3,"ngModel","ngModelChange"],["mat-flat-button","",2,"margin-top","10px","width","100%","height","100%","display","inline-block","flex","1 1 20%","background-color","#6d58a3",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,sN,11,3,"mat-card",1),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",null!=e.thread&&null!=e.posts))},directives:[N,Ex,qx,wk,Tx,wx,bx,MO,A,jO,kO,yA,DA,aO],styles:[".threadCard[_ngcontent-%COMP%]{width:80%;max-width:80%;margin:10% auto auto;padding:40px}"]}),t})()}];let aN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ti.forRoot(oN)],Ti]}),t})();var lN=n(1504);function cN(t){return new Pt.y(function(e){return{unsubscribe:(0,lN.q)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}const uN="auth";class hN{constructor(){return(0,Pb.vb)(uN)}}function dN(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}zw(0,300).pipe($w(()=>kb((0,Pb.vb)(uN))),Gw()),new r.OlP("angularfire2.auth-instances"),new r.FiY,new r.FiY,(0,Pb.u3)(function(t){return new Pt.y(function(e){return{unsubscribe:(0,lN.t)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})},!0),(0,Pb.u3)(cN,!0),(0,Pb.u3)(function(t){return cN(t).pipe(Kt(function(t){return t?(0,wt.D)((0,lN.ah)(t)):St(null)}))},!0),(0,Pb.u3)(lN.a1,!0),(0,Pb.u3)(lN.a2,!0),(0,Pb.u3)(lN.a0,!0),(0,Pb.u3)(lN.E,!0),(0,Pb.u3)(lN.a4,!0),(0,Pb.u3)(lN.y,!0),(0,Pb.u3)(lN.a9,!0),(0,Pb.u3)(lN.ak,!0),(0,Pb.u3)(lN.n,!0),(0,Pb.u3)(lN.ah,!0),(0,Pb.u3)(lN.ai,!0),(0,Pb.u3)(lN.am,!0),(0,Pb.u3)(lN.j,!0),(0,Pb.u3)(lN.D,!0),(0,Pb.u3)(lN.a7,!0),(0,Pb.u3)(lN.Y,!0),(0,Pb.u3)(lN.l,!0),(0,Pb.u3)(lN.d,!0),(0,Pb.u3)(lN.g,!0),(0,Pb.u3)(lN.an,!0),(0,Pb.u3)(lN.t,!0),(0,Pb.u3)(lN.q,!0),(0,Pb.u3)(lN.ad,!0),(0,Pb.u3)(lN.Z,!0),(0,Pb.u3)(lN.r,!0),(0,Pb.u3)(lN.e,!0),(0,Pb.u3)(lN.h,!0),(0,Pb.u3)(lN.al,!0),(0,Pb.u3)(lN.aa,!0),(0,Pb.u3)(lN.$,!0),(0,Pb.u3)(lN.a6,!0),(0,Pb.u3)(lN.p,!0),(0,Pb.u3)(lN.W,!0),(0,Pb.u3)(lN.X,!0),(0,Pb.u3)(lN._,!0),(0,Pb.u3)(lN.a5,!0),(0,Pb.u3)(lN.a8,!0),(0,Pb.u3)(lN.s,!0),(0,Pb.u3)(lN.c,!0),(0,Pb.u3)(lN.f,!0),(0,Pb.u3)(lN.x,!0),(0,Pb.u3)(lN.aj,!0),(0,Pb.u3)(lN.w,!0),(0,Pb.u3)(lN.af,!0),(0,Pb.u3)(lN.ag,!0),(0,Pb.u3)(lN.u,!0),(0,Pb.u3)(lN.ae,!0),(0,Pb.u3)(lN.v,!0),(0,Pb.u3)(lN.ab,!0),(0,Pb.u3)(lN.a3,!0);var fN=n(6541);class pN{call(t,e){return e.subscribe(new mN(t))}}class mN extends Ot.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var gN={includeMetadataChanges:!1};function yN(t,e){return void 0===e&&(e=gN),new Pt.y(function(n){return{unsubscribe:Q_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function vN(t){return yN(t,{includeMetadataChanges:!0})}function _N(t,e){void 0===e&&(e={});var n=t.data();return t.exists()&&"object"==typeof n&&null!==n?(e.idField&&(n[e.idField]=t.id),n):n}var bN=["added","modified","removed"];function wN(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=t.slice();return s.splice.apply(s,dN([e,n],r)),s}var IN=function(){return(0,fN.z)(ee(void 0),t=>t.lift(new pN))},EN=function(t,e){return JSON.stringify(t.metadata)===JSON.stringify(e.metadata)};function TN(t,e){return void 0===e&&(e={}),yN(t,{includeMetadataChanges:!0}).pipe(IN(),(0,Ht.U)(function(t){var e=t[0],n=t[1],r=n.docChanges();return e&&!EN(e,n)&&n.docs.forEach(function(t,n){var i=r.find(function(e){return uv(e.doc.ref,t.ref)});if(i){if(EN(i.doc,t))return}else{var s=null==e?void 0:e.docs.find(function(e){return uv(e.ref,t.ref)});if(s&&EN(s,t))return}r.push({oldIndex:n,newIndex:n,type:"modified",doc:t})}),r}),(n=e.events||bN,se(function(t){for(var e=!1,r=0;r<t.length;r++)if(n&&n.indexOf(t[r].type)>=0){e=!0;break}return e})),(0,fN.z)(IN(),se(function(t){return t[1].length>0||void 0===t[0]}),(0,Ht.U)(function(t){return t[1]})));var n}function SN(t){return yN(t,{includeMetadataChanges:!0}).pipe((0,Ht.U)(function(t){return t.docs}))}class CN{constructor(t){return t}}const xN="firestore";zw(0,300).pipe($w(()=>kb((0,Pb.vb)(xN))),Gw());const kN=new r.OlP("angularfire2.firestore-instances");function AN(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new CN(r)}}const ON={provide:class{constructor(){return(0,Pb.vb)(xN)}},deps:[[new r.FiY,kN]]},NN={provide:CN,useFactory:function(t,e){const n=(0,Pb.JM)(xN,t,e);return n&&new CN(n)},deps:[[new r.FiY,kN],class{constructor(t){return t}}]};let RN=(()=>{class t{constructor(){(0,Kw.KN)("angularfire",Pb.q4.full,"fst")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[NN,ON]}),t})();function DN(t,...e){return{ngModule:RN,providers:[{provide:kN,useFactory:AN(t),multi:!0,deps:[r.R0b,r.zs3,Pb.HU,Ww,[new r.FiY,hN],[new r.FiY,qI],...e]}]}}(0,Pb.u3)(TN,!0),(0,Pb.u3)(SN,!0),(0,Pb.u3)(function(t,e){return void 0===e&&(e={}),TN(t,e).pipe(ne(function(t,n){return function(t,e,n){return void 0===n&&(n=bN),e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!uv(t[e.newIndex].doc.ref,e.doc.ref))return wN(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||uv(t[e.oldIndex].doc.ref,e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return wN(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&uv(t[e.oldIndex].doc.ref,e.doc.ref))return wN(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n,e.events)},[]),cC())},!0),(0,Pb.u3)(function(t,e){return void 0===e&&(e={}),TN(t,e).pipe(ne(function(t,e){return dN(dN([],t),e)},[]))},!0),(0,Pb.u3)(function(t,e){return void 0===e&&(e={}),SN(t).pipe((0,Ht.U)(function(t){return t.map(function(t){return _N(t,e)})}))},!0),(0,Pb.u3)(vN,!0),(0,Pb.u3)(function(t,e){return void 0===e&&(e={}),vN(t).pipe((0,Ht.U)(function(t){return _N(t,e)}))},!0),(0,Pb.u3)(_N,!0),(0,Pb.u3)(yN,!0),(0,Pb.u3)(W_,!0),(0,Pb.u3)(sb,!0),(0,Pb.u3)(ib,!0),(0,Pb.u3)(wv,!0),(0,Pb.u3)(av,!0),(0,Pb.u3)(lv,!0),(0,Pb.u3)(rv,!0),(0,Pb.u3)(K_,!0),(0,Pb.u3)(nb,!0),(0,Pb.u3)(Tv,!0),(0,Pb.u3)(cv,!0),(0,Pb.u3)(Av,!0),(0,Pb.u3)(vv,!0),(0,Pb.u3)(_v,!0),(0,Pb.u3)(Ev,!0),(0,Pb.u3)(A_,!0),(0,Pb.u3)(k_,!0),(0,Pb.u3)(V_,!0),(0,Pb.u3)(q_,!0),(0,Pb.u3)(Z_,!0),(0,Pb.u3)(B_,!0),(0,Pb.u3)(z_,!0),(0,Pb.u3)($_,!0);const PN=(0,Pb.u3)(function(t=(0,Li.getApp)()){return(0,Li._getProvider)(t,"firestore").getImmediate()},!0);(0,Pb.u3)(ob,!0),(0,Pb.u3)(function(t,e){const n=(0,Li._getProvider)(t,"firestore");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,Ui.vZ)(r,e))return t;throw new oc(sc.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oc(sc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e})},!0),(0,Pb.u3)(I_,!0),(0,Pb.u3)(E_,!0),(0,Pb.u3)(Sv,!0),(0,Pb.u3)(Cv,!0),(0,Pb.u3)(Q_,!0),(0,Pb.u3)(Y_,!0),(0,Pb.u3)(b_,!0),(0,Pb.u3)(g_,!0),(0,Pb.u3)(hv,!0),(0,Pb.u3)(uv,!0),(0,Pb.u3)(eb,!0),(0,Pb.u3)(rb,!0),(0,Pb.u3)(H_,!0),(0,Pb.u3)(Yl,!0),(0,Pb.u3)(f_,!0),(0,Pb.u3)(C_,!0),(0,Pb.u3)(S_,!0),(0,Pb.u3)(function(t){return(0,Li._removeServiceInstance)(t.app,"firestore"),t._delete()},!0),(0,Pb.u3)(G_,!0),(0,Pb.u3)(Iv,!0),(0,Pb.u3)(v_,!0),(0,Pb.u3)(function(t){return gv(t=Xy(t,mv)),new M_(t,e=>J_(t,e))},!0);let LN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[xk]}),t.\u0275inj=r.cJS({providers:[],imports:[[Wb.hO.initializeApp({apiKey:"AIzaSyDH79fh2gbGeYEN6VC43shdc7FpPexsSaQ",authDomain:"frontendpia.firebaseapp.com",databaseURL:"https://frontendpia-default-rtdb.firebaseio.com",projectId:"frontendpia",storageBucket:"frontendpia.appspot.com",messagingSenderId:"773625939640",appId:"1:773625939640:web:94290c8b099b823887164d"}),DN(()=>PN()),bt,aN,JS,Fx,Ik,Zx,Sx,vO,dO,qO,AO]]}),t})();(0,r.G48)(),vt().bootstrapModule(LN).catch(t=>console.error(t))},9517:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,mG:()=>s,Jh:()=>o,XA:()=>a,CR:()=>l,ev:()=>c,qq:()=>u,FC:()=>h,KL:()=>d});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((r=r.apply(t,e||[])).next())})}function o(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function u(t){return this instanceof u?(this.v=t,this):new u(t)}function h(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof u?Promise.resolve(n.value.v).then(l,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function d(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=a(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}},6304:(t,e,n)=>{"use strict";function r(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){r(o,i,s,a,l,"next",t)}function l(t){r(o,i,s,a,l,"throw",t)}a(void 0)})}}n.d(e,{Z:()=>i})}},t=>{"use strict";t(t.s=4873)}]);